import{r as e,a as s}from"./vendor-gjBwJYS9.js";import{u as t,L as r,a,N as i,O as n,b as l,B as o,R as c,c as d}from"./router-CTSwj_PW.js";import{Q as m,k as x}from"./ui-BfA2Y7y6.js";import{c as h,a as u,F as p,b as f,d as g,E as j,e as y,f as b}from"./forms-CcukOlWw.js";import{C as N,r as v}from"./charts-1t9bby8q.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var w={exports:{}},k={},S=e,C=Symbol.for("react.element"),A=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,R=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P={key:!0,ref:!0,__self:!0,__source:!0};function D(e,s,t){var r,a={},i=null,n=null;for(r in void 0!==t&&(i=""+t),void 0!==s.key&&(i=""+s.key),void 0!==s.ref&&(n=s.ref),s)E.call(s,r)&&!P.hasOwnProperty(r)&&(a[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:C,type:e,key:i,ref:n,props:a,_owner:R.current}}k.Fragment=A,k.jsx=D,k.jsxs=D,w.exports=k;var L,T=w.exports,O=s;function F({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}L=O.createRoot,O.hydrateRoot;const M=e.forwardRef(F);function I({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const _=e.forwardRef(I);function U({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const V=e.forwardRef(U);function B({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const z=e.forwardRef(B);function q({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const $=e.forwardRef(q);function W({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const H=e.forwardRef(W);function Z({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const J=e.forwardRef(Z);function G({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const K=e.forwardRef(G);function Y({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Q=e.forwardRef(Y);function X({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ee=e.forwardRef(X);function se({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const te=e.forwardRef(se);function re({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ae=e.forwardRef(re);function ie({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ne=e.forwardRef(ie);function le({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const oe=e.forwardRef(le);function ce({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const de=e.forwardRef(ce);function me({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const xe=e.forwardRef(me);function he({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ue=e.forwardRef(he);function pe({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fe=e.forwardRef(pe);function ge({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const je=e.forwardRef(ge);function ye({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const be=e.forwardRef(ye);function Ne({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const ve=e.forwardRef(Ne);function we({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ke=e.forwardRef(we);function Se({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ce=e.forwardRef(Se);function Ae({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Ee=e.forwardRef(Ae);function Re({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Pe=e.forwardRef(Re);function De({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Le=e.forwardRef(De);function Te({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Oe=e.forwardRef(Te);function Fe({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Me=e.forwardRef(Fe);function Ie({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const _e=e.forwardRef(Ie);function Ue({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Ve=e.forwardRef(Ue);function Be({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const ze=e.forwardRef(Be);function qe({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const $e=e.forwardRef(qe);function We({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const He=e.forwardRef(We);function Ze({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Je=e.forwardRef(Ze);function Ge({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ke=e.forwardRef(Ge);function Ye({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"}))}const Qe=e.forwardRef(Ye);function Xe({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const es=e.forwardRef(Xe);function ss({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ts=e.forwardRef(ss);function rs({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const as=e.forwardRef(rs);function is({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const ns=e.forwardRef(is);function ls({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const os=e.forwardRef(ls);function cs({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ds=e.forwardRef(cs);function ms({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const xs=e.forwardRef(ms);function hs({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const us=e.forwardRef(hs);function ps(e,s){return function(){return e.apply(s,arguments)}}const{toString:fs}=Object.prototype,{getPrototypeOf:gs}=Object,{iterator:js,toStringTag:ys}=Symbol,bs=(e=>s=>{const t=fs.call(s);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=e=>(e=e.toLowerCase(),s=>bs(s)===e),vs=e=>s=>typeof s===e,{isArray:ws}=Array,ks=vs("undefined");const Ss=Ns("ArrayBuffer");const Cs=vs("string"),As=vs("function"),Es=vs("number"),Rs=e=>null!==e&&"object"==typeof e,Ps=e=>{if("object"!==bs(e))return!1;const s=gs(e);return!(null!==s&&s!==Object.prototype&&null!==Object.getPrototypeOf(s)||ys in e||js in e)},Ds=Ns("Date"),Ls=Ns("File"),Ts=Ns("Blob"),Os=Ns("FileList"),Fs=Ns("URLSearchParams"),[Ms,Is,_s,Us]=["ReadableStream","Request","Response","Headers"].map(Ns);function Vs(e,s,{allOwnKeys:t=!1}={}){if(null==e)return;let r,a;if("object"!=typeof e&&(e=[e]),ws(e))for(r=0,a=e.length;r<a;r++)s.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let n;for(r=0;r<i;r++)n=a[r],s.call(null,e[n],n,e)}}function Bs(e,s){s=s.toLowerCase();const t=Object.keys(e);let r,a=t.length;for(;a-- >0;)if(r=t[a],s===r.toLowerCase())return r;return null}const zs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,qs=e=>!ks(e)&&e!==zs;const $s=(e=>s=>e&&s instanceof e)("undefined"!=typeof Uint8Array&&gs(Uint8Array)),Ws=Ns("HTMLFormElement"),Hs=(({hasOwnProperty:e})=>(s,t)=>e.call(s,t))(Object.prototype),Zs=Ns("RegExp"),Js=(e,s)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Vs(t,(t,a)=>{let i;!1!==(i=s(t,a,e))&&(r[a]=i||t)}),Object.defineProperties(e,r)};const Gs=Ns("AsyncFunction"),Ks=(Ys="function"==typeof setImmediate,Qs=As(zs.postMessage),Ys?setImmediate:Qs?(Xs=`axios@${Math.random()}`,et=[],zs.addEventListener("message",({source:e,data:s})=>{e===zs&&s===Xs&&et.length&&et.shift()()},!1),e=>{et.push(e),zs.postMessage(Xs,"*")}):e=>setTimeout(e));var Ys,Qs,Xs,et;const st="undefined"!=typeof queueMicrotask?queueMicrotask.bind(zs):"undefined"!=typeof process&&process.nextTick||Ks,tt={isArray:ws,isArrayBuffer:Ss,isBuffer:function(e){return null!==e&&!ks(e)&&null!==e.constructor&&!ks(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let s;return e&&("function"==typeof FormData&&e instanceof FormData||As(e.append)&&("formdata"===(s=bs(e))||"object"===s&&As(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let s;return s="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ss(e.buffer),s},isString:Cs,isNumber:Es,isBoolean:e=>!0===e||!1===e,isObject:Rs,isPlainObject:Ps,isReadableStream:Ms,isRequest:Is,isResponse:_s,isHeaders:Us,isUndefined:ks,isDate:Ds,isFile:Ls,isBlob:Ts,isRegExp:Zs,isFunction:As,isStream:e=>Rs(e)&&As(e.pipe),isURLSearchParams:Fs,isTypedArray:$s,isFileList:Os,forEach:Vs,merge:function e(){const{caseless:s}=qs(this)&&this||{},t={},r=(r,a)=>{const i=s&&Bs(t,a)||a;Ps(t[i])&&Ps(r)?t[i]=e(t[i],r):Ps(r)?t[i]=e({},r):ws(r)?t[i]=r.slice():t[i]=r};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Vs(arguments[a],r);return t},extend:(e,s,t,{allOwnKeys:r}={})=>(Vs(s,(s,r)=>{t&&As(s)?e[r]=ps(s,t):e[r]=s},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,s,t,r)=>{e.prototype=Object.create(s.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,s,t,r)=>{let a,i,n;const l={};if(s=s||{},null==e)return s;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)n=a[i],r&&!r(n,e,s)||l[n]||(s[n]=e[n],l[n]=!0);e=!1!==t&&gs(e)}while(e&&(!t||t(e,s))&&e!==Object.prototype);return s},kindOf:bs,kindOfTest:Ns,endsWith:(e,s,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=s.length;const r=e.indexOf(s,t);return-1!==r&&r===t},toArray:e=>{if(!e)return null;if(ws(e))return e;let s=e.length;if(!Es(s))return null;const t=new Array(s);for(;s-- >0;)t[s]=e[s];return t},forEachEntry:(e,s)=>{const t=(e&&e[js]).call(e);let r;for(;(r=t.next())&&!r.done;){const t=r.value;s.call(e,t[0],t[1])}},matchAll:(e,s)=>{let t;const r=[];for(;null!==(t=e.exec(s));)r.push(t);return r},isHTMLForm:Ws,hasOwnProperty:Hs,hasOwnProp:Hs,reduceDescriptors:Js,freezeMethods:e=>{Js(e,(s,t)=>{if(As(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const r=e[t];As(r)&&(s.enumerable=!1,"writable"in s?s.writable=!1:s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))})},toObjectSet:(e,s)=>{const t={},r=e=>{e.forEach(e=>{t[e]=!0})};return ws(e)?r(e):r(String(e).split(s)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,t){return s.toUpperCase()+t}),noop:()=>{},toFiniteNumber:(e,s)=>null!=e&&Number.isFinite(e=+e)?e:s,findKey:Bs,global:zs,isContextDefined:qs,isSpecCompliantForm:function(e){return!!(e&&As(e.append)&&"FormData"===e[ys]&&e[js])},toJSONObject:e=>{const s=new Array(10),t=(e,r)=>{if(Rs(e)){if(s.indexOf(e)>=0)return;if(!("toJSON"in e)){s[r]=e;const a=ws(e)?[]:{};return Vs(e,(e,s)=>{const i=t(e,r+1);!ks(i)&&(a[s]=i)}),s[r]=void 0,a}}return e};return t(e,0)},isAsyncFn:Gs,isThenable:e=>e&&(Rs(e)||As(e))&&As(e.then)&&As(e.catch),setImmediate:Ks,asap:st,isIterable:e=>null!=e&&As(e[js])};function rt(e,s,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",s&&(this.code=s),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}tt.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.status}}});const at=rt.prototype,it={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{it[e]={value:e}}),Object.defineProperties(rt,it),Object.defineProperty(at,"isAxiosError",{value:!0}),rt.from=(e,s,t,r,a,i)=>{const n=Object.create(at);return tt.toFlatObject(e,n,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),rt.call(n,e.message,s,t,r,a),n.cause=e,n.name=e.name,i&&Object.assign(n,i),n};function nt(e){return tt.isPlainObject(e)||tt.isArray(e)}function lt(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function ot(e,s,t){return e?e.concat(s).map(function(e,s){return e=lt(e),!t&&s?"["+e+"]":e}).join(t?".":""):s}const ct=tt.toFlatObject(tt,{},null,function(e){return/^is[A-Z]/.test(e)});function dt(e,s,t){if(!tt.isObject(e))throw new TypeError("target must be an object");s=s||new FormData;const r=(t=tt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,s){return!tt.isUndefined(s[e])})).metaTokens,a=t.visitor||c,i=t.dots,n=t.indexes,l=(t.Blob||"undefined"!=typeof Blob&&Blob)&&tt.isSpecCompliantForm(s);if(!tt.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(tt.isDate(e))return e.toISOString();if(!l&&tt.isBlob(e))throw new rt("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(e)||tt.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,t,a){let l=e;if(e&&!a&&"object"==typeof e)if(tt.endsWith(t,"{}"))t=r?t:t.slice(0,-2),e=JSON.stringify(e);else if(tt.isArray(e)&&function(e){return tt.isArray(e)&&!e.some(nt)}(e)||(tt.isFileList(e)||tt.endsWith(t,"[]"))&&(l=tt.toArray(e)))return t=lt(t),l.forEach(function(e,r){!tt.isUndefined(e)&&null!==e&&s.append(!0===n?ot([t],r,i):null===n?t:t+"[]",o(e))}),!1;return!!nt(e)||(s.append(ot(a,t,i),o(e)),!1)}const d=[],m=Object.assign(ct,{defaultVisitor:c,convertValue:o,isVisitable:nt});if(!tt.isObject(e))throw new TypeError("data must be an object");return function e(t,r){if(!tt.isUndefined(t)){if(-1!==d.indexOf(t))throw Error("Circular reference detected in "+r.join("."));d.push(t),tt.forEach(t,function(t,i){!0===(!(tt.isUndefined(t)||null===t)&&a.call(s,t,tt.isString(i)?i.trim():i,r,m))&&e(t,r?r.concat(i):[i])}),d.pop()}}(e),s}function mt(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return s[e]})}function xt(e,s){this._pairs=[],e&&dt(e,this,s)}const ht=xt.prototype;function ut(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pt(e,s,t){if(!s)return e;const r=t&&t.encode||ut;tt.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let i;if(i=a?a(s,t):tt.isURLSearchParams(s)?s.toString():new xt(s,t).toString(r),i){const s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}ht.append=function(e,s){this._pairs.push([e,s])},ht.toString=function(e){const s=e?function(s){return e.call(this,s,mt)}:mt;return this._pairs.map(function(e){return s(e[0])+"="+s(e[1])},"").join("&")};class ft{constructor(){this.handlers=[]}use(e,s,t){return this.handlers.push({fulfilled:e,rejected:s,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tt.forEach(this.handlers,function(s){null!==s&&e(s)})}}const gt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:xt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},yt="undefined"!=typeof window&&"undefined"!=typeof document,bt="object"==typeof navigator&&navigator||void 0,Nt=yt&&(!bt||["ReactNative","NativeScript","NS"].indexOf(bt.product)<0),vt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,wt=yt&&window.location.href||"http://localhost",kt={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yt,hasStandardBrowserEnv:Nt,hasStandardBrowserWebWorkerEnv:vt,navigator:bt,origin:wt},Symbol.toStringTag,{value:"Module"})),...jt};function St(e){function s(e,t,r,a){let i=e[a++];if("__proto__"===i)return!0;const n=Number.isFinite(+i),l=a>=e.length;if(i=!i&&tt.isArray(r)?r.length:i,l)return tt.hasOwnProp(r,i)?r[i]=[r[i],t]:r[i]=t,!n;r[i]&&tt.isObject(r[i])||(r[i]=[]);return s(e,t,r[i],a)&&tt.isArray(r[i])&&(r[i]=function(e){const s={},t=Object.keys(e);let r;const a=t.length;let i;for(r=0;r<a;r++)i=t[r],s[i]=e[i];return s}(r[i])),!n}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const t={};return tt.forEachEntry(e,(e,r)=>{s(function(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,t,0)}),t}return null}const Ct={transitional:gt,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const t=s.getContentType()||"",r=t.indexOf("application/json")>-1,a=tt.isObject(e);a&&tt.isHTMLForm(e)&&(e=new FormData(e));if(tt.isFormData(e))return r?JSON.stringify(St(e)):e;if(tt.isArrayBuffer(e)||tt.isBuffer(e)||tt.isStream(e)||tt.isFile(e)||tt.isBlob(e)||tt.isReadableStream(e))return e;if(tt.isArrayBufferView(e))return e.buffer;if(tt.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,s){return dt(e,new kt.classes.URLSearchParams,Object.assign({visitor:function(e,s,t,r){return kt.isNode&&tt.isBuffer(e)?(this.append(s,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},s))}(e,this.formSerializer).toString();if((i=tt.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return dt(i?{"files[]":e}:e,s&&new s,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),function(e,s,t){if(tt.isString(e))try{return(s||JSON.parse)(e),tt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(t||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const s=this.transitional||Ct.transitional,t=s&&s.forcedJSONParsing,r="json"===this.responseType;if(tt.isResponse(e)||tt.isReadableStream(e))return e;if(e&&tt.isString(e)&&(t&&!this.responseType||r)){const t=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(t){if("SyntaxError"===a.name)throw rt.from(a,rt.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{Ct.headers[e]={}});const At=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Et=Symbol("internals");function Rt(e){return e&&String(e).trim().toLowerCase()}function Pt(e){return!1===e||null==e?e:tt.isArray(e)?e.map(Pt):String(e)}function Dt(e,s,t,r,a){return tt.isFunction(r)?r.call(this,s,t):(a&&(s=t),tt.isString(s)?tt.isString(r)?-1!==s.indexOf(r):tt.isRegExp(r)?r.test(s):void 0:void 0)}let Lt=class{constructor(e){e&&this.set(e)}set(e,s,t){const r=this;function a(e,s,t){const a=Rt(s);if(!a)throw new Error("header name must be a non-empty string");const i=tt.findKey(r,a);(!i||void 0===r[i]||!0===t||void 0===t&&!1!==r[i])&&(r[i||s]=Pt(e))}const i=(e,s)=>tt.forEach(e,(e,t)=>a(e,t,s));if(tt.isPlainObject(e)||e instanceof this.constructor)i(e,s);else if(tt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const s={};let t,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),t=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!t||s[t]&&At[t]||("set-cookie"===t?s[t]?s[t].push(r):s[t]=[r]:s[t]=s[t]?s[t]+", "+r:r)}),s})(e),s);else if(tt.isObject(e)&&tt.isIterable(e)){let t,r,a={};for(const s of e){if(!tt.isArray(s))throw TypeError("Object iterator must return a key-value pair");a[r=s[0]]=(t=a[r])?tt.isArray(t)?[...t,s[1]]:[t,s[1]]:s[1]}i(a,s)}else null!=e&&a(s,e,t);return this}get(e,s){if(e=Rt(e)){const t=tt.findKey(this,e);if(t){const e=this[t];if(!s)return e;if(!0===s)return function(e){const s=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)s[r[1]]=r[2];return s}(e);if(tt.isFunction(s))return s.call(this,e,t);if(tt.isRegExp(s))return s.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Rt(e)){const t=tt.findKey(this,e);return!(!t||void 0===this[t]||s&&!Dt(0,this[t],t,s))}return!1}delete(e,s){const t=this;let r=!1;function a(e){if(e=Rt(e)){const a=tt.findKey(t,e);!a||s&&!Dt(0,t[a],a,s)||(delete t[a],r=!0)}}return tt.isArray(e)?e.forEach(a):a(e),r}clear(e){const s=Object.keys(this);let t=s.length,r=!1;for(;t--;){const a=s[t];e&&!Dt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const s=this,t={};return tt.forEach(this,(r,a)=>{const i=tt.findKey(t,a);if(i)return s[i]=Pt(r),void delete s[a];const n=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,t)=>s.toUpperCase()+t)}(a):String(a).trim();n!==a&&delete s[a],s[n]=Pt(r),t[n]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return tt.forEach(this,(t,r)=>{null!=t&&!1!==t&&(s[r]=e&&tt.isArray(t)?t.join(", "):t)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const t=new this(e);return s.forEach(e=>t.set(e)),t}static accessor(e){const s=(this[Et]=this[Et]={accessors:{}}).accessors,t=this.prototype;function r(e){const r=Rt(e);s[r]||(!function(e,s){const t=tt.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(e,t,a){return this[r].call(this,s,e,t,a)},configurable:!0})})}(t,e),s[r]=!0)}return tt.isArray(e)?e.forEach(r):r(e),this}};function Tt(e,s){const t=this||Ct,r=s||t,a=Lt.from(r.headers);let i=r.data;return tt.forEach(e,function(e){i=e.call(t,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function Ot(e){return!(!e||!e.__CANCEL__)}function Ft(e,s,t){rt.call(this,null==e?"canceled":e,rt.ERR_CANCELED,s,t),this.name="CanceledError"}function Mt(e,s,t){const r=t.config.validateStatus;t.status&&r&&!r(t.status)?s(new rt("Request failed with status code "+t.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tt.reduceDescriptors(Lt.prototype,({value:e},s)=>{let t=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(e){this[t]=e}}}),tt.freezeMethods(Lt),tt.inherits(Ft,rt,{__CANCEL__:!0});const It=(e,s,t=3)=>{let r=0;const a=function(e,s){e=e||10;const t=new Array(e),r=new Array(e);let a,i=0,n=0;return s=void 0!==s?s:1e3,function(l){const o=Date.now(),c=r[n];a||(a=o),t[i]=l,r[i]=o;let d=n,m=0;for(;d!==i;)m+=t[d++],d%=e;if(i=(i+1)%e,i===n&&(n=(n+1)%e),o-a<s)return;const x=c&&o-c;return x?Math.round(1e3*m/x):void 0}}(50,250);return function(e,s){let t,r,a=0,i=1e3/s;const n=(s,i=Date.now())=>{a=i,t=null,r&&(clearTimeout(r),r=null),e.apply(null,s)};return[(...e)=>{const s=Date.now(),l=s-a;l>=i?n(e,s):(t=e,r||(r=setTimeout(()=>{r=null,n(t)},i-l)))},()=>t&&n(t)]}(t=>{const i=t.loaded,n=t.lengthComputable?t.total:void 0,l=i-r,o=a(l);r=i;e({loaded:i,total:n,progress:n?i/n:void 0,bytes:l,rate:o||void 0,estimated:o&&n&&i<=n?(n-i)/o:void 0,event:t,lengthComputable:null!=n,[s?"download":"upload"]:!0})},t)},_t=(e,s)=>{const t=null!=e;return[r=>s[0]({lengthComputable:t,total:e,loaded:r}),s[1]]},Ut=e=>(...s)=>tt.asap(()=>e(...s)),Vt=kt.hasStandardBrowserEnv?((e,s)=>t=>(t=new URL(t,kt.origin),e.protocol===t.protocol&&e.host===t.host&&(s||e.port===t.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,Bt=kt.hasStandardBrowserEnv?{write(e,s,t,r,a,i){const n=[e+"="+encodeURIComponent(s)];tt.isNumber(t)&&n.push("expires="+new Date(t).toGMTString()),tt.isString(r)&&n.push("path="+r),tt.isString(a)&&n.push("domain="+a),!0===i&&n.push("secure"),document.cookie=n.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function zt(e,s,t){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s);return e&&(r||0==t)?function(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}(e,s):s}const qt=e=>e instanceof Lt?{...e}:e;function $t(e,s){s=s||{};const t={};function r(e,s,t,r){return tt.isPlainObject(e)&&tt.isPlainObject(s)?tt.merge.call({caseless:r},e,s):tt.isPlainObject(s)?tt.merge({},s):tt.isArray(s)?s.slice():s}function a(e,s,t,a){return tt.isUndefined(s)?tt.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,s,0,a)}function i(e,s){if(!tt.isUndefined(s))return r(void 0,s)}function n(e,s){return tt.isUndefined(s)?tt.isUndefined(e)?void 0:r(void 0,e):r(void 0,s)}function l(t,a,i){return i in s?r(t,a):i in e?r(void 0,t):void 0}const o={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:l,headers:(e,s,t)=>a(qt(e),qt(s),0,!0)};return tt.forEach(Object.keys(Object.assign({},e,s)),function(r){const i=o[r]||a,n=i(e[r],s[r],r);tt.isUndefined(n)&&i!==l||(t[r]=n)}),t}const Wt=e=>{const s=$t({},e);let t,{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:n,headers:l,auth:o}=s;if(s.headers=l=Lt.from(l),s.url=pt(zt(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),tt.isFormData(r))if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(t=l.getContentType())){const[e,...s]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...s].join("; "))}if(kt.hasStandardBrowserEnv&&(a&&tt.isFunction(a)&&(a=a(s)),a||!1!==a&&Vt(s.url))){const e=i&&n&&Bt.read(n);e&&l.set(i,e)}return s},Ht="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(s,t){const r=Wt(e);let a=r.data;const i=Lt.from(r.headers).normalize();let n,l,o,c,d,{responseType:m,onUploadProgress:x,onDownloadProgress:h}=r;function u(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(n),r.signal&&r.signal.removeEventListener("abort",n)}let p=new XMLHttpRequest;function f(){if(!p)return;const r=Lt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Mt(function(e){s(e),u()},function(e){t(e),u()},{data:m&&"text"!==m&&"json"!==m?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=f:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(f)},p.onabort=function(){p&&(t(new rt("Request aborted",rt.ECONNABORTED,e,p)),p=null)},p.onerror=function(){t(new rt("Network Error",rt.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let s=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||gt;r.timeoutErrorMessage&&(s=r.timeoutErrorMessage),t(new rt(s,a.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,e,p)),p=null},void 0===a&&i.setContentType(null),"setRequestHeader"in p&&tt.forEach(i.toJSON(),function(e,s){p.setRequestHeader(s,e)}),tt.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),m&&"json"!==m&&(p.responseType=r.responseType),h&&([o,d]=It(h,!0),p.addEventListener("progress",o)),x&&p.upload&&([l,c]=It(x),p.upload.addEventListener("progress",l),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(n=s=>{p&&(t(!s||s.type?new Ft(null,e,p):s),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(n),r.signal&&(r.signal.aborted?n():r.signal.addEventListener("abort",n)));const g=function(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}(r.url);g&&-1===kt.protocols.indexOf(g)?t(new rt("Unsupported protocol "+g+":",rt.ERR_BAD_REQUEST,e)):p.send(a||null)})},Zt=(e,s)=>{const{length:t}=e=e?e.filter(Boolean):[];if(s||t){let t,r=new AbortController;const a=function(e){if(!t){t=!0,n();const s=e instanceof Error?e:this.reason;r.abort(s instanceof rt?s:new Ft(s instanceof Error?s.message:s))}};let i=s&&setTimeout(()=>{i=null,a(new rt(`timeout ${s} of ms exceeded`,rt.ETIMEDOUT))},s);const n=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>tt.asap(n),l}},Jt=function*(e,s){let t=e.byteLength;if(t<s)return void(yield e);let r,a=0;for(;a<t;)r=a+s,yield e.slice(a,r),a=r},Gt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const s=e.getReader();try{for(;;){const{done:e,value:t}=await s.read();if(e)break;yield t}}finally{await s.cancel()}},Kt=(e,s,t,r)=>{const a=async function*(e,s){for await(const t of Gt(e))yield*Jt(t,s)}(e,s);let i,n=0,l=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:s,value:r}=await a.next();if(s)return l(),void e.close();let i=r.byteLength;if(t){let e=n+=i;t(e)}e.enqueue(new Uint8Array(r))}catch(s){throw l(s),s}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},Yt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Qt=Yt&&"function"==typeof ReadableStream,Xt=Yt&&("function"==typeof TextEncoder?(e=>s=>e.encode(s))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),er=(e,...s)=>{try{return!!e(...s)}catch(t){return!1}},sr=Qt&&er(()=>{let e=!1;const s=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!s}),tr=Qt&&er(()=>tt.isReadableStream(new Response("").body)),rr={stream:tr&&(e=>e.body)};var ar;Yt&&(ar=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rr[e]&&(rr[e]=tt.isFunction(ar[e])?s=>s[e]():(s,t)=>{throw new rt(`Response type '${e}' is not supported`,rt.ERR_NOT_SUPPORT,t)})}));const ir=async(e,s)=>{const t=tt.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(tt.isBlob(e))return e.size;if(tt.isSpecCompliantForm(e)){const s=new Request(kt.origin,{method:"POST",body:e});return(await s.arrayBuffer()).byteLength}return tt.isArrayBufferView(e)||tt.isArrayBuffer(e)?e.byteLength:(tt.isURLSearchParams(e)&&(e+=""),tt.isString(e)?(await Xt(e)).byteLength:void 0)})(s):t},nr={http:null,xhr:Ht,fetch:Yt&&(async e=>{let{url:s,method:t,data:r,signal:a,cancelToken:i,timeout:n,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:m="same-origin",fetchOptions:x}=Wt(e);c=c?(c+"").toLowerCase():"text";let h,u=Zt([a,i&&i.toAbortSignal()],n);const p=u&&u.unsubscribe&&(()=>{u.unsubscribe()});let f;try{if(o&&sr&&"get"!==t&&"head"!==t&&0!==(f=await ir(d,r))){let e,t=new Request(s,{method:"POST",body:r,duplex:"half"});if(tt.isFormData(r)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){const[e,s]=_t(f,It(Ut(o)));r=Kt(t.body,65536,e,s)}}tt.isString(m)||(m=m?"include":"omit");const a="credentials"in Request.prototype;h=new Request(s,{...x,signal:u,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?m:void 0});let i=await fetch(h);const n=tr&&("stream"===c||"response"===c);if(tr&&(l||n&&p)){const e={};["status","statusText","headers"].forEach(s=>{e[s]=i[s]});const s=tt.toFiniteNumber(i.headers.get("content-length")),[t,r]=l&&_t(s,It(Ut(l),!0))||[];i=new Response(Kt(i.body,65536,t,()=>{r&&r(),p&&p()}),e)}c=c||"text";let g=await rr[tt.findKey(rr,c)||"text"](i,e);return!n&&p&&p(),await new Promise((s,t)=>{Mt(s,t,{data:g,headers:Lt.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:h})})}catch(g){if(p&&p(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new rt("Network Error",rt.ERR_NETWORK,e,h),{cause:g.cause||g});throw rt.from(g,g&&g.code,e,h)}})};tt.forEach(nr,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch(t){}Object.defineProperty(e,"adapterName",{value:s})}});const lr=e=>`- ${e}`,or=e=>tt.isFunction(e)||null===e||!1===e,cr=e=>{e=tt.isArray(e)?e:[e];const{length:s}=e;let t,r;const a={};for(let i=0;i<s;i++){let s;if(t=e[i],r=t,!or(t)&&(r=nr[(s=String(t)).toLowerCase()],void 0===r))throw new rt(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+i]=r}if(!r){const e=Object.entries(a).map(([e,s])=>`adapter ${e} `+(!1===s?"is not supported by the environment":"is not available in the build"));throw new rt("There is no suitable adapter to dispatch the request "+(s?e.length>1?"since :\n"+e.map(lr).join("\n"):" "+lr(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ft(null,e)}function mr(e){dr(e),e.headers=Lt.from(e.headers),e.data=Tt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cr(e.adapter||Ct.adapter)(e).then(function(s){return dr(e),s.data=Tt.call(e,e.transformResponse,s),s.headers=Lt.from(s.headers),s},function(s){return Ot(s)||(dr(e),s&&s.response&&(s.response.data=Tt.call(e,e.transformResponse,s.response),s.response.headers=Lt.from(s.response.headers))),Promise.reject(s)})}const xr="1.9.0",hr={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{hr[e]=function(t){return typeof t===e||"a"+(s<1?"n ":" ")+e}});const ur={};hr.transitional=function(e,s,t){function r(e,s){return"[Axios v1.9.0] Transitional option '"+e+"'"+s+(t?". "+t:"")}return(t,a,i)=>{if(!1===e)throw new rt(r(a," has been removed"+(s?" in "+s:"")),rt.ERR_DEPRECATED);return s&&!ur[a]&&(ur[a]=!0,console.warn(r(a," has been deprecated since v"+s+" and will be removed in the near future"))),!e||e(t,a,i)}},hr.spelling=function(e){return(s,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};const pr={assertOptions:function(e,s,t){if("object"!=typeof e)throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],n=s[i];if(n){const s=e[i],t=void 0===s||n(s,i,e);if(!0!==t)throw new rt("option "+i+" must be "+t,rt.ERR_BAD_OPTION_VALUE);continue}if(!0!==t)throw new rt("Unknown option "+i,rt.ERR_BAD_OPTION)}},validators:hr},fr=pr.validators;let gr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ft,response:new ft}}async request(e,s){try{return await this._request(e,s)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const s=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?s&&!String(t.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+s):t.stack=s}catch(r){}}throw t}}_request(e,s){"string"==typeof e?(s=s||{}).url=e:s=e||{},s=$t(this.defaults,s);const{transitional:t,paramsSerializer:r,headers:a}=s;void 0!==t&&pr.assertOptions(t,{silentJSONParsing:fr.transitional(fr.boolean),forcedJSONParsing:fr.transitional(fr.boolean),clarifyTimeoutError:fr.transitional(fr.boolean)},!1),null!=r&&(tt.isFunction(r)?s.paramsSerializer={serialize:r}:pr.assertOptions(r,{encode:fr.function,serialize:fr.function},!0)),void 0!==s.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),pr.assertOptions(s,{baseUrl:fr.spelling("baseURL"),withXsrfToken:fr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=a&&tt.merge(a.common,a[s.method]);a&&tt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),s.headers=Lt.concat(i,a);const n=[];let l=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(s)||(l=l&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,m=0;if(!l){const e=[mr.bind(this),void 0];for(e.unshift.apply(e,n),e.push.apply(e,o),d=e.length,c=Promise.resolve(s);m<d;)c=c.then(e[m++],e[m++]);return c}d=n.length;let x=s;for(m=0;m<d;){const e=n[m++],s=n[m++];try{x=e(x)}catch(h){s.call(this,h);break}}try{c=mr.call(this,x)}catch(h){return Promise.reject(h)}for(m=0,d=o.length;m<d;)c=c.then(o[m++],o[m++]);return c}getUri(e){return pt(zt((e=$t(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};tt.forEach(["delete","get","head","options"],function(e){gr.prototype[e]=function(s,t){return this.request($t(t||{},{method:e,url:s,data:(t||{}).data}))}}),tt.forEach(["post","put","patch"],function(e){function s(s){return function(t,r,a){return this.request($t(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:t,data:r}))}}gr.prototype[e]=s(),gr.prototype[e+"Form"]=s(!0)});const jr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jr).forEach(([e,s])=>{jr[s]=e});const yr=function e(s){const t=new gr(s),r=ps(gr.prototype.request,t);return tt.extend(r,gr.prototype,t,{allOwnKeys:!0}),tt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return e($t(s,t))},r}(Ct);yr.Axios=gr,yr.CanceledError=Ft,yr.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(e){s=e});const t=this;this.promise.then(e=>{if(!t._listeners)return;let s=t._listeners.length;for(;s-- >0;)t._listeners[s](e);t._listeners=null}),this.promise.then=e=>{let s;const r=new Promise(e=>{t.subscribe(e),s=e}).then(e);return r.cancel=function(){t.unsubscribe(s)},r},e(function(e,r,a){t.reason||(t.reason=new Ft(e,r,a),s(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);-1!==s&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=s=>{e.abort(s)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let s;return{token:new e(function(e){s=e}),cancel:s}}},yr.isCancel=Ot,yr.VERSION=xr,yr.toFormData=dt,yr.AxiosError=rt,yr.Cancel=yr.CanceledError,yr.all=function(e){return Promise.all(e)},yr.spread=function(e){return function(s){return e.apply(null,s)}},yr.isAxiosError=function(e){return tt.isObject(e)&&!0===e.isAxiosError},yr.mergeConfig=$t,yr.AxiosHeaders=Lt,yr.formToJSON=e=>St(tt.isHTMLForm(e)?new FormData(e):e),yr.getAdapter=cr,yr.HttpStatusCode=jr,yr.default=yr;const{Axios:br,AxiosError:Nr,CanceledError:vr,isCancel:wr,CancelToken:kr,VERSION:Sr,all:Cr,Cancel:Ar,isAxiosError:Er,spread:Rr,toFormData:Pr,AxiosHeaders:Dr,HttpStatusCode:Lr,formToJSON:Tr,getAdapter:Or,mergeConfig:Fr}=yr,Mr=yr.create({baseURL:"https://land-registry-backend-plum.vercel.app/api",headers:{"Content-Type":"application/json"},withCredentials:!0});Mr.interceptors.request.use(e=>{try{const s=localStorage.getItem("user"),t=s?null:sessionStorage.getItem("user"),r=s||t;if(r){const s=JSON.parse(r);s&&s.token&&(e.headers.Authorization=`Bearer ${s.token}`)}}catch(s){}return e},e=>Promise.reject(e)),Mr.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("user"),sessionStorage.removeItem("user")),Promise.reject(e)));const Ir=async(e,s)=>{try{console.log("Making login request for land officer:",e);const t=await Mr.post("/auth/login/land-officer",{email:e,password:s});return console.log("Login response:",t.data),t.data}catch(t){if(console.error("Land officer login error:",t),t.response)throw console.error("Error response:",t.response.data),new Error(t.response.data.message||"Login failed");throw new Error("Network error. Please check your connection.")}},_r=({showLoginSuccess:s,showLogoutSuccess:t,user:r})=>(e.useEffect(()=>{if(s||t){const e=setTimeout(()=>{},3e3);return()=>clearTimeout(e)}},[s,t]),T.jsxs(T.Fragment,{children:[s&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none px-4",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md pointer-events-auto border border-green-200 animate-bounce-in",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:T.jsx(ne,{className:"h-8 w-8 text-green-600"})}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Welcome Back!"}),T.jsxs("p",{className:"text-gray-600 mb-4",children:["You have successfully logged in as ",T.jsx("span",{className:"font-medium text-green-600",children:null==r?void 0:r.fullName})]}),T.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[T.jsx(ds,{className:"h-4 w-4"}),T.jsx("span",{className:"capitalize",children:null==r?void 0:r.role})]})]})})}),t&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none px-4",children:T.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md pointer-events-auto border border-blue-200 animate-bounce-in",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-4",children:T.jsx(ne,{className:"h-8 w-8 text-blue-600"})}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Logged Out Successfully"}),T.jsx("p",{className:"text-gray-600",children:"You have been safely logged out. Thank you for using our service!"})]})})})]})),Ur=e.createContext(),Vr=()=>e.useContext(Ur),Br=({children:s})=>{const[t,r]=e.useState(null),[a,i]=e.useState(!0),[n,l]=e.useState(!1),[o,c]=e.useState(!1);e.useEffect(()=>{let e=localStorage.getItem("user");if(e||(e=sessionStorage.getItem("user")),e)try{const s=JSON.parse(e);r(s)}catch(s){console.error("Error parsing stored user:",s),localStorage.removeItem("user"),sessionStorage.removeItem("user")}i(!1)},[]);const d={user:t,loading:a,login:async(e,s,t="user",a=!1)=>{try{let i;switch(t){case"admin":i=await(async(e,s)=>{try{console.log("Making login request for admin:",e);const t=await Mr.post("/auth/login/admin",{username:e,password:s});return console.log("Login response:",t.data),t.data}catch(t){if(console.error("Admin login error:",t),t.response)throw console.error("Error response:",t.response.data),new Error(t.response.data.message||"Login failed");throw new Error("Network error. Please check your connection.")}})(e,s);break;case"landOfficer":i=await Ir(e,s);break;default:i=await(async(e,s)=>{var t;try{return(await Mr.post("/auth/login",{email:e,password:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Login failed"}}})(e,s)}return a?(localStorage.setItem("user",JSON.stringify(i)),sessionStorage.removeItem("user")):(sessionStorage.setItem("user",JSON.stringify(i)),localStorage.removeItem("user")),r(i),l(!0),setTimeout(()=>l(!1),3e3),{success:!0,user:i}}catch(i){return console.error("Login error:",i),{success:!1,message:i.message||"Login failed. Please check your credentials.",error:i.message||"Login failed. Please check your credentials."}}},register:async e=>{var s,t;try{const s=await(async e=>{var s;try{return(await Mr.post("/auth/register",e)).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Registration failed"}}})(e);return{success:!0,user:s}}catch(r){console.error("Registration error in context:",r);let e="Registration failed";return r.message?e=r.message:(null==(t=null==(s=r.response)?void 0:s.data)?void 0:t.message)?e=r.response.data.message:"string"==typeof r&&(e=r),{success:!1,error:e}}},logout:()=>{localStorage.removeItem("user"),sessionStorage.removeItem("user"),r(null),c(!0),setTimeout(()=>c(!1),3e3)},isAuthenticated:()=>!!t,hasRole:e=>!!t&&(Array.isArray(e)?e.includes(t.role):t.role===e),loginWithUserObject:(e,s=!0)=>{try{return s?(localStorage.setItem("user",JSON.stringify(e)),sessionStorage.removeItem("user")):(sessionStorage.setItem("user",JSON.stringify(e)),localStorage.removeItem("user")),r(e),l(!0),setTimeout(()=>l(!1),3e3),{success:!0,user:e}}catch(t){return console.error("Login with user object error:",t),{success:!1,error:t.message||"Login failed"}}},showLoginSuccess:n,showLogoutSuccess:o};return T.jsxs(Ur.Provider,{value:d,children:[!a&&s,T.jsx(_r,{showLoginSuccess:n,showLogoutSuccess:o,user:t})]})},zr=()=>{const[s,a]=e.useState(!1),i=t(),{user:n,logout:l,isAuthenticated:o}=Vr(),c=()=>{a(!s)},d=()=>{l(),i("/"),c()};return T.jsx("header",{className:"bg-primary text-white shadow-md",children:T.jsxs("div",{className:"container mx-auto px-4 py-3",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx(r,{to:"/",className:"text-2xl font-bold",children:"Land Registry"}),T.jsxs("nav",{className:"hidden md:flex space-x-6",children:[T.jsx(r,{to:"/",className:"hover:text-secondary transition-colors",children:"Home"}),T.jsx(r,{to:"/about",className:"hover:text-secondary transition-colors",children:"About"}),T.jsx(r,{to:"/services",className:"hover:text-secondary transition-colors",children:"Services"}),T.jsx(r,{to:"/contact",className:"hover:text-secondary transition-colors",children:"Contact"}),o()?T.jsxs("div",{className:"relative group",children:[T.jsx("button",{className:"hover:text-secondary transition-colors",children:n.fullName}),T.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block",children:[T.jsx(r,{to:`/dashboard/${n.role}`,className:"block px-4 py-2 text-gray-800 hover:bg-primary-lighter hover:text-white",children:"Dashboard"}),T.jsx(r,{to:"/profile",className:"block px-4 py-2 text-gray-800 hover:bg-primary-lighter hover:text-white",children:"Profile"}),T.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-accent hover:text-white",children:"Logout"})]})]}):T.jsxs("div",{className:"flex space-x-3",children:[T.jsx(r,{to:"/login/land-officer",className:"hover:text-secondary transition-colors",children:"Login"}),T.jsx(r,{to:"/admin-login",className:"hover:text-secondary transition-colors",children:"Admin"})]})]}),T.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:c,children:s?T.jsx(us,{className:"h-6 w-6"}):T.jsx(K,{className:"h-6 w-6"})})]}),s&&T.jsxs("nav",{className:"md:hidden mt-4 space-y-3 pb-3",children:[T.jsx(r,{to:"/",className:"block hover:text-secondary transition-colors",onClick:c,children:"Home"}),T.jsx(r,{to:"/about",className:"block hover:text-secondary transition-colors",onClick:c,children:"About"}),T.jsx(r,{to:"/services",className:"block hover:text-secondary transition-colors",onClick:c,children:"Services"}),T.jsx(r,{to:"/contact",className:"block hover:text-secondary transition-colors",onClick:c,children:"Contact"}),o()?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"mb-3 px-2 py-1 bg-primary-dark rounded-md",children:T.jsx("span",{children:n.fullName})}),T.jsx(r,{to:`/dashboard/${n.role}`,className:"block hover:text-secondary transition-colors",onClick:c,children:"Dashboard"}),T.jsx(r,{to:"/profile",className:"block hover:text-secondary transition-colors",onClick:c,children:"Profile"}),T.jsx("button",{onClick:d,className:"block w-full text-left text-accent hover:text-white hover:bg-accent px-2 py-1 rounded mt-2",children:"Logout"})]}):T.jsxs("div",{className:"flex flex-col space-y-2",children:[T.jsx(r,{to:"/login",className:"block hover:text-secondary transition-colors py-1",onClick:c,children:"User Login"}),T.jsx(r,{to:"/admin-login",className:"block hover:text-secondary transition-colors py-1",onClick:c,children:"Admin Login"}),T.jsx("div",{className:"border-t border-gray-200 my-2 pt-2"}),T.jsx(r,{to:"/register",className:"bg-secondary text-white px-4 py-1 rounded-md hover:bg-secondary-dark transition-colors inline-block text-center",onClick:c,children:"Register"})]})]})]})})},qr=()=>{const e=(new Date).getFullYear();return T.jsx("footer",{className:"bg-gray-800 text-white",children:T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"col-span-1 md:col-span-1",children:[T.jsx(r,{to:"/",className:"text-2xl font-bold text-secondary",children:"Land Registry"}),T.jsx("p",{className:"mt-2 text-gray-300",children:"Streamlining land administration with modern, secure, and user-friendly solutions."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-secondary",children:"Quick Links"}),T.jsxs("ul",{className:"space-y-2",children:[T.jsx("li",{children:T.jsx(r,{to:"/",className:"text-gray-300 hover:text-secondary transition-colors",children:"Home"})}),T.jsx("li",{children:T.jsx(r,{to:"/about",className:"text-gray-300 hover:text-secondary transition-colors",children:"About Us"})}),T.jsx("li",{children:T.jsx(r,{to:"/services",className:"text-gray-300 hover:text-secondary transition-colors",children:"Services"})}),T.jsx("li",{children:T.jsx(r,{to:"/contact",className:"text-gray-300 hover:text-secondary transition-colors",children:"Contact Us"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-secondary",children:"Services"}),T.jsxs("ul",{className:"space-y-2",children:[T.jsx("li",{children:T.jsx(r,{to:"/login",className:"text-gray-300 hover:text-secondary transition-colors",children:"Property Registration"})}),T.jsx("li",{children:T.jsx(r,{to:"/login",className:"text-gray-300 hover:text-secondary transition-colors",children:"Document Management"})}),T.jsx("li",{children:T.jsx(r,{to:"/login",className:"text-gray-300 hover:text-secondary transition-colors",children:"Payment Processing"})}),T.jsx("li",{children:T.jsx(r,{to:"/login",className:"text-gray-300 hover:text-secondary transition-colors",children:"Property Tracking"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-secondary",children:"Contact Us"}),T.jsxs("address",{className:"not-italic text-gray-300",children:[T.jsx("p",{children:"City Administration"}),T.jsx("p",{children:"Land Management Bureau"}),T.jsx("p",{children:"Central District, Block 02"}),T.jsx("p",{children:"Government Complex"}),T.jsx("p",{className:"mt-2",children:T.jsx("a",{href:"tel:+1234567890",className:"hover:text-secondary transition-colors",children:"+1 (234) 567-890"})}),T.jsx("p",{children:T.jsx("a",{href:"mailto:info@landregistry.gov",className:"hover:text-secondary transition-colors",children:"info@landregistry.gov"})})]})]})]}),T.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-gray-400",children:[T.jsxs("p",{className:"text-center md:text-left mb-4 md:mb-0",children:["© ",e," Land Registry - Property Registration System. All rights reserved."]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(r,{to:"/privacy-policy",className:"hover:text-secondary transition-colors text-sm",children:"Privacy Policy"}),T.jsx(r,{to:"/terms-of-service",className:"hover:text-secondary transition-colors text-sm",children:"Terms of Service"}),T.jsx(r,{to:"/faq",className:"hover:text-secondary transition-colors text-sm",children:"FAQ"}),T.jsx("span",{className:"text-gray-600",children:"|"}),T.jsx(r,{to:"/admin-login",className:"text-xs text-gray-500 hover:text-secondary transition-colors border border-gray-600 px-2 py-1 rounded hover:border-secondary",title:"Administrative Access",children:"Admin"})]})]})})]})})},$r=e.createContext(),Wr=()=>e.useContext($r),Hr=({children:s})=>{const[t,r]=e.useState([]),[a,i]=e.useState(0);e.useEffect(()=>{const e=localStorage.getItem("notifications");if(e)try{const s=JSON.parse(e);r(s);const t=s.filter(e=>!e.read).length;i(t)}catch(s){console.error("Error parsing stored notifications:",s),localStorage.removeItem("notifications")}},[]),e.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(t));const e=t.filter(e=>!e.read).length;i(e)},[t]);const n=e.useCallback(e=>{const s={id:Date.now().toString(),timestamp:(new Date).toISOString(),read:!1,...e};return r(e=>[s,...e]),e.showToast&&m[e.type||"info"](e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),s.id},[]),l=e.useCallback(e=>{r(s=>s.map(s=>s.id===e?{...s,read:!0}:s))},[]),o=e.useCallback(()=>{r(e=>e.map(e=>({...e,read:!0})))},[]),c=e.useCallback(e=>{r(s=>s.filter(s=>s.id!==e))},[]),d=e.useCallback(()=>{r([])},[]),x=e.useCallback(()=>t,[t]),h=e.useCallback(()=>t.filter(e=>!e.read),[t]),u={notifications:t,unreadCount:a,addNotification:n,markAsRead:l,markAllAsRead:o,deleteNotification:c,clearAllNotifications:d,getAllNotifications:x,getUnreadNotifications:h};return T.jsx($r.Provider,{value:u,children:s})},Zr=async(e,s={})=>{var t;try{return(await Mr.get("/search/global",{params:{q:e,...s}})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to perform global search"}}},Jr=async(e,s="all")=>{var t;try{return(await Mr.get("/search/suggestions",{params:{q:e,type:s}})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to get search suggestions"}}},Gr=({isOpen:s,onClose:r,className:a=""})=>{const[i,n]=e.useState(""),[l,o]=e.useState([]),[c,d]=e.useState([]),[x,h]=e.useState([]),[u,p]=e.useState(!1),[f,g]=e.useState(!1),[j,y]=e.useState(-1),{user:b}=Vr(),N=t(),v=e.useRef(null),w=e.useRef(null);e.useEffect(()=>{var e;s&&(k(),null==(e=v.current)||e.focus())},[s]),e.useEffect(()=>{const e=setTimeout(()=>{i.trim().length>2?(S(),C()):(o([]),d([]),g(!1))},300);return()=>clearTimeout(e)},[i]);const k=async()=>{try{const e=await(async()=>{var e;try{return(await Mr.get("/search/recent")).data}catch(s){throw(null==(e=s.response)?void 0:e.data)||{message:"Failed to get recent searches"}}})();h(e.slice(0,5))}catch(e){console.error("Error loading recent searches:",e)}},S=async()=>{if(i.trim()){p(!0);try{const e=await Zr(i,{userRole:null==b?void 0:b.role,limit:10});o(e),g(!0)}catch(e){console.error("Search error:",e),m.error("Search failed. Please try again.")}finally{p(!1)}}},C=async()=>{try{const e=await Jr(i);d(e.slice(0,5))}catch(e){console.error("Error getting suggestions:",e)}},A=e=>{const s=E(e);s&&(N(s),r())},E=e=>{switch(e.type){case"property":return`/property/${e.id}`;case"application":return`/application/${e.id}`;case"user":return"admin"===(null==b?void 0:b.role)?`/admin/users/${e.id}`:null;case"public_record":return`/land-officer/public-records/${e.id}`;default:return null}},R=e=>{switch(e){case"property":return T.jsx(Me,{className:"h-5 w-5 text-primary"});case"application":return T.jsx(Ce,{className:"h-5 w-5 text-secondary"});case"user":return T.jsx(ds,{className:"h-5 w-5 text-accent"});case"public_record":return T.jsx($e,{className:"h-5 w-5 text-green-600"});default:return T.jsx(Ce,{className:"h-5 w-5 text-gray-500"})}};return s?T.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:T.jsxs("div",{className:"flex min-h-screen items-start justify-center p-4 pt-16",children:[T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:r}),T.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-lg shadow-xl",children:[T.jsxs("div",{className:"flex items-center p-4 border-b",children:[T.jsx(ze,{className:"h-5 w-5 text-gray-400 mr-3"}),T.jsx("input",{ref:v,type:"text",placeholder:"Search properties, applications, users...",className:"flex-1 outline-none text-lg",value:i,onChange:e=>n(e.target.value),onKeyDown:e=>{if(f)switch(e.key){case"ArrowDown":e.preventDefault(),y(e=>e<l.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),y(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),j>=0&&l[j]&&A(l[j]);break;case"Escape":r()}}}),u&&T.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary mr-3"}),T.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:T.jsx(us,{className:"h-5 w-5 text-gray-400"})})]}),T.jsxs("div",{ref:w,className:"max-h-96 overflow-y-auto",children:[f&&l.length>0&&T.jsxs("div",{className:"p-2",children:[T.jsx("h3",{className:"text-sm font-medium text-gray-500 px-3 py-2",children:"Search Results"}),l.map((e,s)=>T.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 flex items-center "+(j===s?"bg-gray-50":""),onClick:()=>A(e),children:[T.jsx("div",{className:"mr-3",children:R(e.type)}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"font-medium text-gray-900",children:e.title}),T.jsx("p",{className:"text-sm text-gray-500",children:e.description})]}),T.jsx("span",{className:"text-xs text-gray-400 capitalize",children:e.type.replace("_"," ")})]},`${e.type}-${e.id}`))]}),!f&&x.length>0&&T.jsxs("div",{className:"p-2",children:[T.jsxs("h3",{className:"text-sm font-medium text-gray-500 px-3 py-2 flex items-center",children:[T.jsx(fe,{className:"h-4 w-4 mr-2"}),"Recent Searches"]}),x.map((e,s)=>T.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 flex items-center",onClick:()=>n(e.query),children:[T.jsx(fe,{className:"h-4 w-4 text-gray-400 mr-3"}),T.jsx("span",{className:"text-gray-700",children:e.query})]},s))]}),f&&0===l.length&&!u&&T.jsxs("div",{className:"p-8 text-center text-gray-500",children:[T.jsx(ze,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),T.jsxs("p",{children:['No results found for "',i,'"']}),T.jsx("p",{className:"text-sm mt-1",children:"Try different keywords or check your spelling"})]})]})]})]})}):null},Kr=()=>{const[s,t]=e.useState(!1),{notifications:a,unreadCount:i,markAsRead:n,markAllAsRead:l}=Wr(),o=e.useRef(null);e.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&t(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const c=e=>{const s=new Date(e),t=new Date,r=Math.floor((t-s)/1e3);if(r<60)return"Just now";if(r<3600){const e=Math.floor(r/60);return`${e} ${1===e?"minute":"minutes"} ago`}if(r<86400){const e=Math.floor(r/3600);return`${e} ${1===e?"hour":"hours"} ago`}{const e=Math.floor(r/86400);return`${e} ${1===e?"day":"days"} ago`}};return T.jsxs("div",{className:"relative",ref:o,children:[T.jsxs("button",{className:"relative p-1 rounded-full text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary",onClick:()=>{t(!s)},children:[T.jsx(Q,{className:"h-6 w-6"}),i>0&&T.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-accent rounded-full",children:i>9?"9+":i})]}),s&&T.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg py-1 z-10 max-h-96 overflow-y-auto",children:[T.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex justify-between items-center",children:[T.jsx("h3",{className:"text-sm font-semibold",children:"Notifications"}),i>0&&T.jsxs("button",{onClick:e=>{e.stopPropagation(),l()},className:"text-xs text-primary hover:text-primary-dark flex items-center",children:[T.jsx(oe,{className:"h-3 w-3 mr-1"}),"Mark all as read"]})]}),0===a.length?T.jsx("div",{className:"px-4 py-6 text-center text-gray-500",children:T.jsx("p",{children:"No notifications"})}):T.jsxs(T.Fragment,{children:[a.slice(0,5).map(e=>T.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 hover:bg-gray-50 "+(e.read?"":"bg-blue-50"),children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("p",{className:"text-sm font-medium",children:e.title}),T.jsx("span",{className:"text-xs text-gray-500",children:c(e.timestamp)})]}),T.jsx("p",{className:"text-xs text-gray-600 mt-1",children:e.message}),!e.read&&T.jsxs("button",{onClick:s=>{return t=e.id,s.stopPropagation(),void n(t);var t},className:"text-xs text-primary hover:text-primary-dark mt-1 flex items-center",children:[T.jsx(oe,{className:"h-3 w-3 mr-1"}),"Mark as read"]})]},e.id)),T.jsx("div",{className:"px-4 py-2 text-center",children:T.jsx(r,{to:"/notifications",className:"text-sm text-primary hover:text-primary-dark",onClick:()=>t(!1),children:"View all notifications"})})]})]})]})},Yr=({children:s})=>{var i;const{user:n,logout:l}=Vr(),{unreadCount:o}=Wr(),c=t(),d=a(),[m,x]=e.useState(!1),[h,u]=e.useState(!1);e.useEffect(()=>{const e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),u(!0))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);const p=(()=>{const e=[{name:"Dashboard",icon:T.jsx(Me,{className:"w-5 h-5"}),path:"landOfficer"===(null==n?void 0:n.role)?"/landofficer/dashboard":"admin"===(null==n?void 0:n.role)?"/admin/dashboard":"/dashboard/user"}];return"user"===(null==n?void 0:n.role)?[...e,{name:"Register Property",icon:T.jsx(Ke,{className:"w-5 h-5"}),path:"/property/register"},{name:"My Properties",icon:T.jsx(Me,{className:"w-5 h-5"}),path:"/properties"},{name:"Payments",icon:T.jsx(be,{className:"w-5 h-5"}),path:"/payments"},{name:"Notifications",icon:T.jsx(Q,{className:"w-5 h-5"}),path:"/notifications"},{name:"Profile",icon:T.jsx(as,{className:"w-5 h-5"}),path:"/profile"}]:"landOfficer"===(null==n?void 0:n.role)?[...e,{name:"Property Verification",icon:T.jsx(ke,{className:"w-5 h-5"}),path:"/landofficer/property-verification"},{name:"Document Validation",icon:T.jsx(Ce,{className:"w-5 h-5"}),path:"/landofficer/document-validation"},{name:"Payment Verification",icon:T.jsx(be,{className:"w-5 h-5"}),path:"/landofficer/payment-verification"},{name:"Reports",icon:T.jsx(ae,{className:"w-5 h-5"}),path:"/landofficer/reports"},{name:"Profile",icon:T.jsx(as,{className:"w-5 h-5"}),path:"/landofficer/profile"}]:"admin"===(null==n?void 0:n.role)?[...e,{name:"Users",icon:T.jsx(ns,{className:"w-5 h-5"}),path:"/admin/users"},{name:"Properties",icon:T.jsx(Ce,{className:"w-5 h-5"}),path:"/admin/properties"},{name:"Land Officers",icon:T.jsx(ns,{className:"w-5 h-5"}),path:"/admin/land-officers"},{name:"Dispute Management",icon:T.jsx(Pe,{className:"w-5 h-5"}),path:"/admin/disputes"},{name:"Transfer Management",icon:T.jsx(H,{className:"w-5 h-5"}),path:"/admin/transfers"},{name:"Reports",icon:T.jsx(ae,{className:"w-5 h-5"}),path:"/admin/reports"},{name:"Settings",icon:T.jsx(je,{className:"w-5 h-5"}),path:"/admin/settings"}]:e})();return T.jsxs("div",{className:"flex h-screen bg-gray-100",children:[m&&T.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:()=>x(!1)}),T.jsxs("div",{className:"fixed inset-y-0 left-0 z-30 w-64 bg-primary text-white transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 "+(m?"translate-x-0":"-translate-x-full"),children:[T.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-primary-dark",children:[T.jsx(r,{to:"/",className:"text-xl font-bold",children:"Land Registry"}),T.jsx("button",{className:"p-1 rounded-md lg:hidden focus:outline-none focus:ring-2 focus:ring-white",onClick:()=>x(!1),children:T.jsx(us,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"px-4 py-6",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("div",{className:"text-sm opacity-75",children:"Logged in as"}),T.jsx("div",{className:"font-semibold",children:(null==n?void 0:n.fullName)||"User"}),T.jsx("div",{className:"text-sm opacity-75 capitalize",children:(null==n?void 0:n.role)||"user"})]}),T.jsxs("nav",{className:"space-y-1",children:[p.map(e=>T.jsxs(r,{to:e.path,className:"flex items-center px-4 py-3 rounded-md transition-colors "+(d.pathname===e.path?"bg-white text-primary":"text-white hover:bg-primary-dark"),children:[T.jsx("span",{className:"mr-3",children:e.icon}),e.name]},e.path)),T.jsxs("button",{onClick:()=>{l(),c("/")},className:"flex items-center w-full px-4 py-3 rounded-md text-white hover:bg-primary-dark transition-colors",children:[T.jsx(V,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]})]}),T.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[T.jsxs("header",{className:"flex items-center justify-between h-16 px-6 bg-white border-b",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("button",{className:"p-1 rounded-md lg:hidden focus:outline-none focus:ring-2 focus:ring-primary mr-4",onClick:()=>x(!0),children:T.jsx(K,{className:"w-6 h-6"})}),T.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 text-sm text-gray-500 bg-gray-100 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-primary",children:[T.jsx(ze,{className:"w-4 h-4 mr-2"}),T.jsx("span",{className:"hidden sm:inline",children:"Search everything..."}),T.jsx("span",{className:"sm:hidden",children:"Search"}),T.jsx("kbd",{className:"hidden sm:inline-flex ml-2 px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-200 border border-gray-300 rounded",children:"⌘K"})]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("span",{className:"text-sm text-gray-500 hidden md:block",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),T.jsx(Kr,{}),T.jsx("div",{className:"relative",children:T.jsx("button",{className:"flex items-center focus:outline-none",children:T.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center",children:(null==(i=null==n?void 0:n.fullName)?void 0:i.charAt(0))||"U"})})})]})]}),T.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:s})]}),T.jsx(Gr,{isOpen:h,onClose:()=>u(!1)})]})},Qr=({allowedRoles:e})=>{const{isAuthenticated:s,hasRole:t,loading:r,user:l}=Vr(),o=a();return r?null:s()?e&&!t(e)?l&&"admin"===l.role?T.jsx(i,{to:"/admin/dashboard",replace:!0}):l&&"landOfficer"===l.role?T.jsx(i,{to:"/landofficer/dashboard",replace:!0}):T.jsx(i,{to:"/login/land-officer",state:{from:o},replace:!0}):T.jsx(n,{}):o.pathname.startsWith("/admin")?T.jsx(i,{to:"/admin-login",state:{from:o},replace:!0}):(o.pathname.startsWith("/landofficer"),T.jsx(i,{to:"/login/land-officer",state:{from:o},replace:!0}))},Xr=()=>T.jsxs("div",{className:"container mx-auto px-4 py-12",children:[T.jsx("div",{className:"bg-primary text-white rounded-lg p-8 mb-12",children:T.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[T.jsx("h1",{className:"text-4xl font-bold mb-4",children:"About Land Registry"}),T.jsx("p",{className:"text-xl",children:"Transforming property registration through innovation, transparency, and efficiency."})]})}),T.jsx("div",{className:"max-w-4xl mx-auto mb-16",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Our Mission"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"To provide a secure, efficient, and transparent property registration system that ensures legal certainty of land ownership, facilitates economic development, and promotes public trust in land administration."}),T.jsx("p",{className:"text-gray-700",children:"We strive to make property registration accessible to all citizens through innovative technology and streamlined processes."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Our Vision"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"To be the leading digital platform for property registration, setting the standard for excellence in land administration through innovation, integrity, and service."}),T.jsx("p",{className:"text-gray-700",children:"We envision a future where property rights are secure, transactions are seamless, and land information is accessible to all stakeholders."})]})]})}),T.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Our Story"}),T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md",children:[T.jsx("p",{className:"text-gray-700 mb-4",children:"Land Registry was established in 2023 with a clear purpose: to transform the traditional property registration system into a modern, digital platform that serves the needs of all citizens."}),T.jsx("p",{className:"text-gray-700 mb-4",children:"For decades, property registration was a cumbersome process involving multiple visits to government offices, lengthy paperwork, and significant delays. Recognizing these challenges, our team of experts in land administration, technology, and public service came together to create a solution."}),T.jsx("p",{className:"text-gray-700 mb-4",children:"We began by digitizing existing land records and developing a secure online platform that allows property owners to register their land, track their applications, and access their documents from anywhere. Our system has significantly reduced processing times, minimized errors, and improved transparency in land administration."}),T.jsx("p",{className:"text-gray-700",children:"Today, Land Registry serves thousands of property owners, real estate professionals, and government officials, contributing to economic development and secure property rights for all."})]})]}),T.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Our Core Values"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-primary-lighter rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Integrity"}),T.jsx("p",{className:"text-gray-700",children:"We uphold the highest standards of honesty, ethics, and professionalism in all our actions."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-primary-lighter rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Innovation"}),T.jsx("p",{className:"text-gray-700",children:"We continuously seek new and better ways to serve our users and improve land administration."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-primary-lighter rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Inclusivity"}),T.jsx("p",{className:"text-gray-700",children:"We ensure our services are accessible to all citizens, regardless of location or background."})]})]})]}),T.jsxs("div",{className:"max-w-4xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Our Leadership Team"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full mx-auto mb-4 overflow-hidden",children:T.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"CEO",className:"w-full h-full object-cover"})}),T.jsx("h3",{className:"text-xl font-semibold mb-1",children:"David Johnson"}),T.jsx("p",{className:"text-gray-500 mb-3",children:"Chief Executive Officer"}),T.jsx("p",{className:"text-gray-700 text-sm",children:"With over 20 years of experience in land administration and public service."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full mx-auto mb-4 overflow-hidden",children:T.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"CTO",className:"w-full h-full object-cover"})}),T.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Sarah Chen"}),T.jsx("p",{className:"text-gray-500 mb-3",children:"Chief Technology Officer"}),T.jsx("p",{className:"text-gray-700 text-sm",children:"Leading our digital transformation with expertise in secure government systems."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[T.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full mx-auto mb-4 overflow-hidden",children:T.jsx("img",{src:"https://randomuser.me/api/portraits/men/67.jpg",alt:"COO",className:"w-full h-full object-cover"})}),T.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Michael Okafor"}),T.jsx("p",{className:"text-gray-500 mb-3",children:"Chief Operations Officer"}),T.jsx("p",{className:"text-gray-700 text-sm",children:"Ensuring efficient service delivery and continuous process improvement."})]})]})]}),T.jsxs("div",{className:"bg-primary text-white rounded-lg p-8 text-center",children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join Us in Transforming Land Administration"}),T.jsx("p",{className:"text-xl mb-6 max-w-2xl mx-auto",children:"Whether you're registering your property or seeking information about land ownership, we're here to help you navigate the process with ease."}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[T.jsx(r,{to:"/register",className:"bg-white text-primary px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors",children:"Register Now"}),T.jsx(r,{to:"/contact",className:"bg-transparent border-2 border-white text-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-primary transition-colors",children:"Contact Us"})]})]})]}),ea=()=>T.jsxs("div",{className:"container mx-auto px-4 py-12",children:[T.jsx("div",{className:"bg-primary text-white rounded-lg p-8 mb-12",children:T.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[T.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Our Services"}),T.jsx("p",{className:"text-xl",children:"Comprehensive property registration and land administration services to meet your needs."})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Core Services"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[T.jsx("div",{className:"w-14 h-14 bg-primary-lighter rounded-full flex items-center justify-center mb-4",children:T.jsx(Me,{className:"h-8 w-8 text-primary"})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Property Registration"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"Register your property with our streamlined online system. Our digital platform simplifies the process, reducing paperwork and processing time."}),T.jsxs("ul",{className:"text-gray-700 space-y-2 mb-4",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"New property registration"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Transfer of ownership"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Property subdivision"]})]}),T.jsx(r,{to:"/register",className:"text-primary font-medium hover:text-primary-dark",children:"Get Started →"})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[T.jsx("div",{className:"w-14 h-14 bg-primary-lighter rounded-full flex items-center justify-center mb-4",children:T.jsx(Ce,{className:"h-8 w-8 text-primary"})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Document Verification"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"Our expert team verifies all property documents to ensure legal compliance and authenticity, protecting your investment and providing peace of mind."}),T.jsxs("ul",{className:"text-gray-700 space-y-2 mb-4",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Title deed verification"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Survey plan validation"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Legal document authentication"]})]}),T.jsx(r,{to:"/login",className:"text-primary font-medium hover:text-primary-dark",children:"Learn More →"})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow",children:[T.jsx("div",{className:"w-14 h-14 bg-primary-lighter rounded-full flex items-center justify-center mb-4",children:T.jsx(ve,{className:"h-8 w-8 text-primary"})}),T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Certificate Issuance"}),T.jsx("p",{className:"text-gray-700 mb-4",children:"Receive official property certificates and documentation through our secure system, with options for digital and physical copies."}),T.jsxs("ul",{className:"text-gray-700 space-y-2 mb-4",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Digital certificates"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Physical certificate delivery"]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx("span",{className:"text-primary mr-2",children:"✓"}),"Certificate replacement"]})]}),T.jsx(r,{to:"/login",className:"text-primary font-medium hover:text-primary-dark",children:"Request Certificate →"})]})]})]}),T.jsxs("div",{className:"max-w-6xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Additional Services"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex",children:[T.jsx("div",{className:"mr-4",children:T.jsx("div",{className:"w-12 h-12 bg-primary-lighter rounded-full flex items-center justify-center",children:T.jsx(ze,{className:"h-6 w-6 text-primary"})})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Property Search"}),T.jsx("p",{className:"text-gray-700",children:"Search our comprehensive database for property information, ownership history, and legal status. Access detailed property records with our user-friendly search tools."})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex",children:[T.jsx("div",{className:"mr-4",children:T.jsx("div",{className:"w-12 h-12 bg-primary-lighter rounded-full flex items-center justify-center",children:T.jsx($,{className:"h-6 w-6 text-primary"})})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Property Updates"}),T.jsx("p",{className:"text-gray-700",children:"Update your property information, including boundary changes, improvements, and usage modifications. Keep your property records current and accurate."})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex",children:[T.jsx("div",{className:"mr-4",children:T.jsx("div",{className:"w-12 h-12 bg-primary-lighter rounded-full flex items-center justify-center",children:T.jsx(es,{className:"h-6 w-6 text-primary"})})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Dispute Resolution"}),T.jsx("p",{className:"text-gray-700",children:"Our specialized team assists in resolving property disputes through mediation and legal guidance, helping to protect your property rights."})]})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md flex",children:[T.jsx("div",{className:"mr-4",children:T.jsx("div",{className:"w-12 h-12 bg-primary-lighter rounded-full flex items-center justify-center",children:T.jsx(ns,{className:"h-6 w-6 text-primary"})})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Advisory Services"}),T.jsx("p",{className:"text-gray-700",children:"Get expert advice on property registration, land use regulations, and legal requirements from our knowledgeable team of land administration professionals."})]})]})]})]}),T.jsxs("div",{className:"max-w-5xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Our Registration Process"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"hidden md:block absolute left-1/2 top-0 bottom-0 w-1 bg-primary-lighter transform -translate-x-1/2"}),T.jsxs("div",{className:"space-y-12",children:[T.jsxs("div",{className:"relative flex flex-col md:flex-row items-center",children:[T.jsxs("div",{className:"md:w-1/2 md:pr-12 md:text-right mb-4 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Account Creation"}),T.jsx("p",{className:"text-gray-700",children:"Register for an account on our platform to access our services. Provide basic information and verify your identity to get started."})]}),T.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 bg-primary text-white rounded-full",children:"1"}),T.jsx("div",{className:"md:w-1/2 md:pl-12 hidden md:block"})]}),T.jsxs("div",{className:"relative flex flex-col md:flex-row items-center",children:[T.jsx("div",{className:"md:w-1/2 md:pr-12 hidden md:block"}),T.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 bg-primary text-white rounded-full",children:"2"}),T.jsxs("div",{className:"md:w-1/2 md:pl-12 mb-4 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Document Submission"}),T.jsx("p",{className:"text-gray-700",children:"Upload all required documents, including proof of ownership, survey plans, and identification. Our system accepts various file formats for your convenience."})]})]}),T.jsxs("div",{className:"relative flex flex-col md:flex-row items-center",children:[T.jsxs("div",{className:"md:w-1/2 md:pr-12 md:text-right mb-4 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verification Process"}),T.jsx("p",{className:"text-gray-700",children:"Our land officers review your documents and verify their authenticity. This thorough process ensures the legal validity of your property registration."})]}),T.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 bg-primary text-white rounded-full",children:"3"}),T.jsx("div",{className:"md:w-1/2 md:pl-12 hidden md:block"})]}),T.jsxs("div",{className:"relative flex flex-col md:flex-row items-center",children:[T.jsx("div",{className:"md:w-1/2 md:pr-12 hidden md:block"}),T.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 bg-primary text-white rounded-full",children:"4"}),T.jsxs("div",{className:"md:w-1/2 md:pl-12 mb-4 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fee Payment"}),T.jsx("p",{className:"text-gray-700",children:"Pay the required registration fees through our secure payment gateway. We offer multiple payment options for your convenience."})]})]}),T.jsxs("div",{className:"relative flex flex-col md:flex-row items-center",children:[T.jsxs("div",{className:"md:w-1/2 md:pr-12 md:text-right mb-4 md:mb-0",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Certificate Issuance"}),T.jsx("p",{className:"text-gray-700",children:"Receive your official property registration certificate, available in both digital and physical formats. Your property is now officially registered."})]}),T.jsx("div",{className:"z-10 flex items-center justify-center w-12 h-12 bg-primary text-white rounded-full",children:"5"}),T.jsx("div",{className:"md:w-1/2 md:pl-12 hidden md:block"})]})]})]})]}),T.jsxs("div",{className:"max-w-5xl mx-auto mb-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Service Fees"}),T.jsx("p",{className:"text-center text-gray-700 mb-12 max-w-3xl mx-auto",children:"Our transparent fee structure ensures you know exactly what to expect. All fees are set in accordance with government regulations."}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[T.jsxs("div",{className:"bg-primary p-6 text-white text-center",children:[T.jsx("h3",{className:"text-2xl font-bold",children:"Basic Registration"}),T.jsx("div",{className:"mt-4",children:T.jsx("span",{className:"text-4xl font-bold",children:"$150"})})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Standard property registration"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Digital certificate"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Basic document verification"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Online access to property records"})]})]}),T.jsx("div",{className:"mt-6",children:T.jsx(r,{to:"/register",className:"block text-center bg-primary text-white py-2 rounded-md hover:bg-primary-dark transition-colors",children:"Get Started"})})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transform scale-105 border-2 border-primary",children:[T.jsxs("div",{className:"bg-primary p-6 text-white text-center relative",children:[T.jsx("div",{className:"absolute top-0 right-0 bg-secondary text-white text-xs font-bold px-3 py-1 transform translate-x-2 -translate-y-2",children:"POPULAR"}),T.jsx("h3",{className:"text-2xl font-bold",children:"Standard Registration"}),T.jsx("div",{className:"mt-4",children:T.jsx("span",{className:"text-4xl font-bold",children:"$250"})})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Complete property registration"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Digital and physical certificates"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Advanced document verification"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Priority processing"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Email notifications"})]})]}),T.jsx("div",{className:"mt-6",children:T.jsx(r,{to:"/register",className:"block text-center bg-primary text-white py-2 rounded-md hover:bg-primary-dark transition-colors",children:"Get Started"})})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[T.jsxs("div",{className:"bg-primary p-6 text-white text-center",children:[T.jsx("h3",{className:"text-2xl font-bold",children:"Premium Registration"}),T.jsx("div",{className:"mt-4",children:T.jsx("span",{className:"text-4xl font-bold",children:"$400"})})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("ul",{className:"space-y-3",children:[T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Comprehensive property registration"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Premium certificate package"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Expedited processing"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Dedicated support agent"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Legal advisory services"})]}),T.jsxs("li",{className:"flex items-start",children:[T.jsx(ue,{className:"h-5 w-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Annual property report"})]})]}),T.jsx("div",{className:"mt-6",children:T.jsx(r,{to:"/register",className:"block text-center bg-primary text-white py-2 rounded-md hover:bg-primary-dark transition-colors",children:"Get Started"})})]})]})]}),T.jsx("div",{className:"mt-8 text-center text-gray-600 text-sm",children:T.jsx("p",{children:"Additional fees may apply for special services or complex registrations. Contact us for details."})})]}),T.jsxs("div",{className:"bg-primary text-white rounded-lg p-8 text-center",children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Register Your Property?"}),T.jsx("p",{className:"text-xl mb-6 max-w-2xl mx-auto",children:"Join thousands of satisfied property owners who have secured their land rights through our platform."}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[T.jsx(r,{to:"/register",className:"bg-white text-primary px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors",children:"Register Now"}),T.jsx(r,{to:"/contact",className:"bg-transparent border-2 border-white text-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-primary transition-colors",children:"Contact Us"})]})]})]}),sa=()=>{const[s,t]=e.useState({name:"",email:"",phone:"",subject:"",message:""}),[r,a]=e.useState(!1),i=e=>{const{name:s,value:r}=e.target;t(e=>({...e,[s]:r}))};return T.jsxs("div",{className:"container mx-auto px-4 py-12",children:[T.jsx("div",{className:"bg-primary text-white rounded-lg p-8 mb-12",children:T.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[T.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Contact Us"}),T.jsx("p",{className:"text-xl",children:"We're here to help with all your property registration needs."})]})}),T.jsx("div",{className:"max-w-6xl mx-auto",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs("div",{className:"lg:col-span-1",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Get in Touch"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(Je,{className:"h-6 w-6 text-primary"})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Phone"}),T.jsx("p",{className:"mt-1 text-gray-700",children:"+251 11 123 4567"}),T.jsx("p",{className:"text-gray-700",children:"+251 91 234 5678"})]})]}),T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(Ee,{className:"h-6 w-6 text-primary"})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Email"}),T.jsx("p",{className:"mt-1 text-gray-700",children:"info@landregistry.com"}),T.jsx("p",{className:"text-gray-700",children:"support@landregistry.com"})]})]}),T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx($e,{className:"h-6 w-6 text-primary"})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Address"}),T.jsxs("p",{className:"mt-1 text-gray-700",children:["Land Registry Headquarters",T.jsx("br",{}),"Bole Road, Addis Ababa",T.jsx("br",{}),"Ethiopia"]})]})]}),T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(fe,{className:"h-6 w-6 text-primary"})}),T.jsxs("div",{className:"ml-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Working Hours"}),T.jsxs("p",{className:"mt-1 text-gray-700",children:["Monday - Friday: 8:00 AM - 5:00 PM",T.jsx("br",{}),"Saturday: 9:00 AM - 1:00 PM",T.jsx("br",{}),"Sunday: Closed"]})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Regional Offices"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium",children:"Bahir Dar Office"}),T.jsxs("p",{className:"mt-1 text-gray-700",children:["Kebele 14, Bahir Dar",T.jsx("br",{}),"+251 58 220 1234"]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium",children:"Hawassa Office"}),T.jsxs("p",{className:"mt-1 text-gray-700",children:["Piazza Road, Hawassa",T.jsx("br",{}),"+251 46 212 3456"]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium",children:"Mekelle Office"}),T.jsxs("p",{className:"mt-1 text-gray-700",children:["Ayder Road, Mekelle",T.jsx("br",{}),"+251 34 441 2345"]})]})]})]})]}),T.jsxs("div",{className:"lg:col-span-2",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Send Us a Message"}),T.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a(!0),setTimeout(()=>{m.success("Your message has been sent successfully!"),t({name:"",email:"",phone:"",subject:"",message:""}),a(!1)},1500)},className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),T.jsxs("div",{children:[T.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),T.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:i,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),T.jsxs("div",{children:[T.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:["Subject ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("input",{type:"text",id:"subject",name:"subject",value:s.subject,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]})]}),T.jsxs("div",{children:[T.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:["Message ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("textarea",{id:"message",name:"message",rows:"5",value:s.message,onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary"})]}),T.jsx("div",{children:T.jsx("button",{type:"submit",disabled:r,className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-primary-dark transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:r?"Sending...":"Send Message"})})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-primary mb-6",children:"Our Location"}),T.jsx("div",{className:"h-96 bg-gray-200 rounded-md overflow-hidden",children:T.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3940.5859059098!2d38.76007491478443!3d9.010759493539638!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x164b85cef5ab402d%3A0x8467b6b037a24d49!2sAddis%20Ababa%2C%20Ethiopia!5e0!3m2!1sen!2sus!4v1651234567890!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Land Registry Office Location"})})]})]})]})}),T.jsxs("div",{className:"max-w-4xl mx-auto mt-16",children:[T.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"How long does the property registration process take?"}),T.jsx("p",{className:"text-gray-700",children:"The standard property registration process typically takes 7-14 business days from submission to certificate issuance. Premium registrations can be expedited to 3-5 business days. Complex cases may require additional time."})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"What documents do I need to register my property?"}),T.jsx("p",{className:"text-gray-700",children:"Required documents include proof of identity (ID card or passport), proof of ownership (sale agreement, inheritance document, etc.), survey plan, tax clearance certificate, and photographs of the property. Additional documents may be required based on your specific case."})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"Can I track my application status online?"}),T.jsx("p",{className:"text-gray-700",children:"Yes, once you submit your application, you'll receive a tracking number. You can use this number to check your application status through our online portal or by contacting our customer service team."})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"What payment methods do you accept?"}),T.jsx("p",{className:"text-gray-700",children:"We accept various payment methods including bank transfers, mobile money, credit/debit cards, and cash payments at our offices. All online payments are processed through secure payment gateways."})]})]})]}),T.jsxs("div",{className:"bg-primary text-white rounded-lg p-8 text-center mt-16",children:[T.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),T.jsx("p",{className:"text-xl mb-6 max-w-2xl mx-auto",children:"Register your property today and secure your land rights with our efficient and transparent system."}),T.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[T.jsx("a",{href:"/register",className:"bg-white text-primary px-6 py-3 rounded-md font-medium hover:bg-gray-100 transition-colors",children:"Register Now"}),T.jsx("a",{href:"/services",className:"bg-transparent border-2 border-white text-white px-6 py-3 rounded-md font-medium hover:bg-white hover:text-primary transition-colors",children:"View Services"})]})]})]})};function ta({title:s,titleId:t,...r},a){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),s?e.createElement("title",{id:t},s):null,e.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const ra=e.forwardRef(ta),aa=()=>{const[s,i]=e.useState(""),[n,l]=e.useState(""),[o,c]=e.useState(!1),d=t(),x=a(),{login:h,user:u}=Vr();e.useEffect(()=>(document.title="Admin Login | Property Registration System",()=>{document.title="Property Registration System"}),[]),e.useEffect(()=>{var e,s;if(u&&"admin"===u.role){const t=(null==(s=null==(e=x.state)?void 0:e.from)?void 0:s.pathname)||"/admin/dashboard";console.log("Admin already logged in, redirecting to:",t),d(t,{replace:!0})}},[u,d,x]);return T.jsx("div",{className:"min-h-[80vh] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Admin Login"}),T.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the administrative dashboard"})]}),T.jsxs("form",{className:"mt-8 space-y-6",onSubmit:async e=>{var t,r;if(e.preventDefault(),!o)try{c(!0);const e=await h(s,n,"admin");if(e.success){const e=(null==(r=null==(t=x.state)?void 0:t.from)?void 0:r.pathname)||"/admin/dashboard";d(e,{replace:!0})}else m.error(e.message||"Invalid admin credentials"),c(!1)}catch(a){console.error("Admin login error:",a),m.error(a.message||"Failed to login as admin"),c(!1)}},children:[T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Email"}),T.jsx("input",{id:"username",name:"username",type:"email",required:!0,className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"admin@system.com",value:s,onChange:e=>i(e.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),T.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",placeholder:"••••••••",value:n,onChange:e=>l(e.target.value)})]})]}),T.jsx("div",{children:T.jsxs("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[T.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:T.jsx(ra,{className:"h-5 w-5 text-primary-dark group-hover:text-primary-lighter","aria-hidden":"true"})}),o?T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging in..."]}):"Sign in as Admin"]})}),T.jsxs("div",{className:"flex items-center justify-between mt-4",children:[T.jsx("div",{className:"text-sm",children:T.jsx(r,{to:"/login",className:"font-medium text-primary hover:text-primary-dark",children:"User Login"})}),T.jsx("div",{className:"text-sm",children:T.jsx(r,{to:"/register",className:"font-medium text-primary hover:text-primary-dark",children:"Register"})})]}),T.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-md border border-blue-100",children:[T.jsxs("p",{className:"text-sm text-blue-700",children:[T.jsx("strong",{children:"Admin Login:"}),T.jsx("br",{}),"Use your admin account credentials to access the administrative dashboard."]}),T.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"If you don't have admin credentials, contact your system administrator."})]})]})]})})},ia=()=>{const s=t(),{loginWithUserObject:r}=Vr(),[a,i]=e.useState(!1),n=h({email:u().email("Invalid email address").required("Email is required"),password:u().required("Password is required")});return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Land Officer Login"}),T.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your credentials to access the land officer portal"})]}),T.jsx(p,{initialValues:{email:"",password:""},validationSchema:n,onSubmit:async(e,{setSubmitting:t})=>{try{console.log("Attempting login with:",e.email);const t=await Ir(e.email,e.password);if(console.log("Login response:",t),!t||!t.token)throw new Error("Invalid response from server");{const e=r(t);if(console.log("Login result:",e),!e.success)throw new Error(e.error||"Login failed");m.success("Login successful"),s("/landofficer/dashboard")}}catch(a){console.error("Login error:",a),m.error(a.message||"Invalid credentials. Please try again."),t(!1)}},children:({isSubmitting:e})=>T.jsxs(f,{className:"mt-8 space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),T.jsx(g,{type:"email",name:"email",id:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Enter your email"}),T.jsx(j,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(g,{type:a?"text":"password",name:"password",id:"password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary",placeholder:"Enter your password"}),T.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",onClick:()=>i(!a),children:a?T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:[T.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),T.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]}):T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:[T.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),T.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),T.jsx(j,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),T.jsx("div",{className:"text-sm",children:T.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary-dark",children:"Forgot your password?"})})]}),T.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:e?"Logging in...":"Login"}),T.jsx("div",{className:"text-center mt-4"})]})})]})})},na="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBPdXRlciBjaXJjbGUgLS0+CiAgPGNpcmNsZSBjeD0iMTAwIiBjeT0iMTAwIiByPSI5MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMWEzNjVkIiBzdHJva2Utd2lkdGg9IjQiLz4KICAKICA8IS0tIElubmVyIGNpcmNsZSAtLT4KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjcwIiBmaWxsPSJub25lIiBzdHJva2U9IiMxYTM2NWQiIHN0cm9rZS13aWR0aD0iMiIvPgogIAogIDwhLS0gVGV4dCAtLT4KICA8dGV4dCB4PSIxMDAiIHk9Ijg1IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjMWEzNjVkIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTYiIGZvbnQtd2VpZ2h0PSJib2xkIj4KICAgIEdPVkVSTk1FTlQKICA8L3RleHQ+CiAgPHRleHQgeD0iMTAwIiB5PSIxMTUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMxYTM2NWQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9ImJvbGQiPgogICAgU0VBTAogIDwvdGV4dD4KICAKICA8IS0tIERlY29yYXRpdmUgZWxlbWVudHMgLS0+CiAgPHBhdGggZD0iTTEwMCAzMCBMMTEwIDUwIEw5MCA1MCBaIiBmaWxsPSIjMWEzNjVkIi8+CiAgPHBhdGggZD0iTTEwMCAxNzAgTDExMCAxNTAgTDkwIDE1MCBaIiBmaWxsPSIjMWEzNjVkIi8+CiAgPHBhdGggZD0iTTMwIDEwMCBMNTAgMTEwIEw1MCA5MCBaIiBmaWxsPSIjMWEzNjVkIi8+CiAgPHBhdGggZD0iTTE3MCAxMDAgTDE1MCAxMTAgTDE1MCA5MCBaIiBmaWxsPSIjMWEzNjVkIi8+Cjwvc3ZnPiA=",la=()=>T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-emerald-900 flex flex-col",children:[T.jsx("nav",{className:"bg-white/10 backdrop-blur-md border-b border-white/20",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("img",{src:na,alt:"Government Seal",className:"w-10 h-10"}),T.jsx("span",{className:"text-white font-semibold text-lg",children:"Land Administration Portal"})]}),T.jsxs("div",{className:"hidden md:flex space-x-6",children:[T.jsx(r,{to:"/about",className:"text-white/80 hover:text-white transition-colors",children:"About"}),T.jsx(r,{to:"/services",className:"text-white/80 hover:text-white transition-colors",children:"Services"}),T.jsx(r,{to:"/contact",className:"text-white/80 hover:text-white transition-colors",children:"Contact"})]})]})})}),T.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:T.jsxs("div",{className:"max-w-6xl w-full",children:[T.jsxs("div",{className:"text-center mb-16 animate-fade-in-up",children:[T.jsxs("div",{className:"flex justify-center items-center gap-6 mb-8",children:[T.jsx("img",{src:na,alt:"Government Seal",className:"w-24 h-24 md:w-32 md:h-32 animate-pulse-glow"}),T.jsxs("div",{className:"text-left",children:[T.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white tracking-wide leading-tight",children:["Federal Land",T.jsx("br",{}),T.jsx("span",{className:"text-blue-200",children:"Administration Portal"})]}),T.jsx("p",{className:"mt-4 text-xl md:text-2xl text-blue-200 font-light",children:"Ministry of Land & Property Management"}),T.jsx("p",{className:"mt-2 text-lg text-white/80",children:"Federal Democratic Republic of Ethiopia"})]})]}),T.jsx("div",{className:"max-w-3xl mx-auto",children:T.jsx("p",{className:"text-xl text-white/90 leading-relaxed mb-8",children:"Secure, efficient, and transparent land registration services for government officials. Our digital platform streamlines property verification, document validation, and administrative processes."})})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[T.jsxs("div",{className:"glass-effect rounded-xl p-8 text-center hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-fade-in-up",style:{animationDelay:"0.1s"},children:[T.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-blue-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Property Verification"}),T.jsx("p",{className:"text-white/80",children:"Comprehensive land title verification and validation services"})]}),T.jsxs("div",{className:"glass-effect rounded-xl p-8 text-center hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-fade-in-up",style:{animationDelay:"0.2s"},children:[T.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-emerald-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),T.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Document Management"}),T.jsx("p",{className:"text-white/80",children:"Secure document authentication and digital record keeping"})]}),T.jsxs("div",{className:"glass-effect rounded-xl p-8 text-center hover:bg-white/15 transition-all duration-300 hover:scale-105 hover:shadow-2xl animate-fade-in-up",style:{animationDelay:"0.3s"},children:[T.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-yellow-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),T.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Secure Processing"}),T.jsx("p",{className:"text-white/80",children:"Advanced security protocols and fraud prevention systems"})]})]}),T.jsx("div",{className:"text-center mb-16 animate-fade-in-up",style:{animationDelay:"0.4s"},children:T.jsxs("div",{className:"glass-effect rounded-2xl p-8 max-w-md mx-auto hover:bg-white/15 transition-all duration-300",children:[T.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Official Access"}),T.jsx("p",{className:"text-white/80 mb-6",children:"Authorized personnel login for land administration services"}),T.jsxs(r,{to:"/login/land-officer",className:"inline-flex items-center justify-center w-full bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700 text-white font-semibold py-4 px-8 rounded-lg shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl focus:ring-4 focus:ring-blue-300/50",children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Secure Officer Login"]})]})}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-8",children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-200 mb-6",children:"System Features"}),T.jsxs("ul",{className:"space-y-4",children:[T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Real-time Property Tracking"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Monitor application status and processing stages"})]})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full mt-2 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Digital Document Verification"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Automated validation of legal documents"})]})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full mt-2 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Integrated Payment System"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Secure online payment processing"})]})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full mt-2 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Comprehensive Reporting"}),T.jsx("p",{className:"text-white/70 text-sm",children:"Detailed analytics and audit trails"})]})]})]})]}),T.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-8",children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-200 mb-6",children:"Contact Information"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("svg",{className:"w-5 h-5 text-blue-400 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Emergency Hotline"}),T.jsx("p",{className:"text-white/70",children:"+251-911-2020 (24/7)"})]})]}),T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("svg",{className:"w-5 h-5 text-emerald-400 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Support Email"}),T.jsx("p",{className:"text-white/70",children:"land-support@gov.et"})]})]}),T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsxs("svg",{className:"w-5 h-5 text-yellow-400 mt-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-medium",children:"Head Office"}),T.jsx("p",{className:"text-white/70",children:"Kirkos Subcity, Addis Ababa"})]})]})]})]})]})]})}),T.jsx("footer",{className:"bg-white/5 backdrop-blur-md border-t border-white/20 mt-16",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[T.jsxs("div",{className:"text-center md:text-left mb-4 md:mb-0",children:[T.jsxs("p",{className:"text-white font-medium",children:["© ",(new Date).getFullYear()," Federal Democratic Republic of Ethiopia"]}),T.jsx("p",{className:"text-white/80",children:"Ministry of Land & Property Management"})]}),T.jsxs("div",{className:"flex items-center space-x-6",children:[T.jsx(r,{to:"/about",className:"text-white/80 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),T.jsx(r,{to:"/services",className:"text-white/80 hover:text-white transition-colors text-sm",children:"Terms of Service"}),T.jsx(r,{to:"/admin-login",className:"text-xs text-white/60 hover:text-white/80 transition-colors border border-white/20 px-3 py-1 rounded-md hover:border-white/40",children:"Admin Access"})]})]})})})]}),oa={},ca=({filters:s,onFiltersChange:t,onClearFilters:r,searchType:a="all",className:i=""})=>{const[n,l]=e.useState(!1),[o,c]=e.useState(s||{});e.useEffect(()=>{c(s||{})},[s]);const d=(e,s)=>{const r={...o,[e]:s};c(r),t(r)},m=()=>Object.values(o).filter(e=>e&&""!==e&&"all"!==e).length;return T.jsxs("div",{className:`bg-white rounded-lg shadow-sm border ${i}`,children:[T.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[T.jsxs("button",{onClick:()=>l(!n),className:"flex items-center text-gray-700 hover:text-gray-900",children:[T.jsx(Oe,{className:"h-5 w-5 mr-2"}),T.jsx("span",{className:"font-medium",children:"Filters"}),m()>0&&T.jsx("span",{className:"ml-2 bg-primary text-white text-xs px-2 py-1 rounded-full",children:m()})]}),m()>0&&T.jsxs("button",{onClick:()=>{c({}),r()},className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[T.jsx(us,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),n&&T.jsxs("div",{className:"p-4 space-y-4",children:[("all"===a||"properties"===a)&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T.jsx(Me,{className:"h-4 w-4 inline mr-1"}),"Property Type"]}),T.jsxs("select",{value:o.propertyType||"",onChange:e=>d("propertyType",e.target.value),className:"w-full form-input",children:[T.jsx("option",{value:"",children:"All Types"}),[{value:"residential",label:"Residential"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"},{value:"agricultural",label:"Agricultural"},{value:"mixed_use",label:"Mixed Use"}].map(e=>T.jsx("option",{value:e.value,children:e.label},e.value))]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T.jsx($e,{className:"h-4 w-4 inline mr-1"}),"Sub City"]}),T.jsxs("select",{value:o.subCity||"",onChange:e=>d("subCity",e.target.value),className:"w-full form-input",children:[T.jsx("option",{value:"",children:"All Sub Cities"}),["Addis Ketema","Akaky Kaliti","Arada","Bole","Gullele","Kirkos","Kolfe Keranio","Lideta","Nifas Silk-Lafto","Yeka"].map(e=>T.jsx("option",{value:e,children:e},e))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kebele"}),T.jsx("input",{type:"text",placeholder:"Enter kebele",value:o.kebele||"",onChange:e=>d("kebele",e.target.value),className:"w-full form-input"})]})]})]}),("all"===a||"applications"===a||"properties"===a)&&T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T.jsx(Ce,{className:"h-4 w-4 inline mr-1"}),"Status"]}),T.jsxs("select",{value:o.status||"",onChange:e=>d("status",e.target.value),className:"w-full form-input",children:[T.jsx("option",{value:"",children:"All Statuses"}),[{value:"pending",label:"Pending"},{value:"under_review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"completed",label:"Completed"}].map(e=>T.jsx("option",{value:e.value,children:e.label},e.value))]})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[T.jsx(te,{className:"h-4 w-4 inline mr-1"}),"Date Range"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),T.jsx("input",{type:"date",value:o.startDate||"",onChange:e=>d("startDate",e.target.value),className:"w-full form-input"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),T.jsx("input",{type:"date",value:o.endDate||"",onChange:e=>d("endDate",e.target.value),className:"w-full form-input"})]})]})]}),"users"===a&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Role"}),T.jsxs("select",{value:o.role||"",onChange:e=>d("role",e.target.value),className:"w-full form-input",children:[T.jsx("option",{value:"",children:"All Roles"}),T.jsx("option",{value:"user",children:"User"}),T.jsx("option",{value:"landOfficer",children:"Land Officer"}),T.jsx("option",{value:"admin",children:"Admin"})]})]}),("all"===a||"properties"===a)&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range (ETB)"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min Price"}),T.jsx("input",{type:"number",placeholder:"0",value:o.minPrice||"",onChange:e=>d("minPrice",e.target.value),className:"w-full form-input"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max Price"}),T.jsx("input",{type:"number",placeholder:"No limit",value:o.maxPrice||"",onChange:e=>d("maxPrice",e.target.value),className:"w-full form-input"})]})]})]}),("all"===a||"properties"===a)&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area Range (sq m)"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min Area"}),T.jsx("input",{type:"number",placeholder:"0",value:o.minArea||"",onChange:e=>d("minArea",e.target.value),className:"w-full form-input"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max Area"}),T.jsx("input",{type:"number",placeholder:"No limit",value:o.maxArea||"",onChange:e=>d("maxArea",e.target.value),className:"w-full form-input"})]})]})]})]})]})},da=({results:s=[],isLoading:t=!1,searchQuery:a="",pagination:i=null,onPageChange:n=null,viewMode:l="list"})=>{const{user:o}=Vr(),[c,d]=e.useState(l),m=e=>{switch(e){case"property":return T.jsx(Me,{className:"h-5 w-5 text-primary"});case"application":return T.jsx(Ce,{className:"h-5 w-5 text-secondary"});case"user":return T.jsx(ds,{className:"h-5 w-5 text-accent"});case"public_record":return T.jsx($e,{className:"h-5 w-5 text-green-600"});default:return T.jsx(Ce,{className:"h-5 w-5 text-gray-500"})}},x=(e,s)=>{if(!s||!e)return e;const t=new RegExp(`(${s})`,"gi");return e.split(t).map((e,s)=>t.test(e)?T.jsx("mark",{className:"bg-yellow-200 px-1 rounded",children:e},s):e)};return t?T.jsx("div",{className:"space-y-4",children:[...Array(5)].map((e,s)=>T.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border animate-pulse",children:T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),T.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),T.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})},s))}):0===s.length?T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"w-24 h-24 mx-auto mb-4 text-gray-300",children:T.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"})})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),T.jsx("p",{className:"text-gray-500",children:a?T.jsxs(T.Fragment,{children:['No results found for "',T.jsx("strong",{children:a}),'"']}):"Try adjusting your search criteria"})]}):T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Search Results",a&&T.jsxs("span",{className:"text-gray-500 font-normal",children:[' for "',a,'"']})]}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i?`Showing ${(i.page-1)*i.limit+1}-${Math.min(i.page*i.limit,i.total)} of ${i.total} results`:`${s.length} results found`})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:()=>d("list"),className:"p-2 rounded "+("list"===c?"bg-primary text-white":"bg-gray-100 text-gray-600"),children:T.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),T.jsx("button",{onClick:()=>d("grid"),className:"p-2 rounded "+("grid"===c?"bg-primary text-white":"bg-gray-100 text-gray-600"),children:T.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]}),T.jsx("div",{className:"grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:s.map((e,s)=>{const t=(e=>{switch(e.type){case"property":return`/property/${e.id}`;case"application":return`/application/${e.id}`;case"user":return"admin"===(null==o?void 0:o.role)?`/admin/users/${e.id}`:null;case"public_record":return`/land-officer/public-records/${e.id}`;default:return null}})(e),i=()=>{return T.jsx("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow "+("grid"===c?"p-4":"p-6"),children:T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"flex-shrink-0",children:m(e.type)}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"text-lg font-medium text-gray-900 truncate",children:x(e.title,a)}),T.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x(e.description,a)})]}),T.jsx("div",{className:"flex-shrink-0 ml-4",children:T.jsx("span",{className:"text-xs text-gray-400 capitalize",children:e.type.replace("_"," ")})})]}),T.jsxs("div",{className:"mt-3 flex items-center space-x-4 text-sm text-gray-500",children:[e.status&&T.jsx("div",{className:"flex items-center",children:(r=e.status,T.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${{pending:"bg-yellow-100 text-yellow-800",under_review:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"}[r]||"bg-gray-100 text-gray-800"}`,children:null==r?void 0:r.replace("_"," ").toUpperCase()}))}),e.location&&T.jsxs("div",{className:"flex items-center",children:[T.jsx($e,{className:"h-4 w-4 mr-1"}),T.jsx("span",{children:e.location})]}),e.date&&T.jsxs("div",{className:"flex items-center",children:[T.jsx(te,{className:"h-4 w-4 mr-1"}),T.jsx("span",{children:(s=e.date,new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]})]}),T.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[T.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:e.metadata&&Object.entries(e.metadata).map(([e,s])=>T.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:[e,": ",s]},e))}),t&&T.jsxs("div",{className:"flex items-center",children:[T.jsx(Le,{className:"h-4 w-4 mr-1"}),T.jsx("span",{className:"text-primary",children:"View Details"})]})]})]})]})});var s,r};return t?T.jsx(r,{to:t,children:T.jsx(i,{})},`${e.type}-${e.id}-${s}`):T.jsx("div",{children:T.jsx(i,{})},`${e.type}-${e.id}-${s}`)})}),i&&i.pages>1&&T.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[T.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[T.jsx("button",{onClick:()=>n(i.page-1),disabled:i.page<=1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),T.jsx("button",{onClick:()=>n(i.page+1),disabled:i.page>=i.pages,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),T.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[T.jsx("div",{children:T.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",T.jsx("span",{className:"font-medium",children:(i.page-1)*i.limit+1})," to"," ",T.jsx("span",{className:"font-medium",children:Math.min(i.page*i.limit,i.total)})," of"," ",T.jsx("span",{className:"font-medium",children:i.total})," results"]})}),T.jsx("div",{children:T.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[T.jsx("button",{onClick:()=>n(i.page-1),disabled:i.page<=1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:T.jsx(de,{className:"h-5 w-5"})}),[...Array(Math.min(i.pages,5))].map((e,s)=>{const t=s+1;return T.jsx("button",{onClick:()=>n(t),className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold "+(t===i.page?"z-10 bg-primary text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"),children:t},t)}),T.jsx("button",{onClick:()=>n(i.page+1),disabled:i.page>=i.pages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:T.jsx(xe,{className:"h-5 w-5"})})]})})]})]})]})},ma=({placeholder:s="Search properties, applications, users...",searchType:r="all",onResultSelect:a=null,showFilters:i=!0,className:n=""})=>{const[l,o]=e.useState(""),[c,d]=e.useState([]),[x,h]=e.useState([]),[u,p]=e.useState(!1),[f,g]=e.useState(!1),[j,y]=e.useState(!1),[b,N]=e.useState({}),[v,w]=e.useState(null),[k,S]=e.useState([]),{user:C}=Vr(),A=t(),E=e.useRef(null),R=e.useRef(null);e.useEffect(()=>{const e=localStorage.getItem("recentSearches");if(e)try{S(JSON.parse(e).slice(0,5))}catch(s){console.error("Error parsing recent searches:",s)}},[]),e.useEffect(()=>{const e=setTimeout(()=>{l.trim().length>2?(P(),D()):(d([]),h([]),g(!1))},300);return()=>clearTimeout(e)},[l,b]);const P=async(e=1)=>{if(l.trim()){p(!0);try{const s={q:l,userRole:null==C?void 0:C.role,type:r,page:e,limit:10,...b},t=await Zr(l,s);1===e?(d(t.results||t),w(t.pagination||null)):d(e=>[...e,...t.results||t]),g(!0),L(l)}catch(s){console.error("Search error:",s),m.error("Search failed. Please try again.")}finally{p(!1)}}},D=async()=>{try{const e=await Jr(l,r);h(e.slice(0,5))}catch(e){console.error("Error getting suggestions:",e)}},L=e=>{const s=[{query:e,timestamp:(new Date).toISOString(),type:r},...k.filter(s=>s.query!==e)].slice(0,5);S(s),localStorage.setItem("recentSearches",JSON.stringify(s))},O=e=>{switch(e.type){case"property":return`/property/${e.id}`;case"application":return`/application/${e.id}`;case"user":return"admin"===(null==C?void 0:C.role)?`/admin/users/${e.id}`:null;case"public_record":return"/landofficer/reports";default:return null}};return T.jsxs("div",{className:`relative ${n}`,children:[T.jsxs("div",{className:"relative",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:T.jsx(ze,{className:"h-5 w-5 text-gray-400"})}),T.jsx("input",{ref:E,type:"text",placeholder:s,className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary focus:border-primary",value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{"Escape"===e.key?g(!1):"Enter"===e.key&&(e.preventDefault(),P())},onFocus:()=>{(c.length>0||x.length>0)&&g(!0)}}),T.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[u&&T.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-3"}),l&&T.jsx("button",{onClick:()=>{var e;o(""),d([]),h([]),g(!1),null==(e=E.current)||e.focus()},className:"p-1 mr-2 hover:bg-gray-100 rounded",children:T.jsx(us,{className:"h-4 w-4 text-gray-400"})})]})]}),i&&T.jsx("button",{onClick:()=>y(!j),className:"ml-3 p-3 border rounded-lg hover:bg-gray-50 "+(j?"bg-primary text-white border-primary":"border-gray-300"),children:T.jsx(M,{className:"h-5 w-5"})})]}),f&&(l.length>0||k.length>0)&&T.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white rounded-lg shadow-lg border max-h-96 overflow-y-auto",children:[x.length>0&&T.jsxs("div",{className:"p-2 border-b",children:[T.jsx("h4",{className:"text-xs font-medium text-gray-500 px-3 py-2",children:"Suggestions"}),x.map((e,s)=>T.jsxs("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded flex items-center",onClick:()=>{o(e.text),P()},children:[T.jsx(ze,{className:"h-4 w-4 text-gray-400 mr-3"}),T.jsx("span",{className:"text-sm",children:e.text})]},s))]}),0===l.length&&k.length>0&&T.jsxs("div",{className:"p-2",children:[T.jsxs("h4",{className:"text-xs font-medium text-gray-500 px-3 py-2 flex items-center",children:[T.jsx(fe,{className:"h-3 w-3 mr-1"}),"Recent Searches"]}),k.map((e,s)=>T.jsxs("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded flex items-center justify-between",onClick:()=>{o(e.query),P()},children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(fe,{className:"h-4 w-4 text-gray-400 mr-3"}),T.jsx("span",{className:"text-sm",children:e.query})]}),T.jsx("span",{className:"text-xs text-gray-400 capitalize",children:e.type})]},s))]}),c.length>0&&l.length>0&&T.jsxs("div",{className:"p-2 border-t",children:[T.jsxs("h4",{className:"text-xs font-medium text-gray-500 px-3 py-2",children:["Quick Results (",c.length,")"]}),c.slice(0,3).map((e,s)=>T.jsx("button",{className:"w-full text-left p-3 hover:bg-gray-50 rounded",onClick:()=>(e=>{if(a)a(e);else{const s=O(e);s&&A(s)}g(!1)})(e),children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center mr-3",children:T.jsx("span",{className:"text-xs font-medium",children:e.type.charAt(0).toUpperCase()})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),T.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.description})]})]})},`${e.type}-${e.id}-${s}`)),c.length>3&&T.jsx("div",{className:"px-3 py-2 text-center",children:T.jsxs("button",{onClick:()=>g(!1),className:"text-sm text-primary hover:text-primary-dark",children:["View all ",c.length," results"]})})]})]})]}),i&&j&&T.jsx("div",{className:"mt-4",children:T.jsx(ca,{filters:b,onFiltersChange:e=>{N(e)},onClearFilters:()=>{N({})},searchType:r})}),f&&c.length>0&&!j&&T.jsx("div",{className:"mt-4",ref:R,children:T.jsx(da,{results:c,isLoading:u,searchQuery:l,pagination:v,onPageChange:e=>{P(e)}})})]})},xa=async e=>{var s;try{return(await Mr.get(`/properties/${e}`)).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch property"}}},ha=async(e={})=>{var s;try{return(await Mr.get("/properties",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch properties"}}},ua=async(e,s)=>{var t;try{return(await Mr.put(`/properties/${e}/approve`,{notes:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to approve property"}}},pa=async(e,s)=>{var t;try{return(await Mr.put(`/properties/${e}/reject`,{reason:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to reject property"}}},fa=async(e,s,t,r)=>{var a;try{return(await Mr.put(`/properties/${e}/documents/${s}/verify`,{verified:t,notes:r})).data}catch(i){throw(null==(a=i.response)?void 0:a.data)||{message:"Failed to verify document"}}},ga=async(e,s)=>{var t;try{return(await Mr.put(`/documents/${e}/verify`,{notes:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to verify document"}}},ja=async(e,s)=>{var t;try{return(await Mr.put(`/documents/${e}/reject`,{reason:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to reject document"}}},ya=async e=>{var s,t,r;console.log("=== DOWNLOAD FUNCTION CALLED ==="),console.log("Document ID:",e);try{if(!e)throw console.error("No document ID provided"),new Error("Document ID is required");console.log("Making API request to:",`/documents/${e}/download`);const n=await Mr.get(`/documents/${e}/download`,{responseType:"blob"});if(console.log("=== API RESPONSE RECEIVED ==="),console.log("Status:",n.status),console.log("Headers:",n.headers),console.log("Data type:",typeof n.data),console.log("Data size:",null==(s=n.data)?void 0:s.size),console.log("Data constructor:",null==(r=null==(t=n.data)?void 0:t.constructor)?void 0:r.name),console.log("Content-Type:",n.headers["content-type"]),!n.data)throw console.error("No response data received"),new Error("No file data received");if(0===n.data.size)throw console.error("Empty file received"),new Error("Empty file received");if((n.headers["content-type"]||"").includes("application/json")){console.error("Received JSON response instead of file blob");try{const e=await n.data.text(),s=JSON.parse(e);throw new Error(s.message||"Server returned an error instead of the file")}catch(a){throw new Error("Server returned an error response instead of the file")}}if(n.data.size<100)try{const e=await n.data.text();if(e.includes("message")||e.includes("error"))throw new Error("Server error: "+e)}catch(i){}console.log("=== CREATING DOWNLOAD LINK ===");const l=window.URL.createObjectURL(new Blob([n.data]));console.log("Blob URL created:",l);const o=document.createElement("a");o.href=l;const c=n.headers["content-disposition"];let d=`document-${e}`;if(c){console.log("Content-Disposition header:",c);const e=c.match(/filename="(.+)"/);e&&2===e.length&&(d=e[1])}return console.log("Final filename:",d),o.setAttribute("download",d),o.style.display="none",document.body.appendChild(o),console.log("Triggering download click..."),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l),console.log("=== DOWNLOAD COMPLETED SUCCESSFULLY ==="),!0}catch(n){if(console.error("=== DOWNLOAD ERROR ==="),console.error("Error:",n),console.error("Error message:",n.message),console.error("Error response:",n.response),n.response&&(console.error("Response status:",n.response.status),console.error("Response data:",n.response.data)),n.response){if(404===n.response.status)throw new Error("Document not found");if(403===n.response.status)throw new Error("Not authorized to download this document");if(500===n.response.status)throw new Error("Server error while downloading document")}throw new Error(n.message||"Failed to download document")}},ba=async e=>{var s;console.log("=== PREVIEW FUNCTION CALLED ==="),console.log("Document ID:",e);try{if(!e)throw console.error("No document ID provided"),new Error("Document ID is required");console.log("Making API request to:",`/documents/${e}/preview`);const a=await Mr.get(`/documents/${e}/preview`,{responseType:"blob"});if(console.log("=== PREVIEW API RESPONSE RECEIVED ==="),console.log("Status:",a.status),console.log("Headers:",a.headers),console.log("Data type:",typeof a.data),console.log("Data size:",null==(s=a.data)?void 0:s.size),console.log("Content-Type:",a.headers["content-type"]),!a.data)throw console.error("No response data received"),new Error("No file data received");if(0===a.data.size)throw console.error("Empty file received"),new Error("Empty file received");if((a.headers["content-type"]||"").includes("application/json")){console.error("Received JSON response instead of file blob");try{const e=await a.data.text(),s=JSON.parse(e);throw new Error(s.message||"Server returned an error instead of the file")}catch(t){throw new Error("Server returned an error response instead of the file")}}if(a.data.size<100){console.warn("Received very small file, checking if it's an error message");try{const e=await a.data.text();if(e.includes("message")||e.includes("error"))throw console.error("Small blob contains error message:",e),new Error("Server error: "+e)}catch(r){console.log("Could not read small blob as text, assuming it's a valid file")}}console.log("=== CREATING PREVIEW WINDOW ===");const i=new Blob([a.data],{type:a.headers["content-type"]||"application/octet-stream"}),n=window.URL.createObjectURL(i);console.log("Blob URL created for preview:",n);if(!window.open(n,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")){console.warn("Popup blocked, providing download fallback");const s=document.createElement("a");throw s.href=n,s.download=`preview-document-${e}`,s.click(),window.URL.revokeObjectURL(n),new Error("Popup blocked. Document downloaded instead.")}return setTimeout(()=>{window.URL.revokeObjectURL(n)},5e3),console.log("=== PREVIEW OPENED SUCCESSFULLY ==="),!0}catch(a){if(console.error("=== PREVIEW ERROR ==="),console.error("Error:",a),console.error("Error message:",a.message),console.error("Error response:",a.response),a.response&&(console.error("Response status:",a.response.status),console.error("Response data:",a.response.data)),a.response){if(404===a.response.status)throw new Error("Document not found");if(403===a.response.status)throw new Error("Not authorized to preview this document");if(500===a.response.status)throw new Error("Server error while previewing document")}throw new Error(a.message||"Failed to preview document")}},Na=async(e={})=>{var s;try{return(await Mr.get("/reports/properties",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch property statistics"}}},va=async(e={})=>{var s;try{return(await Mr.get("/reports/documents",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch document statistics"}}};const wa=new class{constructor(){this.metrics=new Map,this.isEnabled=!1}startTiming(e){this.isEnabled&&this.metrics.set(e,{startTime:performance.now(),endTime:null,duration:null})}endTiming(e){if(!this.isEnabled)return;const s=this.metrics.get(e);s&&(s.endTime=performance.now(),s.duration=s.endTime-s.startTime)}getTiming(e){return this.metrics.get(e)}getAllMetrics(){const e={};return this.metrics.forEach((s,t)=>{e[t]={duration:s.duration,status:s.duration>1e3?"slow":"fast"}}),e}clear(){this.metrics.clear()}logDashboardSummary(){this.isEnabled}};const ka=new class{constructor(){this.cache=new Map,this.defaultTTL=3e5}set(e,s,t=this.defaultTTL){const r=Date.now()+t;this.cache.set(e,{data:s,expiresAt:r,createdAt:Date.now()})}get(e){const s=this.cache.get(e);return s?Date.now()>s.expiresAt?(this.cache.delete(e),null):s.data:null}has(e){return null!==this.get(e)}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}getStats(){const e=Date.now();let s=0,t=0;return this.cache.forEach(r=>{e>r.expiresAt?t++:s++}),{totalItems:this.cache.size,validItems:s,expiredItems:t,hitRate:this.hitCount/(this.hitCount+this.missCount)||0}}cleanup(){const e=Date.now(),s=[];return this.cache.forEach((t,r)=>{e>t.expiresAt&&s.push(r)}),s.forEach(e=>this.cache.delete(e)),s.length}},Sa="property_stats",Ca="document_stats",Aa="pending_properties_dashboard",Ea="pending_documents_dashboard",Ra="recent_activities",Pa=12e4,Da=6e4;setInterval(()=>{ka.cleanup()},3e5);const La=e.lazy(()=>function(e,s){let t=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));t=Promise.allSettled(s.map(e=>{if((e=function(e){return"/"+e}(e))in oa)return;oa[e]=!0;const s=e.endsWith(".css"),t=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${t}`))return;const a=document.createElement("link");return a.rel=s?"stylesheet":"modulepreload",s||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),s?new Promise((s,t)=>{a.addEventListener("load",s),a.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return t.then(s=>{for(const e of s||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})}(()=>Promise.resolve().then(()=>Ua),void 0)),Ta=()=>{var s,t;const[a,i]=e.useState(null),[n,l]=e.useState(!0),[o,c]=e.useState(!0),[d,x]=e.useState(!0),[h,u]=e.useState(!0),[p,f]=e.useState([]),[g,j]=e.useState([]),[y,b]=e.useState({totalProperties:0,pendingProperties:0,approvedProperties:0,rejectedProperties:0,totalDocuments:0,pendingDocuments:0,verifiedDocuments:0,rejectedDocuments:0}),[N,v]=e.useState(!1),[w,k]=e.useState(null),[S,C]=e.useState(""),[A,E]=e.useState(""),R=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",P=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":case"verified":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"needs_update":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e){case"title_deed":return"Title Deed";case"id_copy":return"National ID";case"application_form":return"Application Form";case"tax_clearance":return"Tax Clearance";default:return e.replace("_"," ")}};e.useEffect(()=>{const e=localStorage.getItem("user");e&&i(JSON.parse(e)),l(!1)},[]),e.useEffect(()=>{a&&"landOfficer"===a.role&&L()},[a]);const L=async()=>{try{wa.startTiming("dashboard-total-load"),O(),F(),M(),setTimeout(()=>{wa.endTiming("dashboard-total-load"),wa.logDashboardSummary()},100)}catch(e){console.error("Error loading dashboard data:",e),m.error("Failed to load dashboard data")}},O=async()=>{try{wa.startTiming("stats-load"),c(!0);const s=ka.get(Sa),t=ka.get(Ca);if(s&&t)b({totalProperties:s.totalProperties||0,pendingProperties:s.pendingProperties||0,approvedProperties:s.approvedProperties||0,rejectedProperties:s.rejectedProperties||0,totalDocuments:t.totalDocuments||0,pendingDocuments:t.pendingVerification||0,verifiedDocuments:t.verifiedDocuments||0,rejectedDocuments:t.rejectedDocuments||0}),console.log("📦 Using cached stats data");else{const[s,t]=await Promise.all([Na(),va()]);e=s,ka.set(Sa,e,Pa),(e=>{ka.set(Ca,e,Pa)})(t),b({totalProperties:s.totalProperties||0,pendingProperties:s.pendingProperties||0,approvedProperties:s.approvedProperties||0,rejectedProperties:s.rejectedProperties||0,totalDocuments:t.totalDocuments||0,pendingDocuments:t.pendingVerification||0,verifiedDocuments:t.verifiedDocuments||0,rejectedDocuments:t.rejectedDocuments||0})}}catch(s){console.error("Error loading stats:",s),m.error("Failed to load statistics")}finally{c(!1),wa.endTiming("stats-load")}var e},F=async()=>{try{wa.startTiming("pending-apps-load"),x(!0);const s=ka.get(Aa);if(s)f(s),console.log("📦 Using cached pending applications data");else{const s=await(async(e={})=>{var s;try{return(await Mr.get("/properties/pending",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch pending properties"}}})({dashboard:!0});e=s||[],ka.set(Aa,e,Da),f(s||[])}}catch(s){console.error("Error loading pending applications:",s),m.error("Failed to load pending applications")}finally{x(!1),wa.endTiming("pending-apps-load")}var e},M=async()=>{try{wa.startTiming("pending-docs-load"),u(!0);const s=ka.get(Ea);if(s)j(s),console.log("📦 Using cached pending documents data");else{const s=await(async(e={})=>{var s;try{return(await Mr.get("/documents/pending",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch pending documents"}}})({dashboard:!0});e=s||[],ka.set(Ea,e,Da),j(s||[])}}catch(s){console.error("Error loading pending documents:",s),m.error("Failed to load pending documents")}finally{u(!1),wa.endTiming("pending-docs-load")}var e},I=(e,s)=>{k(e),C(s),v(!0)};return n?T.jsx("div",{className:"flex justify-center items-center h-[70vh]",children:"Loading..."}):a&&"landOfficer"===a.role?T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Land Officer Dashboard"}),T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-semibold",children:["Welcome, ",a.fullName||"Officer"]}),T.jsx("p",{className:"text-gray-600",children:"Manage property applications and documents"})]}),T.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-4",children:[T.jsxs(r,{to:"/landofficer/property-verification",className:"btn-primary px-4 py-2 rounded-md flex items-center",children:[T.jsx(Ce,{className:"h-5 w-5 mr-1"}),"View Pending Applications"]}),T.jsxs(r,{to:"/landofficer/document-validation",className:"bg-ethiopian-yellow text-gray-900 px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors flex items-center",children:[T.jsx(ke,{className:"h-5 w-5 mr-1"}),"Verify Documents"]})]})]})]}),T.jsx("div",{className:"mb-8",children:T.jsx(ma,{placeholder:"Search applications, documents, properties...",searchType:"landOfficer",className:"w-full"})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx(Ce,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h3",{className:"text-lg font-semibold",children:"Pending Applications"})]}),T.jsx("p",{className:"text-3xl font-bold text-primary",children:o?T.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):y.pendingProperties}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Awaiting review"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx(fe,{className:"h-6 w-6 text-blue-600 mr-2"}),T.jsx("h3",{className:"text-lg font-semibold",children:"Under Review"})]}),T.jsx("p",{className:"text-3xl font-bold text-blue-600",children:d?T.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):p.filter(e=>"under_review"===e.status).length}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Applications in progress"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx(ke,{className:"h-6 w-6 text-yellow-600 mr-2"}),T.jsx("h3",{className:"text-lg font-semibold",children:"Documents"})]}),T.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o?T.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):y.pendingDocuments}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Pending verification"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx(ne,{className:"h-6 w-6 text-green-600 mr-2"}),T.jsx("h3",{className:"text-lg font-semibold",children:"Approved"})]}),T.jsx("p",{className:"text-3xl font-bold text-green-600",children:o?T.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):y.approvedProperties}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Properties verified"})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pending Applications"}),d?T.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,s)=>T.jsx("div",{className:"animate-pulse",children:T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]})},s))}):0===p.length?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No pending applications found"}):T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application ID"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plot Number"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.slice(0,5).map(e=>{var s,t,a,i,n;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null==(s=e._id)?void 0:s.slice(-8))||"N/A"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null==(t=e.owner)?void 0:t.fullName)||"Unknown"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.plotNumber||"N/A"}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null==(a=e.location)?void 0:a.subCity)||"N/A",", Kebele ",(null==(i=e.location)?void 0:i.kebele)||"N/A"]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:e.propertyType||"N/A"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(e.status)} capitalize`,children:(null==(n=e.status)?void 0:n.replace("_"," "))||"N/A"})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R(e.registrationDate)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:T.jsx(r,{to:`/landofficer/property-detail-verification/${e._id}`,className:"text-primary hover:text-primary-dark",title:"Review Details",children:"Review Details"})})]},e._id)})})]})}),T.jsx("div",{className:"mt-4 text-right",children:T.jsx(r,{to:"/landofficer/property-verification",className:"text-primary hover:underline",children:"View All Pending Applications"})})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[T.jsx("div",{className:"lg:col-span-2",children:T.jsx(e.Suspense,{fallback:T.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:T.jsxs("div",{className:"animate-pulse space-y-4",children:[T.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),[...Array(3)].map((e,s)=>T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),T.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))]})}),children:T.jsx(La,{limit:6,showFilters:!0,showHeader:!0,className:""})})}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs(r,{to:"/land-officer/property-verification",className:"block w-full p-3 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-center",children:[T.jsx(Ce,{className:"h-5 w-5 mx-auto mb-1"}),T.jsx("span",{className:"text-sm",children:"Verify Properties"})]}),T.jsxs(r,{to:"/land-officer/document-management",className:"block w-full p-3 bg-secondary text-white rounded-lg hover:bg-secondary-dark transition-colors text-center",children:[T.jsx(ke,{className:"h-5 w-5 mx-auto mb-1"}),T.jsx("span",{className:"text-sm",children:"Review Documents"})]}),T.jsxs(r,{to:"/landofficer/payment-verification",className:"block w-full p-3 bg-accent text-white rounded-lg hover:bg-accent-dark transition-colors text-center",children:[T.jsx(be,{className:"h-5 w-5 mx-auto mb-1"}),T.jsx("span",{className:"text-sm",children:"Verify Payments"})]})]})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Documents Pending Verification"}),h?T.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,s)=>T.jsx("div",{className:"animate-pulse",children:T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"}),T.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"})]})},s))}):0===g.length?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No pending documents found"}):T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document ID"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property ID"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Name"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upload Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.slice(0,5).map(e=>{var s,t,a,i,n;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(null==(s=e._id)?void 0:s.slice(-8))||"N/A"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null==(a=null==(t=e.property)?void 0:t._id)?void 0:a.slice(-8))||"N/A"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null==(i=e.owner)?void 0:i.fullName)||"Unknown"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(e.documentType)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.documentName||"N/A"}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${P(e.status)} capitalize`,children:(null==(n=e.status)?void 0:n.replace("_"," "))||"N/A"})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R(e.uploadDate)}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>I(e,"approve"),className:"text-green-600 hover:text-green-800",title:"Verify",children:T.jsx(ne,{className:"h-5 w-5"})}),T.jsx("button",{onClick:()=>I(e,"reject"),className:"text-red-600 hover:text-red-800",title:"Reject",children:T.jsx(xs,{className:"h-5 w-5"})}),T.jsx(r,{to:"/landofficer/document-validation",className:"text-primary hover:text-primary-dark",title:"View Details",children:T.jsx(ke,{className:"h-5 w-5"})})]})})]},e._id)})})]})}),T.jsx("div",{className:"mt-4 text-right",children:T.jsx(r,{to:"/landofficer/document-validation",className:"text-primary hover:underline",children:"View All Pending Documents"})})]}),T.jsxs("div",{className:"mt-8",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Land Officer Features"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx(ke,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h4",{className:"font-semibold",children:"Property Ownership Verification"})]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Verify property ownership details to ensure compliance with legal standards. Review submitted property information and supporting documents."}),T.jsx(r,{to:"/landofficer/property-verification",className:"mt-3 inline-block text-primary hover:underline text-sm",children:"Access Verification Tools"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx(Ce,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h4",{className:"font-semibold",children:"Document Validation"})]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Validate uploaded documents to confirm they meet legal and system requirements. Check document authenticity, format, and completeness."}),T.jsx(r,{to:"/landofficer/document-validation",className:"mt-3 inline-block text-primary hover:underline text-sm",children:"Validate Documents"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx(fe,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h4",{className:"font-semibold",children:"Registration Status Updates"})]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Update and communicate the status of property registration requests. Change registration statuses based on verification results."}),T.jsx(r,{to:"/landofficer/property-verification",className:"mt-3 inline-block text-primary hover:underline text-sm",children:"Update Statuses"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx(be,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h4",{className:"font-semibold",children:"Payment Verification"})]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Verify payment receipts and confirm transaction details. Approve or reject payments for property registration fees."}),T.jsx(r,{to:"/landofficer/payment-verification",className:"mt-3 inline-block text-primary hover:underline text-sm",children:"Verify Payments"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx(ae,{className:"h-6 w-6 text-primary mr-2"}),T.jsx("h4",{className:"font-semibold",children:"Support for Urban Planning"})]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Provide data to support urban development and policy enforcement. Generate reports on property registrations and ownership trends."}),T.jsx(r,{to:"/landofficer/reports",className:"mt-3 inline-block text-primary hover:underline text-sm",children:"Generate Reports"})]})]})]}),N&&T.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:T.jsxs("div",{className:"mt-3 text-center",children:[T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"approve"===S?"Verify Document":"Reject Document"}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Document ID: ",null==(s=null==w?void 0:w._id)?void 0:s.slice(-8)]}),T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Type: ",D(null==w?void 0:w.documentType)]}),T.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Owner: ",null==(t=null==w?void 0:w.owner)?void 0:t.fullName]}),T.jsx("textarea",{value:A,onChange:e=>E(e.target.value),placeholder:"approve"===S?"Add verification notes (optional)":"Reason for rejection (required)",className:"w-full p-2 border border-gray-300 rounded-md",rows:"4",required:"reject"===S})]}),T.jsxs("div",{className:"flex justify-center space-x-4",children:[T.jsx("button",{onClick:()=>{v(!1),k(null),E("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{"approve"===S?(await ga(w._id,A),m.success("Document verified successfully")):(await ja(w._id,A),m.success("Document rejected successfully")),v(!1),k(null),E(""),ka.delete(Ca),ka.delete(Ea),ka.delete(Ra),M(),O()}catch(e){console.error("Error processing document:",e),m.error(e.message||"Failed to process document")}},disabled:"reject"===S&&!A.trim(),className:`px-4 py-2 rounded-md text-white ${"approve"===S?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"approve"===S?"Verify":"Reject"})]})]})})})]}):T.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh]",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),T.jsx("p",{className:"mb-6",children:"You need to be logged in as a Land Officer to view this page."}),T.jsx(r,{to:"/login/land-officer",className:"btn-primary px-6 py-2 rounded-md",children:"Login"})]})},Oa=({propertyId:s})=>{var t,r,a,i,n;const[l,o]=e.useState(null),[c,d]=e.useState(!0),[x,h]=e.useState(null),u=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",p=(e,s="ETB")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"ETB"===s?"USD":s,minimumFractionDigits:0}).format(e).replace("$",s+" "):"N/A",f=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"approved":return"bg-blue-100 text-blue-800";case"under_review":case"verification_pending":return"bg-yellow-100 text-yellow-800";case"rejected":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=e=>{switch(e){case"sale":return"Sale";case"inheritance":return"Inheritance";case"gift":return"Gift";case"court_order":return"Court Order";case"government_acquisition":return"Government Acquisition";case"exchange":return"Exchange";default:return e||"Other"}};return e.useEffect(()=>{const e=async()=>{try{d(!0);const e=await(async e=>{var s;try{return(await Mr.get(`/properties/${e}/transfers`)).data}catch(x){throw(null==(s=x.response)?void 0:s.data)||{message:"Failed to fetch property transfer history"}}})(s);o(e),h(null)}catch(e){h(e.message||"Failed to fetch transfer history"),m.error("Failed to fetch transfer history")}finally{d(!1)}};s&&e()},[s]),c?T.jsx("div",{className:"flex justify-center items-center h-32",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):x?T.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Pe,{className:"h-5 w-5 text-red-600 mr-2"}),T.jsx("span",{className:"text-red-700",children:x})]})}):l&&0!==l.totalTransfers?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ce,{className:"h-8 w-8 text-blue-600 mr-3"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-blue-600",children:"Total Transfers"}),T.jsx("p",{className:"text-2xl font-bold text-blue-900",children:l.totalTransfers})]})]})}),T.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(ne,{className:"h-8 w-8 text-green-600 mr-3"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-green-600",children:"Completed"}),T.jsx("p",{className:"text-2xl font-bold text-green-900",children:(null==(t=l.completedTransfers)?void 0:t.length)||0})]})]})}),T.jsx("div",{className:"bg-red-50 p-4 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(xs,{className:"h-8 w-8 text-red-600 mr-3"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-red-600",children:"Rejected/Cancelled"}),T.jsx("p",{className:"text-2xl font-bold text-red-900",children:(null==(r=l.rejectedTransfers)?void 0:r.length)||0})]})]})})]}),l.currentTransfer&&T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(fe,{className:"h-6 w-6 text-yellow-600 mr-2"}),T.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Current Transfer in Progress"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Transfer Type"}),T.jsx("p",{className:"font-medium text-yellow-900",children:g(l.currentTransfer.transferType)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Status"}),T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f(l.currentTransfer.status)} capitalize`,children:l.currentTransfer.status.replace("_"," ")})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"From"}),T.jsx("p",{className:"font-medium text-yellow-900",children:(null==(a=l.currentTransfer.previousOwner)?void 0:a.fullName)||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"To"}),T.jsx("p",{className:"font-medium text-yellow-900",children:(null==(i=l.currentTransfer.newOwner)?void 0:i.fullName)||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Initiated Date"}),T.jsx("p",{className:"font-medium text-yellow-900",children:u(l.currentTransfer.initiationDate)})]}),(null==(n=l.currentTransfer.transferValue)?void 0:n.amount)&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Transfer Value"}),T.jsx("p",{className:"font-medium text-yellow-900",children:p(l.currentTransfer.transferValue.amount,l.currentTransfer.transferValue.currency)})]})]}),l.currentTransfer.transferReason&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Reason"}),T.jsx("p",{className:"text-yellow-900",children:l.currentTransfer.transferReason})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Transfer History"}),l.transferHistory&&l.transferHistory.length>0?T.jsx("div",{className:"space-y-4",children:l.transferHistory.map((e,s)=>{var t,r,a,i;return T.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-sm font-medium mr-3",children:["#",s+1]}),T.jsx("h4",{className:"text-lg font-medium text-gray-900",children:g(e.transferType)})]}),T.jsx("span",{className:`px-3 py-1 text-sm rounded-full ${f(e.status)} capitalize`,children:e.status.replace("_"," ")})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(ds,{className:"h-5 w-5 text-gray-400 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"From"}),T.jsx("p",{className:"font-medium text-gray-900",children:(null==(t=e.previousOwner)?void 0:t.fullName)||"N/A"})]})]}),T.jsx("div",{className:"flex items-center justify-center",children:T.jsx(J,{className:"h-5 w-5 text-gray-400"})}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(ds,{className:"h-5 w-5 text-gray-400 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"To"}),T.jsx("p",{className:"font-medium text-gray-900",children:(null==(r=e.newOwner)?void 0:r.fullName)||"N/A"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(te,{className:"h-4 w-4 text-gray-400 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500",children:"Initiated"}),T.jsx("p",{className:"font-medium",children:u(e.initiationDate)})]})]}),e.completionDate&&T.jsxs("div",{className:"flex items-center",children:[T.jsx(ne,{className:"h-4 w-4 text-green-500 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500",children:"Completed"}),T.jsx("p",{className:"font-medium",children:u(e.completionDate)})]})]}),(null==(a=e.transferValue)?void 0:a.amount)&&T.jsxs("div",{className:"flex items-center",children:[T.jsx(be,{className:"h-4 w-4 text-gray-400 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500",children:"Value"}),T.jsx("p",{className:"font-medium",children:p(e.transferValue.amount,e.transferValue.currency)})]})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ce,{className:"h-4 w-4 text-gray-400 mr-2"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500",children:"Documents"}),T.jsx("p",{className:"font-medium",children:(null==(i=e.documents)?void 0:i.length)||0})]})]})]}),e.transferReason&&T.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Reason"}),T.jsx("p",{className:"text-gray-900",children:e.transferReason})]})]},e._id)})}):T.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transfer records found."})]})]}):T.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[T.jsx(Ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transfer History"}),T.jsx("p",{className:"text-gray-600",children:"This property has no transfer history records."})]})},Fa=()=>{var s,r,a,i,n,o,c,d,x,h,u,p,f,g,j,y;const{id:b}=l(),N=t(),[v,w]=e.useState(null),[k,S]=e.useState(!0),[C,A]=e.useState(null),[E,R]=e.useState("details"),[P,D]=e.useState(!1),[L,O]=e.useState(null),[F,M]=e.useState(""),[I,_]=e.useState(!1),[U,V]=e.useState(!1),[B,q]=e.useState(""),[$,W]=e.useState(""),H=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Z=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},J=()=>{if(!v||!v.documents||0===v.documents.length)return!0;const e=v.documents.every(e=>"verified"===e.status||!0===e.verified);return console.log("Documents verification check:",{totalDocs:v.documents.length,verifiedDocs:v.documents.filter(e=>"verified"===e.status||!0===e.verified).length,allVerified:e,documents:v.documents.map(e=>({type:e.documentType,verified:e.verified,status:e.status}))}),e};e.useEffect(()=>{(async()=>{try{S(!0);const e=await xa(b);e.timeline||(e.timeline=[{date:e.registrationDate,action:"Application Submitted",description:"Property registration application submitted"}]),w(e),S(!1)}catch(e){A("Failed to fetch property details"),S(!1),m.error("Failed to fetch property details")}})()},[b]);const G=async e=>{try{await fa(v._id,L._id,e,F);const s={...v},t=s.documents.findIndex(e=>e._id===L._id);-1!==t&&(s.documents[t].verified=e,s.documents[t].status=e?"verified":"rejected",s.documents[t].verificationNotes=F,s.documents[t].verifiedAt=(new Date).toISOString()),s.timeline||(s.timeline=[]),s.timeline.push({date:(new Date).toISOString(),action:"Document "+(e?"Verified":"Rejected"),description:`${L.documentType} ${e?"verified":"rejected"}${F?": "+F:""}`}),w(s),D(!1),O(null),M(""),m.success(`Document ${e?"verified":"rejected"} successfully`)}catch(s){m.error(s.message||"Failed to verify document")}};return k?T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsx("div",{className:"flex justify-center items-center h-64",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):C?T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error"}),T.jsx("p",{className:"text-gray-700",children:C}),T.jsx("button",{onClick:()=>N("/property-verification"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",children:"Back to Property Verification"})]})}):v?T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>N("/landofficer/property-verification"),className:"flex items-center text-primary hover:text-primary-dark mb-2",children:[T.jsx(z,{className:"h-4 w-4 mr-1"}),"Back to Property Verification"]}),T.jsx("h1",{className:"text-2xl font-bold",children:"Property Verification"}),T.jsxs("p",{className:"text-gray-600",children:["Plot Number: ",v.plotNumber]})]}),T.jsx("div",{className:"mt-4 md:mt-0 flex items-center",children:T.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Z(v.status)} capitalize`,children:v.status.replace("_"," ")})})]}),T.jsx("div",{className:"border-b border-gray-200 mb-6",children:T.jsxs("nav",{className:"flex -mb-px",children:[T.jsx("button",{className:"py-2 px-4 border-b-2 font-medium text-sm "+("details"===E?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>R("details"),children:"Property Details"}),T.jsx("button",{className:"py-2 px-4 border-b-2 font-medium text-sm "+("documents"===E?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>R("documents"),children:"Documents"}),T.jsx("button",{className:"py-2 px-4 border-b-2 font-medium text-sm "+("timeline"===E?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>R("timeline"),children:"Timeline"}),T.jsx("button",{className:"py-2 px-4 border-b-2 font-medium text-sm "+("transfers"===E?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>R("transfers"),children:"Transfer History"})]})}),"details"===E&&T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(Me,{className:"h-5 w-5 text-primary mr-2"}),T.jsx("h2",{className:"text-lg font-semibold",children:"Property Information"})]}),T.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("div",{className:"text-gray-600",children:"Plot Number:"}),T.jsx("div",{children:v.plotNumber}),T.jsx("div",{className:"text-gray-600",children:"Property Type:"}),T.jsx("div",{className:"capitalize",children:v.propertyType}),T.jsx("div",{className:"text-gray-600",children:"Area:"}),T.jsxs("div",{children:[v.area," sq. meters"]}),T.jsx("div",{className:"text-gray-600",children:"Sub-City:"}),T.jsx("div",{children:v.location.subCity}),T.jsx("div",{className:"text-gray-600",children:"Kebele:"}),T.jsx("div",{children:v.location.kebele}),v.location.streetName&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-gray-600",children:"Street Name:"}),T.jsx("div",{children:v.location.streetName})]}),v.location.houseNumber&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-gray-600",children:"House Number:"}),T.jsx("div",{children:v.location.houseNumber})]}),T.jsx("div",{className:"text-gray-600",children:"Registration Date:"}),T.jsx("div",{children:H(v.registrationDate)}),T.jsx("div",{className:"text-gray-600",children:"Last Updated:"}),T.jsx("div",{children:H(v.lastUpdated)})]})})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(ds,{className:"h-5 w-5 text-primary mr-2"}),T.jsx("h2",{className:"text-lg font-semibold",children:"Owner Information"})]}),T.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("div",{className:"text-gray-600",children:"Full Name:"}),T.jsx("div",{children:v.owner.fullName}),T.jsx("div",{className:"text-gray-600",children:"National ID:"}),T.jsx("div",{children:v.owner.nationalId}),T.jsx("div",{className:"text-gray-600",children:"Phone Number:"}),T.jsx("div",{children:v.owner.phoneNumber}),T.jsx("div",{className:"text-gray-600",children:"Email Address:"}),T.jsx("div",{children:v.owner.email}),T.jsx("div",{className:"text-gray-600",children:"Role:"}),T.jsx("div",{className:"capitalize",children:v.owner.role})]})})]})]}),"documents"===E&&T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(Ce,{className:"h-5 w-5 text-primary mr-2"}),T.jsx("h2",{className:"text-lg font-semibold",children:"Documents"})]}),T.jsx("div",{className:"space-y-4",children:v.documents.map(e=>T.jsx("div",{className:"p-4 border rounded-lg",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-medium",children:e.documentType}),T.jsx("p",{className:"text-sm text-gray-600",children:e.documentName}),T.jsxs("p",{className:"text-sm text-gray-600",children:["Uploaded: ",H(e.uploadDate)]}),e.verificationNotes&&T.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Notes: ",e.verificationNotes]})]}),T.jsxs("div",{className:"flex flex-col items-end",children:[T.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("verified"===e.status||!0===e.verified?"bg-green-100 text-green-800":"rejected"===e.status||!1===e.verified?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:"verified"===e.status||!0===e.verified?"Verified":"rejected"===e.status||!1===e.verified?"Rejected":"Pending"}),T.jsx("button",{onClick:()=>{O(e),M(e.verificationNotes||""),D(!0)},className:"mt-2 text-primary hover:text-primary-dark text-sm",children:e.status&&"pending"!==e.status||void 0!==e.verified?"Update Verification":"Verify Document"})]})]})},e._id))})]}),"timeline"===E&&T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(fe,{className:"h-5 w-5 text-primary mr-2"}),T.jsx("h2",{className:"text-lg font-semibold",children:"Timeline"})]}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-0.5 bg-gray-200"}),T.jsx("div",{className:"space-y-6",children:v.timeline.map((e,s)=>T.jsxs("div",{className:"relative pl-10",children:[T.jsx("div",{className:"absolute left-0 top-1.5 w-10 flex items-center justify-center",children:T.jsx("div",{className:"w-3.5 h-3.5 bg-primary rounded-full"})}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[T.jsx("h3",{className:"font-medium",children:e.action}),T.jsx("span",{className:"text-sm text-gray-500",children:H(e.date)})]}),T.jsx("p",{className:"text-gray-600 mt-1",children:e.description})]})]},s))})]})]}),"transfers"===E&&T.jsx("div",{children:T.jsx(Oa,{propertyId:v._id})}),T.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:T.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between",children:[T.jsxs("div",{className:"mb-4 md:mb-0",children:[T.jsx("p",{className:"text-gray-600 mb-2",children:"Verification Status"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Z(v.status)} capitalize`,children:v.status.replace("_"," ")}),"pending"===v.status&&T.jsx("span",{className:"ml-2 text-sm text-gray-600",children:J()?"All documents verified, ready for approval":`${(null==(s=v.documents)?void 0:s.filter(e=>"verified"===e.status||!0===e.verified).length)||0}/${(null==(r=v.documents)?void 0:r.length)||0} documents verified`})]}),T.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[T.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Process Status"}),T.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Documents Validated:"}),T.jsx("span",{className:v.documentsValidated?"text-green-600 font-medium":"text-red-600",children:v.documentsValidated?"Yes":"No"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Payment Completed:"}),T.jsx("span",{className:v.paymentCompleted?"text-green-600 font-medium":"text-red-600",children:v.paymentCompleted?"Yes":"No"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Ready for Approval:"}),T.jsx("span",{className:v.documentsValidated&&v.paymentCompleted?"text-green-600 font-medium":"text-red-600",children:v.documentsValidated&&v.paymentCompleted?"Yes":"No"})]})]})]})]}),T.jsxs("div",{className:"flex space-x-3",children:[("payment_completed"===v.status||"under_review"===v.status)&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>V(!0),className:"px-4 py-2 border border-red-500 text-red-500 rounded-md hover:bg-red-50",children:"Reject Property"}),T.jsx("button",{onClick:()=>_(!0),disabled:!J()||!v.paymentCompleted,className:"px-4 py-2 rounded-md transition-colors "+(J()&&v.paymentCompleted?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:J()?v.paymentCompleted?"Approve this property":"Payment must be completed before approval":"All documents must be verified before approval",children:"Approve Property"})]}),"documents_validated"===v.status&&T.jsx("div",{className:"text-blue-600 font-medium",children:"✓ Documents validated - Waiting for payment"}),"payment_pending"===v.status&&T.jsx("div",{className:"text-purple-600 font-medium",children:"⏳ Payment processing"}),"approved"===v.status&&T.jsx("div",{className:"text-green-600 font-medium",children:"✓ Property has been approved"}),"rejected"===v.status&&T.jsx("div",{className:"text-red-600 font-medium",children:"✗ Property has been rejected"})]})]})})]}),P&&L&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verify Document"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Document Type"}),T.jsx("p",{className:"font-medium",children:L.documentType})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"File Name"}),T.jsx("p",{className:"font-medium",children:L.documentName})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Upload Date"}),T.jsx("p",{className:"font-medium",children:H(L.uploadDate)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"verificationNotes",className:"form-label",children:"Verification Notes"}),T.jsx("textarea",{id:"verificationNotes",className:"form-input",rows:"3",value:F,onChange:e=>M(e.target.value),placeholder:"Add any notes about this document"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Reject Document"}),T.jsx("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Verify Document"})]})]})}),I&&v&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Confirm Property Approval"}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Property Details"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Property ID:"}),T.jsx("span",{className:"text-gray-800",children:null==(a=v._id)?void 0:a.slice(-8)})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Plot Number:"}),T.jsx("span",{className:"text-gray-800",children:v.plotNumber})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Property Type:"}),T.jsx("span",{className:"text-gray-800 capitalize",children:v.propertyType})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Area:"}),T.jsxs("span",{className:"text-gray-800",children:[v.area," sq. meters"]})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Location:"}),T.jsxs("span",{className:"text-gray-800",children:[null==(i=v.location)?void 0:i.subCity,", Kebele ",null==(n=v.location)?void 0:n.kebele]})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Registration Date:"}),T.jsx("span",{className:"text-gray-800",children:H(v.registrationDate)})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Current Status:"}),T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":case"completed":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(v.status)}`,children:null==(o=v.status)?void 0:o.replace("_"," ")})]})]})]}),T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Property Owner Details"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Full Name:"}),T.jsx("span",{className:"text-gray-800",children:null==(c=v.owner)?void 0:c.fullName})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),T.jsx("span",{className:"text-gray-800",children:null==(d=v.owner)?void 0:d.email})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"National ID:"}),T.jsx("span",{className:"text-gray-800",children:null==(x=v.owner)?void 0:x.nationalId})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Phone:"}),T.jsx("span",{className:"text-gray-800",children:(null==(h=v.owner)?void 0:h.phoneNumber)||"N/A"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Role:"}),T.jsx("span",{className:"text-gray-800 capitalize",children:(null==(u=v.owner)?void 0:u.role)||"N/A"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"font-medium text-gray-600",children:"Registration Date:"}),T.jsx("span",{className:"text-gray-800",children:H(null==(p=v.owner)?void 0:p.createdAt)})]})]})]})]}),T.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Documents Status"}),T.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(null==(f=v.documents)?void 0:f.length)||0}),T.jsx("div",{className:"text-sm text-gray-600",children:"Total Documents"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-green-600",children:(null==(g=v.documents)?void 0:g.filter(e=>"verified"===e.status||!0===e.verified).length)||0}),T.jsx("div",{className:"text-sm text-gray-600",children:"Verified"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(null==(j=v.documents)?void 0:j.filter(e=>"pending"===e.status&&!0!==e.verified&&!1!==e.verified).length)||0}),T.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-red-600",children:(null==(y=v.documents)?void 0:y.filter(e=>"rejected"===e.status||!1===e.verified).length)||0}),T.jsx("div",{className:"text-sm text-gray-600",children:"Rejected"})]})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"approvalNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Approval Notes (Optional)"}),T.jsx("textarea",{id:"approvalNotes",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-green-500 focus:border-green-500",rows:"4",value:B,onChange:e=>q(e.target.value),placeholder:"Add any notes about this approval (optional)"})]}),T.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:T.jsxs("div",{className:"flex items-start",children:[T.jsx("div",{className:"flex-shrink-0",children:T.jsx(ne,{className:"h-5 w-5 text-yellow-600"})}),T.jsxs("div",{className:"ml-3",children:[T.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Confirm Property Approval"}),T.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[T.jsx("p",{children:"By approving this property, you confirm that:"}),T.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[T.jsx("li",{children:"All required documents have been verified and are authentic"}),T.jsx("li",{children:"Property details are accurate and complete"}),T.jsx("li",{children:"Owner information has been validated"}),T.jsx("li",{children:"The property meets all legal requirements for registration"})]}),T.jsx("p",{className:"mt-2 font-medium",children:'This action will change the property status to "Approved" and cannot be easily undone.'})]})]})]})}),T.jsxs("div",{className:"flex justify-end space-x-4",children:[T.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await ua(v._id,B);const e={...v};e.status="approved",e.approvalDate=(new Date).toISOString(),e.approvalNotes=B,e.timeline||(e.timeline=[]),e.timeline.push({date:(new Date).toISOString(),action:"Property Approved",description:B||"Property registration approved"}),w(e),_(!1),q(""),m.success("Property approved successfully")}catch(e){m.error(e.message||"Failed to approve property")}},className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-medium",children:"Confirm Approval"})]})]})}),U&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reject Property"}),T.jsx("p",{className:"mb-4",children:"Are you sure you want to reject this property? This action will update the property status to rejected."}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("label",{htmlFor:"rejectionReason",className:"form-label",children:["Reason for Rejection ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("textarea",{id:"rejectionReason",className:"form-input",rows:"3",value:$,onChange:e=>W(e.target.value),placeholder:"Provide a reason for rejecting this property",required:!0}),!$&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Reason is required"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await pa(v._id,$);const e={...v};e.status="rejected",e.rejectionDate=(new Date).toISOString(),e.rejectionReason=$,e.timeline||(e.timeline=[]),e.timeline.push({date:(new Date).toISOString(),action:"Property Rejected",description:$}),w(e),V(!1),W(""),m.success("Property rejected successfully")}catch(e){m.error(e.message||"Failed to reject property")}},disabled:!$,className:"px-4 py-2 rounded-md "+($?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Reject Property"})]})]})})]}):T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),T.jsx("p",{className:"text-gray-700",children:"The property you are looking for does not exist or you do not have permission to view it."}),T.jsx("button",{onClick:()=>N("/property-verification"),className:"mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",children:"Back to Property Verification"})]})})},Ma=async(e={})=>{try{console.log("Fetching users with filters:",e);const s=(new Date).getTime();e.timestamp=s;const t=await Mr.get("/users",{params:e});if(console.log("API response:",t),t&&t.data)return t.data.users&&Array.isArray(t.data.users)?t.data:Array.isArray(t.data)?{users:t.data,pagination:{total:t.data.length,page:1,limit:t.data.length,pages:1}}:(console.warn("Unexpected response structure:",t.data),{users:[],pagination:{total:0,page:1,limit:10,pages:1}});throw console.warn("Empty response received from API"),{message:"Empty response received from server"}}catch(s){if(console.error("Error in getAllUsers:",s),s.response){if(console.error("Response error data:",s.response.data),console.error("Response error status:",s.response.status),console.error("Response headers:",s.response.headers),401===s.response.status)throw{message:"Authentication required. Please log in again."};if(403===s.response.status)throw{message:"You do not have permission to access this resource."};if(404===s.response.status)throw{message:"No users found."};throw s.response.data||{message:"Failed to fetch users"}}if(s.request)throw console.error("No response received:",s.request),{message:"No response received from server. Please check your connection."};throw{message:s.message||"Network error. Please check your connection."}}},Ia=async()=>{var e;try{return(await Mr.get("/users/stats")).data}catch(s){throw(null==(e=s.response)?void 0:e.data)||{message:"Failed to fetch user statistics"}}},_a=e.memo(({limit:s=10,showFilters:t=!0,showHeader:a=!0,className:i="",userSpecific:n=!1})=>{const[l,o]=e.useState([]),[c,d]=e.useState([]),[x,h]=e.useState(!0),[u,p]=e.useState({type:"all",timeRange:"7d",status:"all"}),[f,g]=e.useState(!1),{user:j}=Vr();e.useEffect(()=>{y()},[s]),e.useEffect(()=>{b()},[l,u]);const y=async()=>{try{h(!0);const e=Math.min(s+5,20),t=n?await(async(e={})=>{var s;try{return(await Mr.get("/logs/user/recent",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch user recent activities"}}})({limit:e}):await(async(e={})=>{var s;try{return(await Mr.get("/logs/recent",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch recent activities"}}})({limit:e});o(t||[])}catch(e){console.error("Error loading recent activities:",e),m.error("Failed to load recent activities"),o([])}finally{h(!1)}},b=()=>{let e=[...l];"all"!==u.type&&(e=e.filter(e=>e.action===u.type));const t=new Date,r={"1d":1,"7d":7,"30d":30,"90d":90};if("all"!==u.timeRange&&r[u.timeRange]){const s=new Date(t.getTime()-24*r[u.timeRange]*60*60*1e3);e=e.filter(e=>new Date(e.timestamp)>=s)}"all"!==u.status&&(e=e.filter(e=>e.status===u.status)),d(e.slice(0,s))},N=(e,s)=>{const t="h-5 w-5";switch(e){case"application_submitted":return T.jsx(Ce,{className:`${t} text-yellow-600`});case"application_approved":return T.jsx(ne,{className:`${t} text-green-600`});case"application_rejected":return T.jsx(xs,{className:`${t} text-red-600`});case"payment_made":return T.jsx(be,{className:`${t} text-green-600`});case"document_uploaded":return T.jsx(Ce,{className:`${t} text-blue-600`});case"user_registered":return T.jsx(ds,{className:`${t} text-purple-600`});case"status_changed":return"approved"===s?T.jsx(ne,{className:`${t} text-green-600`}):T.jsx(Pe,{className:`${t} text-yellow-600`});default:return T.jsx(fe,{className:`${t} text-gray-600`})}},v=(e,s)=>{switch(e){case"application_submitted":return"bg-yellow-50 border-yellow-200";case"application_approved":case"payment_made":return"bg-green-50 border-green-200";case"application_rejected":return"bg-red-50 border-red-200";case"document_uploaded":return"bg-blue-50 border-blue-200";case"user_registered":return"bg-purple-50 border-purple-200";default:return"bg-gray-50 border-gray-200"}},w=e=>({application_submitted:"Application Submitted",application_approved:"Application Approved",application_rejected:"Application Rejected",payment_made:"Payment Made",document_uploaded:"Document Uploaded",user_registered:"User Registered",status_changed:"Status Changed"}[e.action]||e.action.replace("_"," ").toUpperCase()),k=e=>{const s=e.property,t=e.user||e.performedBy;switch(e.action){case"application_submitted":return`Application for ${(null==s?void 0:s.plotNumber)||"property"} submitted by ${(null==t?void 0:t.fullName)||"Unknown"}`;case"application_approved":return`Application for ${(null==s?void 0:s.plotNumber)||"property"} approved`;case"application_rejected":return`Application for ${(null==s?void 0:s.plotNumber)||"property"} rejected`;case"payment_made":return`Payment made for ${(null==s?void 0:s.plotNumber)||"property"} by ${(null==t?void 0:t.fullName)||"Unknown"}`;case"document_uploaded":return`Document uploaded for ${(null==s?void 0:s.plotNumber)||"property"}`;case"user_registered":return`New user ${(null==t?void 0:t.fullName)||"Unknown"} registered`;case"status_changed":return`Status changed to ${e.status} for ${(null==s?void 0:s.plotNumber)||"property"}`;default:return e.description||"Activity performed"}},S=e=>{const s=new Date,t=new Date(e),r=Math.floor((s-t)/1e3);if(r<60)return"Just now";if(r<3600){const e=Math.floor(r/60);return`${e} minute${e>1?"s":""} ago`}if(r<86400){const e=Math.floor(r/3600);return`${e} hour${e>1?"s":""} ago`}if(r<604800){const e=Math.floor(r/86400);return`${e} day${e>1?"s":""} ago`}return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==s.getFullYear()?"numeric":void 0})};return x?T.jsxs("div",{className:`bg-white rounded-lg shadow-sm border ${i}`,children:[a&&T.jsx("div",{className:"p-6 border-b",children:T.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"})}),T.jsx("div",{className:"p-6 space-y-4",children:[...Array(5)].map((e,s)=>T.jsxs("div",{className:"flex items-start space-x-4 animate-pulse",children:[T.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),T.jsxs("div",{className:"flex-1 space-y-2",children:[T.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),T.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))})]}):T.jsxs("div",{className:`bg-white rounded-lg shadow-sm border ${i}`,children:[a&&T.jsx("div",{className:"p-6 border-b",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[T.jsx(fe,{className:"h-5 w-5 mr-2 text-gray-500"}),"Recent Activity"]}),t&&T.jsxs("button",{onClick:()=>g(!f),className:"flex items-center text-sm text-gray-500 hover:text-gray-700",children:[T.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Filters"]})]})}),t&&f&&T.jsx("div",{className:"p-4 border-b bg-gray-50",children:T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),T.jsxs("select",{value:u.type,onChange:e=>p({...u,type:e.target.value}),className:"w-full form-input text-sm",children:[T.jsx("option",{value:"all",children:"All Types"}),T.jsx("option",{value:"application_submitted",children:"Application Submitted"}),T.jsx("option",{value:"application_approved",children:"Application Approved"}),T.jsx("option",{value:"application_rejected",children:"Application Rejected"}),T.jsx("option",{value:"payment_made",children:"Payment Made"}),T.jsx("option",{value:"document_uploaded",children:"Document Uploaded"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Range"}),T.jsxs("select",{value:u.timeRange,onChange:e=>p({...u,timeRange:e.target.value}),className:"w-full form-input text-sm",children:[T.jsx("option",{value:"all",children:"All Time"}),T.jsx("option",{value:"1d",children:"Last 24 Hours"}),T.jsx("option",{value:"7d",children:"Last 7 Days"}),T.jsx("option",{value:"30d",children:"Last 30 Days"}),T.jsx("option",{value:"90d",children:"Last 90 Days"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),T.jsxs("select",{value:u.status,onChange:e=>p({...u,status:e.target.value}),className:"w-full form-input text-sm",children:[T.jsx("option",{value:"all",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"approved",children:"Approved"}),T.jsx("option",{value:"rejected",children:"Rejected"}),T.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),T.jsxs("div",{className:"p-6",children:[0===c.length?T.jsxs("div",{className:"text-center py-8",children:[T.jsx(fe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-500",children:"No recent activity found"})]}):T.jsx("div",{className:"space-y-4",children:c.map((e,s)=>{const t=(e=>{var s,t,r,a;return(null==(s=e.property)?void 0:s._id)||(null==(t=e.property)?void 0:t.id)?`/property/${e.property._id||e.property.id}`:((null==(r=e.user)?void 0:r._id)||(null==(a=e.user)?void 0:a.id))&&"admin"===(null==j?void 0:j.role)?`/admin/users/${e.user._id||e.user.id}`:null})(e),a=()=>T.jsx("div",{className:`p-4 rounded-lg border ${v(e.action,e.status)} hover:shadow-sm transition-shadow`,children:T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"flex-shrink-0 mt-1",children:N(e.action,e.status)}),T.jsx("div",{className:"flex-1 min-w-0",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"text-sm font-medium text-gray-900",children:w(e)}),T.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k(e)}),e.notes&&T.jsxs("p",{className:"text-xs text-gray-500 mt-2 italic",children:['"',e.notes,'"']})]}),T.jsxs("div",{className:"flex-shrink-0 ml-4 text-right",children:[T.jsx("p",{className:"text-xs text-gray-500",children:S(e.timestamp)}),t&&T.jsx("div",{className:"mt-1",children:T.jsx(Le,{className:"h-4 w-4 text-gray-400"})})]})]})})]})});return t?T.jsx(r,{to:t,children:T.jsx(a,{})},e.id||s):T.jsx("div",{children:T.jsx(a,{})},e.id||s)})}),c.length>0&&l.length>s&&T.jsx("div",{className:"mt-6 text-center",children:T.jsxs(r,{to:"/dashboard/activity",className:"inline-flex items-center text-sm text-primary hover:text-primary-dark",children:["View all activity",T.jsx(xe,{className:"h-4 w-4 ml-1"})]})})]})]})}),Ua=Object.freeze(Object.defineProperty({__proto__:null,default:_a},Symbol.toStringTag,{value:"Module"})),Va=()=>{const{user:s}=Vr(),[t,a]=e.useState(!0),[i,n]=e.useState({totalUsers:0,totalProperties:0,pendingApplications:0,completedApplications:0,totalPayments:0,pendingPayments:0,revenueThisMonth:0,revenueLastMonth:0}),[l,o]=e.useState([]),[c,d]=e.useState([]);return e.useEffect(()=>{(async()=>{try{a(!0);let r={totalUsers:0,totalProperties:0,pendingApplications:0,completedApplications:0,totalPayments:0,pendingPayments:0,revenueThisMonth:0,revenueLastMonth:0};try{const e=await Ia();console.log("User stats received:",e),r.totalUsers=e.totalUsers||0}catch(e){console.error("Error fetching user stats:",e),m.error("Failed to load user statistics")}try{const e=await ha();console.log("Properties received:",e);let s=[];Array.isArray(e)?s=e:e&&Array.isArray(e.properties)&&(s=e.properties);const t=s.filter(e=>"pending"===e.status).length,a=s.filter(e=>"approved"===e.status).length;r.totalProperties=s.length||0,r.pendingApplications=t,r.completedApplications=a}catch(s){console.error("Error fetching properties:",s),m.error("Failed to load property statistics")}n(r);try{const e=await(async()=>{var e;try{const e=await Mr.get("/users/land-officers");return console.log("Land officers response:",e.data),Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.landOfficers)?e.data.landOfficers:(console.warn("Unexpected land officers response structure:",e.data),[])}catch(s){throw console.error("Error fetching land officers:",s),(null==(e=s.response)?void 0:e.data)||{message:"Failed to fetch land officers"}}})();console.log("Land officers received:",e),Array.isArray(e)?d(e.map(e=>({id:e._id,name:e.fullName,email:e.email,assignedApplications:0,completedApplications:0}))):(console.warn("Land officers data is not an array:",e),d([]))}catch(t){console.error("Error fetching land officers:",t),m.error("Failed to load land officers"),d([])}o([])}catch(r){console.error("Error loading dashboard data:",r),m.error("Failed to load dashboard data")}finally{a(!1)}})()},[]),t?T.jsx("div",{className:"flex justify-center items-center h-[70vh]",children:"Loading..."}):s&&"admin"===s.role?T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Dashboard"}),T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-semibold",children:["Welcome, ",s.fullName||"Administrator"]}),T.jsx("p",{className:"text-gray-600",children:"Manage the property registration system"})]}),T.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-4",children:[T.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 flex items-center",children:[T.jsx($,{className:"h-5 w-5 mr-1"}),"Refresh"]}),T.jsx(r,{to:"/admin/users",className:"btn-primary px-4 py-2 rounded-md",children:"Manage Users"}),T.jsx(r,{to:"/admin/reports",className:"bg-ethiopian-yellow text-gray-900 px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors",children:"View Reports"})]})]})]}),T.jsx("div",{className:"mb-8",children:T.jsx(ma,{placeholder:"Search users, properties, applications...",searchType:"all",className:"w-full"})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Users"}),T.jsx("p",{className:"text-3xl font-bold text-ethiopian-green",children:i.totalUsers}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Total registered users"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Properties"}),T.jsx("p",{className:"text-3xl font-bold text-ethiopian-yellow",children:i.totalProperties}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Total registered properties"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Applications"}),T.jsx("p",{className:"text-3xl font-bold text-ethiopian-red",children:i.pendingApplications}),T.jsx("p",{className:"text-gray-600 mt-1",children:"Pending applications"})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Revenue (This Month)"}),T.jsx("p",{className:"text-3xl font-bold text-blue-600",children:((e,s="ETB")=>new Intl.NumberFormat("en-ET",{style:"currency",currency:s,minimumFractionDigits:2}).format(e))(i.revenueThisMonth)}),T.jsxs("p",{className:"text-gray-600 mt-1",children:[i.revenueThisMonth>i.revenueLastMonth?T.jsxs("span",{className:"text-green-600",children:["↑ ",Math.round((i.revenueThisMonth-i.revenueLastMonth)/i.revenueLastMonth*100),"%"]}):T.jsxs("span",{className:"text-red-600",children:["↓ ",Math.round((i.revenueLastMonth-i.revenueThisMonth)/i.revenueLastMonth*100),"%"]})," ","from last month"]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[T.jsx("div",{className:"lg:col-span-2",children:T.jsx(_a,{limit:8,showFilters:!0,showHeader:!0,className:""})}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Land Officers"}),T.jsx("div",{className:"space-y-4",children:c.map(e=>T.jsxs("div",{className:"border-b pb-4 last:border-b-0 last:pb-0",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium",children:e.name}),T.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]}),T.jsx(r,{to:`/admin/users/${e.id}`,className:"text-ethiopian-green text-sm hover:underline",children:"View"})]}),T.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[T.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[T.jsx("p",{className:"text-xs text-gray-500",children:"Assigned"}),T.jsx("p",{className:"font-semibold",children:e.assignedApplications})]}),T.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[T.jsx("p",{className:"text-xs text-gray-500",children:"Completed"}),T.jsx("p",{className:"font-semibold",children:e.completedApplications})]})]})]},e.id))}),T.jsx("div",{className:"mt-4 text-right",children:T.jsx(r,{to:"/admin/land-officers",className:"text-ethiopian-green hover:underline",children:"Manage Land Officers"})})]})]}),T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[T.jsxs(r,{to:"/admin/users/new",className:"bg-gray-50 hover:bg-gray-100 p-4 rounded-lg flex flex-col items-center text-center transition-colors",children:[T.jsx("div",{className:"w-12 h-12 bg-ethiopian-green bg-opacity-10 rounded-full flex items-center justify-center mb-2",children:T.jsx("span",{className:"text-ethiopian-green text-xl",children:"👤"})}),T.jsx("h4",{className:"font-medium",children:"Add New User"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Create user accounts"})]}),T.jsxs(r,{to:"/admin/properties",className:"bg-gray-50 hover:bg-gray-100 p-4 rounded-lg flex flex-col items-center text-center transition-colors",children:[T.jsx("div",{className:"w-12 h-12 bg-ethiopian-yellow bg-opacity-10 rounded-full flex items-center justify-center mb-2",children:T.jsx("span",{className:"text-ethiopian-yellow text-xl",children:"📝"})}),T.jsx("h4",{className:"font-medium",children:"Review Properties"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Manage pending properties"})]}),T.jsxs(r,{to:"/admin/payments",className:"bg-gray-50 hover:bg-gray-100 p-4 rounded-lg flex flex-col items-center text-center transition-colors",children:[T.jsx("div",{className:"w-12 h-12 bg-ethiopian-red bg-opacity-10 rounded-full flex items-center justify-center mb-2",children:T.jsx("span",{className:"text-ethiopian-red text-xl",children:"💰"})}),T.jsx("h4",{className:"font-medium",children:"Verify Payments"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Process pending payments"})]}),T.jsxs(r,{to:"/admin/reports",className:"bg-gray-50 hover:bg-gray-100 p-4 rounded-lg flex flex-col items-center text-center transition-colors",children:[T.jsx("div",{className:"w-12 h-12 bg-blue-500 bg-opacity-10 rounded-full flex items-center justify-center mb-2",children:T.jsx("span",{className:"text-blue-500 text-xl",children:"📊"})}),T.jsx("h4",{className:"font-medium",children:"Generate Reports"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Create system reports"})]})]})]})]}):T.jsxs("div",{className:"flex flex-col items-center justify-center h-[70vh]",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),T.jsx("p",{className:"mb-6",children:"You need to be logged in as an Administrator to view this page."}),T.jsx(r,{to:"/login",className:"btn-primary px-6 py-2 rounded-md",children:"Login"})]})},Ba=()=>T.jsxs("div",{className:"min-h-[70vh] flex flex-col items-center justify-center px-4 py-16",children:[T.jsx("h1",{className:"text-6xl font-bold text-ethiopian-green mb-4",children:"404"}),T.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Page Not Found"}),T.jsx("p",{className:"text-gray-600 text-center max-w-md mb-8",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),T.jsx(r,{to:"/",className:"btn-primary px-6 py-3 rounded-md",children:"Return to Home"})]}),za=({role:e,size:s="sm"})=>{const t=(e=>{switch(e){case"admin":return{label:"Admin",bgColor:"bg-red-100",textColor:"text-red-800",borderColor:"border-red-200"};case"landOfficer":return{label:"Land Officer",bgColor:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-blue-200"};case"user":return{label:"User",bgColor:"bg-green-100",textColor:"text-green-800",borderColor:"border-green-200"};default:return{label:"Unknown",bgColor:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-gray-200"}}})(e),r=(e=>{switch(e){case"xs":return"px-1.5 py-0.5 text-xs";case"sm":default:return"px-2 py-1 text-xs";case"md":return"px-2.5 py-1.5 text-sm";case"lg":return"px-3 py-2 text-base"}})(s);return T.jsx("span",{className:`\n        inline-flex items-center font-medium rounded-full border\n        ${t.bgColor} ${t.textColor} ${t.borderColor}\n        ${r}\n      `,children:t.label})},qa=()=>{const[s,a]=e.useState([]),[i,n]=e.useState(!0),[l,o]=e.useState(null),[c,d]=e.useState(null),[x,h]=e.useState(!1),[u,p]=e.useState(!1),[f,g]=e.useState(!1),[j,y]=e.useState(""),[b,N]=e.useState(""),[v,w]=e.useState(""),[k,S]=e.useState(1),[C,A]=e.useState(1),[E]=e.useState(10),{user:R,isAuthenticated:P,hasRole:D}=Vr(),L=t();e.useEffect(()=>{if(P())return D("admin")?void 0:(m.error("You do not have permission to access this page"),void L("/dashboard/user"));L("/admin-login",{state:{from:{pathname:"/admin/users"}}})},[P,D,L]),e.useEffect(()=>(document.title="User Management | Property Registration System",()=>{document.title="Property Registration System"}),[]),e.useEffect(()=>{P()&&D("admin")&&O()},[k,v,b,P,D]);const O=async()=>{var e,s,t,r;try{if(n(!0),o(null),!P())return o("You must be logged in as an admin to view this page"),a([]),A(1),n(!1),void L("/admin-login",{state:{from:{pathname:"/admin/users"}}});if(!D("admin"))return o("You do not have permission to access this page"),a([]),A(1),n(!1),void L("/dashboard/user");const l={page:k,limit:E};b&&(l.search=b),v&&(l.role=v);const c=localStorage.getItem("user");if(c){const e=JSON.parse(c);console.log("Current user:",e),console.log("Token being used:",e.token)}try{console.log("Fetching users with params:",l);const s=await Ma(l);console.log("API Response:",s),s&&s.users&&Array.isArray(s.users)?(console.log("Users found:",s.users.length),a(s.users),A((null==(e=s.pagination)?void 0:e.pages)||1)):Array.isArray(s)?(console.log("Users found (array):",s.length),a(s),A(Math.ceil(s.length/E)||1)):(console.log("No users found in response or unexpected structure:",s),a([]),A(1))}catch(i){console.error("API error:",i),401===(null==(s=i.response)?void 0:s.status)?(o("Authentication failed. Please login again."),m.error("Authentication failed. Please login again.")):403===(null==(t=i.response)?void 0:t.status)?(o("Access denied. Admin privileges required."),m.error("Access denied. Admin privileges required.")):500===(null==(r=i.response)?void 0:r.status)?(o("Server error. Please try again later."),m.error("Server error. Please try again later.")):(o(i.message||"Failed to fetch users from server"),m.error("Failed to fetch users. Please check your connection and try again.")),a([]),A(1)}n(!1)}catch(l){console.error("Error in fetchUsers:",l),o("Failed to fetch users: "+(l.message||"Unknown error")),a([]),A(1),n(!1),m.error(l.message||"Failed to fetch users")}},F=async e=>{try{n(!0);const r=s.find(s=>s._id===e);if(r)return d(r),h(!0),void n(!1);try{const s=await(async e=>{try{return(await Mr.get(`/users/${e}`)).data}catch(l){if(console.error("Error in getUserById:",l),l.response){if(console.error("Response error data:",l.response.data),console.error("Response error status:",l.response.status),401===l.response.status)throw{message:"Authentication required. Please log in again."};if(403===l.response.status)throw{message:"You do not have permission to access this resource."};if(404===l.response.status)throw{message:"User not found."};throw l.response.data||{message:"Failed to fetch user"}}throw{message:"Network error. Please check your connection."}}})(e);d(s),h(!0)}catch(t){console.error("Error fetching user details from API:",t),m.error("Failed to fetch user details")}n(!1)}catch(r){console.error("Error in handleViewUser:",r),o("Failed to fetch user details"),n(!1),m.error(r.message||"Failed to fetch user details")}};return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:"User Management"}),T.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[T.jsxs("button",{onClick:O,disabled:i,className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 flex items-center",children:[T.jsx($,{className:"h-5 w-5 mr-1"}),"Refresh"]}),T.jsxs(r,{to:"/admin/users/new",className:"btn-primary px-4 py-2 rounded-md flex items-center",children:[T.jsx(os,{className:"h-5 w-5 mr-1"}),"Add New User"]})]})]}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),S(1),O()},className:"flex-grow",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by name, email, or ID...",className:"form-input rounded-r-none",value:b,onChange:e=>N(e.target.value)}),T.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark flex items-center",children:[T.jsx(ze,{className:"h-5 w-5 mr-1"}),"Search"]})]})}),T.jsx("div",{className:"w-full md:w-64",children:T.jsxs("select",{className:"form-input w-full",value:v,onChange:e=>{w(e.target.value),S(1)},children:[T.jsx("option",{value:"",children:"All Roles"}),T.jsx("option",{value:"admin",children:"Admin"}),T.jsx("option",{value:"landOfficer",children:"Land Officer"}),T.jsx("option",{value:"user",children:"User"})]})})]})}),i?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading users..."})]}):l?T.jsx("div",{className:"text-center py-8 text-red-500",children:l}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===s.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):s.map(e=>T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary text-white rounded-full flex items-center justify-center",children:e.fullName.charAt(0).toUpperCase()}),T.jsxs("div",{className:"ml-4",children:[T.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),T.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.substring(0,8),"..."]})]})]})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:e.email})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx(za,{role:e.role,size:"sm"})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.jsxs("button",{onClick:()=>F(e._id),className:"text-primary hover:text-primary-dark mr-3 flex items-center",children:[T.jsx(ze,{className:"h-4 w-4 mr-1"}),"View"]}),T.jsxs("button",{onClick:()=>{d(e),g(!0),y(e.role)},className:"text-secondary hover:text-secondary-dark mr-3 flex items-center",children:[T.jsx(He,{className:"h-4 w-4 mr-1"}),"Change Role"]}),T.jsxs("button",{onClick:()=>(async()=>{try{n(!0),m.info("Password reset link has been sent to the user"),n(!1)}catch(e){console.error("Error resetting password:",e),n(!1),m.error(e.message||"Failed to reset password")}})(e._id),className:"text-yellow-600 hover:text-yellow-800 mr-3 flex items-center",children:[T.jsx($,{className:"h-4 w-4 mr-1"}),"Reset Password"]}),T.jsxs("button",{onClick:()=>{d(e),p(!0)},className:"text-accent hover:text-accent-dark flex items-center",children:[T.jsx(ts,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},e._id))})]})}),T.jsxs("div",{className:"flex justify-between items-center mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",s.length," of ",C*E," users"]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>S(Math.max(1,k-1)),disabled:1===k,className:"px-3 py-1 rounded-md "+(1===k?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Previous"}),C>0&&T.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded-md",children:["Page ",k," of ",C]}),T.jsx("button",{onClick:()=>S(Math.min(C,k+1)),disabled:k===C,className:"px-3 py-1 rounded-md "+(k===C?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Next"})]})]})]})]}),x&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Details"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),T.jsx("p",{className:"font-medium",children:c.fullName})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),T.jsx("p",{className:"font-medium",children:c.email})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),T.jsx("p",{className:"font-medium",children:c.phoneNumber||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"National ID"}),T.jsx("p",{className:"font-medium",children:c.nationalId||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),T.jsx("p",{className:"font-medium capitalize",children:c.role})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),T.jsx("p",{className:"font-medium",children:new Date(c.createdAt).toLocaleDateString()})]})]}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Close"})})]})}),u&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Confirm Deletion"}),T.jsxs("p",{className:"mb-6",children:["Are you sure you want to delete the user ",T.jsx("span",{className:"font-semibold",children:c.fullName}),"? This action cannot be undone."]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{n(!0);try{await(async e=>{try{return(await Mr.delete(`/users/${e}`)).data}catch(l){if(console.error("Error in deleteUser:",l),l.response){if(console.error("Response error data:",l.response.data),console.error("Response error status:",l.response.status),401===l.response.status)throw{message:"Authentication required. Please log in again."};if(403===l.response.status)throw{message:"You do not have permission to delete this user."};if(404===l.response.status)throw{message:"User not found."};throw l.response.data||{message:"Failed to delete user"}}throw{message:"Network error. Please check your connection."}}})(c._id),p(!1),d(null),m.success("User deleted successfully"),O()}catch(e){console.error("Error deleting user from API:",e),m.error(e.message||"Failed to delete user"),n(!1)}}catch(s){console.error("Error in handleDeleteUser:",s),n(!1),m.error(s.message||"Failed to delete user")}},className:"px-4 py-2 bg-accent text-white rounded-md hover:bg-accent-dark",children:"Delete"})]})]})}),f&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Change User Role"}),T.jsxs("p",{className:"mb-4",children:["Change role for user ",T.jsx("span",{className:"font-semibold",children:c.fullName}),":"]}),T.jsxs("div",{className:"space-y-3 mb-6",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"radio",id:"role-user",name:"role",value:"user",checked:"user"===j,onChange:()=>y("user"),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),T.jsx("label",{htmlFor:"role-user",className:"ml-2 block text-sm text-gray-900",children:"User (Property Owner)"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"radio",id:"role-landOfficer",name:"role",value:"landOfficer",checked:"landOfficer"===j,onChange:()=>y("landOfficer"),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),T.jsx("label",{htmlFor:"role-landOfficer",className:"ml-2 block text-sm text-gray-900",children:"Land Officer"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("input",{type:"radio",id:"role-admin",name:"role",value:"admin",checked:"admin"===j,onChange:()=>y("admin"),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),T.jsx("label",{htmlFor:"role-admin",className:"ml-2 block text-sm text-gray-900",children:"Administrator"})]})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{if(n(!0),c.role===j)return m.info("User already has this role"),g(!1),d(null),y(""),void n(!1);try{const e=await(async(e,s)=>{try{return(await Mr.put(`/users/${e}/role`,{role:s})).data}catch(l){if(console.error("Error in changeUserRole:",l),l.response){if(console.error("Response error data:",l.response.data),console.error("Response error status:",l.response.status),401===l.response.status)throw{message:"Authentication required. Please log in again."};if(403===l.response.status)throw{message:"You do not have permission to change this user's role."};if(404===l.response.status)throw{message:"User not found."};if(400===l.response.status)throw{message:"Invalid role specified."};throw l.response.data||{message:"Failed to change user role"}}throw{message:"Network error. Please check your connection."}}})(c._id,j);g(!1),d(null),y(""),m.success(e.message||`User role updated from '${c.role}' to '${j}' successfully`),O()}catch(e){console.error("Error updating user role from API:",e),m.error(e.message||"Failed to update user role"),n(!1)}}catch(s){console.error("Error in handleChangeRole:",s),n(!1),m.error(s.message||"Failed to update user role")}},className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",children:"Save Changes"})]})]})})]})},$a=()=>{const s=t(),[a,i]=e.useState(!1),n=h({fullName:u().required("Full name is required").min(3,"Full name must be at least 3 characters"),email:u().email("Invalid email address").required("Email is required"),password:u().required("Password is required").min(8,"Password must be at least 8 characters"),phoneNumber:u().required("Phone number is required"),nationalId:u().required("National ID is required").matches(/^ETH[0-9A-Za-z]{9}$/,"National ID must be 12 characters starting with ETH"),role:u().required("Role is required").oneOf(["admin","landOfficer","user"],"Invalid role")});return T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[T.jsx(os,{className:"h-7 w-7 mr-2 text-primary"}),"Add New User"]}),T.jsxs(r,{to:"/admin/users",className:"text-primary hover:text-primary-dark flex items-center",children:[T.jsx(z,{className:"h-4 w-4 mr-1"}),"Back to Users"]})]}),T.jsx(p,{initialValues:{fullName:"",email:"",password:"",phoneNumber:"",nationalId:"",role:"user"},validationSchema:n,onSubmit:async(e,{setSubmitting:t,resetForm:r})=>{try{i(!0),await(async e=>{var s;try{return(await Mr.post("/users",e)).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to create user"}}})(e),m.success("User created successfully"),r(),"landOfficer"===e.role?s("/admin/land-officers"):s("/admin/users"),i(!1),t(!1)}catch(a){console.error("Error creating user:",a),m.error(a.message||"Failed to create user"),i(!1),t(!1)}},children:({isSubmitting:e,errors:s,touched:t})=>T.jsxs(f,{className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),T.jsx(g,{type:"text",id:"fullName",name:"fullName",className:"form-input "+(s.fullName&&t.fullName?"border-red-500":""),placeholder:"Enter full name"}),T.jsx(j,{name:"fullName",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),T.jsx(g,{type:"email",id:"email",name:"email",className:"form-input "+(s.email&&t.email?"border-red-500":""),placeholder:"Enter email address"}),T.jsx(j,{name:"email",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),T.jsx(g,{type:"password",id:"password",name:"password",className:"form-input "+(s.password&&t.password?"border-red-500":""),placeholder:"Enter password"}),T.jsx(j,{name:"password",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"phoneNumber",className:"form-label",children:"Phone Number"}),T.jsx(g,{type:"text",id:"phoneNumber",name:"phoneNumber",className:"form-input "+(s.phoneNumber&&t.phoneNumber?"border-red-500":""),placeholder:"Enter phone number"}),T.jsx(j,{name:"phoneNumber",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"nationalId",className:"form-label",children:"National ID"}),T.jsx(g,{type:"text",id:"nationalId",name:"nationalId",className:"form-input "+(s.nationalId&&t.nationalId?"border-red-500":""),placeholder:"ETH123456789"}),T.jsx(j,{name:"nationalId",component:"div",className:"form-error"})]}),T.jsxs("div",{className:"md:col-span-2",children:[T.jsx("label",{htmlFor:"role",className:"form-label",children:"User Role"}),T.jsx(g,{name:"role",children:({field:e,form:r})=>T.jsxs("div",{className:"space-y-3",children:[T.jsxs("select",{...e,id:"role",className:"form-input "+(s.role&&t.role?"border-red-500":""),children:[T.jsx("option",{value:"user",children:"User (Property Owner)"}),T.jsx("option",{value:"landOfficer",children:"Land Officer"}),T.jsx("option",{value:"admin",children:"Administrator"})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:"Selected Role:"}),T.jsx(za,{role:e.value,size:"sm"})]}),T.jsxs("div",{className:"text-sm text-gray-600",children:["user"===e.value&&T.jsx("p",{children:"Regular users can register properties, submit applications, and manage their own property portfolio."}),"landOfficer"===e.value&&T.jsx("p",{children:"Land Officers can review property applications, verify documents, and approve or reject property registrations."}),"admin"===e.value&&T.jsx("p",{children:"Administrators have full system access including user management, system settings, and all property operations."})]})]})]})}),T.jsx(j,{name:"role",component:"div",className:"form-error"})]})]}),T.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[T.jsx(r,{to:"/admin/users",className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{type:"submit",disabled:e||a,className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark disabled:bg-gray-400 flex items-center",children:e||a?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):T.jsxs(T.Fragment,{children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Create User"]})})]})]})})]})})},Wa=()=>{const[s,t]=e.useState([]),[a,i]=e.useState([]),[n,l]=e.useState(!0),[o,c]=e.useState(null),[d,x]=e.useState(null),[h,u]=e.useState(!1),[p,f]=e.useState(!1),[g,j]=e.useState(null);e.useEffect(()=>{(async()=>{try{l(!0),c(null);try{const e=await Ma({role:"landOfficer"});console.log("Land officers response:",e);let s=[];e&&e.users&&Array.isArray(e.users)?s=e.users:Array.isArray(e)&&(s=e),t(s)}catch(e){console.error("Error fetching land officers:",e),m.error("Failed to fetch land officers"),t([])}try{const e=await ha({status:"pending"});console.log("Pending properties response:",e);let s=[];e&&e.properties&&Array.isArray(e.properties)?s=e.properties:Array.isArray(e)&&(s=e),i(s)}catch(s){console.error("Error fetching pending properties:",s),m.error("Failed to fetch pending applications"),i([])}l(!1)}catch(r){console.error("Error in fetchData:",r),c("Failed to fetch data"),l(!1),m.error("Failed to fetch data")}})()},[]);const y=async e=>{try{await(async(e,s)=>{var t;try{return(await Mr.put(`/users/${e}`,s)).data}catch(o){throw(null==(t=o.response)?void 0:t.data)||{message:"Failed to update user"}}})(e,{role:"user"}),m.success("Land officer role removed successfully"),t(s.filter(s=>s._id!==e))}catch(r){m.error("Failed to remove land officer role")}};return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[T.jsx(ds,{className:"h-7 w-7 mr-2 text-primary"}),"Land Officers Management"]}),T.jsxs(r,{to:"/admin/users/new",className:"mt-4 md:mt-0 btn-primary px-4 py-2 rounded-md flex items-center",children:[T.jsx(os,{className:"h-5 w-5 mr-1"}),"Add New Land Officer"]})]}),n?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading land officers..."})]}):o?T.jsx("div",{className:"text-center py-8 text-red-500",children:o}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===s.length?T.jsx("div",{className:"col-span-full text-center py-8 text-gray-500",children:"No land officers found"}):s.map(e=>{return T.jsx("div",{className:"bg-white border rounded-lg shadow-sm overflow-hidden",children:T.jsxs("div",{className:"p-5",children:[T.jsx("div",{className:"flex justify-between items-start",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"h-12 w-12 bg-primary text-white rounded-full flex items-center justify-center text-xl font-bold",children:e.fullName.charAt(0).toUpperCase()}),T.jsxs("div",{className:"ml-4",children:[T.jsx("h3",{className:"text-lg font-semibold",children:e.fullName}),T.jsx("p",{className:"text-gray-600",children:e.email})]})]})}),T.jsxs("div",{className:"mt-4",children:[T.jsxs("div",{className:"flex justify-between mb-1",children:[T.jsx("span",{className:"text-sm font-medium",children:"Workload"}),T.jsxs("span",{className:"text-sm font-medium",children:[e.assignedApplications||0," applications"]})]}),T.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:T.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${t=e.assignedApplications||0,Math.min(100,t/20*100)}%`}})})]}),T.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:[T.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[T.jsx("p",{className:"text-gray-500",children:"Assigned"}),T.jsx("p",{className:"font-semibold",children:e.assignedApplications||0})]}),T.jsxs("div",{className:"bg-gray-50 p-2 rounded",children:[T.jsx("p",{className:"text-gray-500",children:"Completed"}),T.jsx("p",{className:"font-semibold",children:e.completedApplications||0})]})]}),T.jsxs("div",{className:"mt-5 flex justify-between",children:[T.jsxs("button",{onClick:()=>(e=>{try{const t=s.find(s=>s._id===e);t?(x(t),u(!0)):m.error("Officer not found")}catch(t){c("Failed to fetch officer details"),m.error("Failed to fetch officer details")}})(e._id),className:"text-primary hover:text-primary-dark flex items-center",children:[T.jsx(ds,{className:"h-4 w-4 mr-1"}),"View Details"]}),T.jsxs("button",{onClick:()=>{x(e),f(!0)},className:"text-secondary hover:text-secondary-dark flex items-center",children:[T.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Assign Application"]}),T.jsxs("button",{onClick:()=>y(e._id),className:"text-accent hover:text-accent-dark flex items-center",children:[T.jsx(us,{className:"h-4 w-4 mr-1"}),"Remove Role"]})]})]})},e._id);var t})})]}),h&&d&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Land Officer Details"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),T.jsx("p",{className:"font-medium",children:d.fullName})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),T.jsx("p",{className:"font-medium",children:d.email})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),T.jsx("p",{className:"font-medium",children:d.phoneNumber||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"National ID"}),T.jsx("p",{className:"font-medium",children:d.nationalId||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Assigned Applications"}),T.jsx("p",{className:"font-medium",children:d.assignedApplications||0})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Completed Applications"}),T.jsx("p",{className:"font-medium",children:d.completedApplications||0})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Account Created"}),T.jsx("p",{className:"font-medium",children:new Date(d.createdAt).toLocaleDateString()})]})]}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Close"})})]})}),p&&d&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Assign Application"}),T.jsxs("p",{className:"mb-4",children:["Assign a pending application to ",T.jsx("span",{className:"font-semibold",children:d.fullName}),":"]}),0===a.length?T.jsx("p",{className:"text-gray-500",children:"No pending applications available"}):T.jsx("div",{className:"max-h-60 overflow-y-auto mb-6",children:T.jsx("div",{className:"space-y-2",children:a.map(e=>{var s;return T.jsx("div",{className:"p-3 border rounded-md cursor-pointer "+(g===e._id?"border-primary bg-primary bg-opacity-10":"hover:bg-gray-50"),onClick:()=>j(e._id),children:T.jsxs("div",{className:"flex justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:(null==(s=e.owner)?void 0:s.fullName)||"Unknown Owner"}),T.jsxs("p",{className:"text-sm text-gray-500",children:["Plot: ",e.plotNumber]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),T.jsx("p",{className:"text-xs capitalize bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full inline-block",children:e.status})]})]})},e._id)})})}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{if(d&&g)try{f(!1),m.success("Application assigned successfully"),i(a.filter(e=>e._id!==g));const e=s.map(e=>e._id===d._id?{...e,assignedApplications:(e.assignedApplications||0)+1}:e);t(e)}catch(e){m.error("Failed to assign application")}},disabled:!g||0===a.length,className:"px-4 py-2 rounded-md "+(g&&0!==a.length?"bg-primary text-white hover:bg-primary-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Assign"})]})]})})]})},Ha=()=>{var s,t,r,a;const[i,n]=e.useState([]),[l,o]=e.useState(!0),[c,d]=e.useState(null),[x,h]=e.useState(null),[u,p]=e.useState(!1),[f,g]=e.useState(!1),[j,y]=e.useState(!1),[b,N]=e.useState(""),[v,w]=e.useState(""),[k,S]=e.useState(""),[C,A]=e.useState(""),[E,R]=e.useState(""),[P,D]=e.useState(1),[L,O]=e.useState(1),[F]=e.useState(10);e.useEffect(()=>{M()},[P,k,C,E]);const M=async()=>{var e;try{o(!0),d(null);const s=await ha({page:P,limit:F,status:k||void 0,propertyType:C||void 0,search:E||void 0});s&&s.properties?(n(s.properties),O((null==(e=s.pagination)?void 0:e.pages)||1)):Array.isArray(s)?(n(s),O(Math.ceil(s.length/F)||1)):(n([]),O(1))}catch(s){console.error("Error fetching properties:",s),d("Failed to fetch properties"),n([]),O(1),m.error("Failed to fetch properties")}finally{o(!1)}},I=e=>e?new Date(e).toLocaleDateString():"N/A",_=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:T.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[T.jsx(Me,{className:"h-7 w-7 mr-2 text-primary"}),"Property Management"]})}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),D(1),M()},className:"flex-grow",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by plot number or location...",className:"form-input rounded-r-none",value:E,onChange:e=>R(e.target.value)}),T.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark flex items-center",children:[T.jsx(ze,{className:"h-5 w-5 mr-1"}),"Search"]})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:k,onChange:e=>{S(e.target.value),D(1)},children:[T.jsx("option",{value:"",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"under_review",children:"Under Review"}),T.jsx("option",{value:"approved",children:"Approved"}),T.jsx("option",{value:"rejected",children:"Rejected"})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:C,onChange:e=>{A(e.target.value),D(1)},children:[T.jsx("option",{value:"",children:"All Types"}),T.jsx("option",{value:"residential",children:"Residential"}),T.jsx("option",{value:"commercial",children:"Commercial"}),T.jsx("option",{value:"industrial",children:"Industrial"}),T.jsx("option",{value:"agricultural",children:"Agricultural"})]})})]})}),l?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading properties..."})]}):c?T.jsx("div",{className:"text-center py-8 text-red-500",children:c}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plot Number"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===i.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No properties found"})}):i.map(e=>{var s,t,r,a;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.plotNumber})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(s=e.owner)?void 0:s.fullName)||"Unknown"}),T.jsx("div",{className:"text-xs text-gray-500",children:(null==(t=e.owner)?void 0:t.email)||"No email"})]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsxs("div",{className:"text-sm text-gray-900",children:[(null==(r=e.location)?void 0:r.subCity)||"N/A",", ",(null==(a=e.location)?void 0:a.kebele)||"N/A"]})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900 capitalize",children:e.propertyType})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_(e.status)}`,children:e.status.replace("_"," ")})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:I(e.registrationDate)})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.jsxs("button",{onClick:()=>(async e=>{try{let s=i.find(s=>s._id===e);s||(s=await xa(e)),s?(h(s),p(!0)):m.error("Property not found")}catch(s){console.error("Error fetching property details:",s),m.error("Failed to fetch property details")}})(e._id),className:"text-primary hover:text-primary-dark mr-3 flex items-center",children:[T.jsx(ze,{className:"h-4 w-4 mr-1"}),"View"]}),"pending"===e.status&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>{h(e),g(!0)},className:"text-green-600 hover:text-green-800 mr-3 flex items-center",children:[T.jsx(ne,{className:"h-4 w-4 mr-1"}),"Approve"]}),T.jsxs("button",{onClick:()=>{h(e),y(!0)},className:"text-accent hover:text-accent-dark flex items-center",children:[T.jsx(xs,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]},e._id)})})]})}),T.jsxs("div",{className:"flex justify-between items-center mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",i.length," of ",L*F," properties"]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>D(Math.max(1,P-1)),disabled:1===P,className:"px-3 py-1 rounded-md "+(1===P?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Previous"}),T.jsx("button",{onClick:()=>D(Math.min(L,P+1)),disabled:P===L,className:"px-3 py-1 rounded-md "+(P===L?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Next"})]})]})]})]}),u&&x&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Property Details"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Plot Number"}),T.jsx("p",{className:"font-medium",children:x.plotNumber})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property Type"}),T.jsx("p",{className:"font-medium capitalize",children:x.propertyType})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Area (sq. meters)"}),T.jsx("p",{className:"font-medium",children:x.area})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),T.jsx("p",{className:"font-medium capitalize",children:x.status.replace("_"," ")})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),T.jsxs("p",{className:"font-medium",children:[(null==(s=x.location)?void 0:s.subCity)||"N/A",", ",(null==(t=x.location)?void 0:t.kebele)||"N/A"]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Registration Date"}),T.jsx("p",{className:"font-medium",children:I(x.registrationDate)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner"}),T.jsx("p",{className:"font-medium",children:(null==(r=x.owner)?void 0:r.fullName)||"Unknown"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner Contact"}),T.jsx("p",{className:"font-medium",children:(null==(a=x.owner)?void 0:a.email)||"No email"})]})]}),x.reviewNotes&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Review Notes"}),T.jsx("p",{className:"p-2 bg-gray-50 rounded mt-1",children:x.reviewNotes})]}),T.jsxs("div",{className:"mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Documents"}),x.documents&&x.documents.length>0?T.jsx("div",{className:"space-y-2",children:x.documents.map(e=>T.jsxs("div",{className:"p-2 border rounded flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:e.documentType}),T.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",I(e.uploadDate)]})]}),T.jsx("div",{children:T.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+(e.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.verified?"Verified":"Pending"})})]},e._id))}):T.jsx("p",{className:"text-gray-500",children:"No documents uploaded"})]}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Close"})})]})}),f&&x&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Approve Property"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to approve the property with plot number ",T.jsx("span",{className:"font-semibold",children:x.plotNumber}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"approvalNotes",className:"form-label",children:"Approval Notes (Optional)"}),T.jsx("textarea",{id:"approvalNotes",className:"form-input",rows:"3",value:b,onChange:e=>N(e.target.value),placeholder:"Add any notes or comments about this approval"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await ua(x._id,{notes:b}),g(!1),h(null),N(""),m.success("Property approved successfully"),M()}catch(e){console.error("Error approving property:",e),m.error(e.message||"Failed to approve property")}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve"})]})]})}),j&&x&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reject Property"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to reject the property with plot number ",T.jsx("span",{className:"font-semibold",children:x.plotNumber}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("label",{htmlFor:"rejectionReason",className:"form-label",children:["Reason for Rejection ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("textarea",{id:"rejectionReason",className:"form-input",rows:"3",value:v,onChange:e=>w(e.target.value),placeholder:"Provide a reason for rejecting this property",required:!0}),!v&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Reason is required"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{if(v.trim())try{await pa(x._id,{reason:v}),y(!1),h(null),w(""),m.success("Property rejected successfully"),M()}catch(e){console.error("Error rejecting property:",e),m.error(e.message||"Failed to reject property")}else m.error("Rejection reason is required")},disabled:!v,className:"px-4 py-2 rounded-md "+(v?"bg-accent text-white hover:bg-accent-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Reject"})]})]})})]})};N.register(...v);const Za=({data:s,labels:t,title:r,color:a="#4F46E5"})=>{const i=e.useRef(null),n=e.useRef(null);return e.useEffect(()=>{n.current&&n.current.destroy();const e=i.current.getContext("2d");return n.current=new N(e,{type:"bar",data:{labels:t,datasets:[{label:r,data:s,backgroundColor:a,borderColor:a,borderWidth:1,borderRadius:4,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1}},x:{grid:{display:!1}}}}}),()=>{n.current&&n.current.destroy()}},[s,t,r,a]),T.jsx("div",{className:"w-full h-64",children:T.jsx("canvas",{ref:i})})},Ja=({data:s,labels:t,title:r,colors:a=["#4F46E5","#10B981","#F59E0B","#EF4444"]})=>{const i=e.useRef(null),n=e.useRef(null);return e.useEffect(()=>{n.current&&n.current.destroy();const e=i.current.getContext("2d"),l=s.map((e,s)=>a[s%a.length]);return n.current=new N(e,{type:"pie",data:{labels:t,datasets:[{label:r,data:s,backgroundColor:l,borderColor:"#FFFFFF",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{callbacks:{label:function(e){const s=e.label||"",t=e.raw||0,r=e.dataset.data.reduce((e,s)=>e+s,0);return`${s}: ${t} (${Math.round(t/r*100)}%)`}}}}}}),()=>{n.current&&n.current.destroy()}},[s,t,r,a]),T.jsx("div",{className:"w-full h-64",children:T.jsx("canvas",{ref:i})})},Ga=()=>{const[s,t]=e.useState(!0),[r,a]=e.useState(null),[i,n]=e.useState("month"),[l,o]=e.useState(null),[c,d]=e.useState(null),[x,h]=e.useState(null),[u,p]=e.useState("applications");e.useEffect(()=>{f()},[i,u]);const f=async()=>{try{switch(t(!0),u){case"applications":const e=await ha(),s=g(e,i);o(s);break;case"users":const t=await Ia();d(t);break;case"properties":const r=await ha();h(j(r))}t(!1)}catch(e){console.error("Error fetching report data:",e),a("Failed to fetch report data"),t(!1),m.error("Failed to fetch report data")}},g=(e,s)=>{const t=new Date;let r;switch(s){case"week":r=new Date(t.getTime()-6048e5);break;case"month":default:r=new Date(t.getTime()-2592e6);break;case"year":r=new Date(t.getTime()-31536e6)}const a=e.filter(e=>new Date(e.createdAt)>=r);return{total:a.length,pending:a.filter(e=>"pending"===e.status).length,approved:a.filter(e=>"approved"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length,chartData:{labels:["Pending","Approved","Rejected"],datasets:[{data:[a.filter(e=>"pending"===e.status).length,a.filter(e=>"approved"===e.status).length,a.filter(e=>"rejected"===e.status).length],backgroundColor:["#fbbf24","#10b981","#ef4444"]}]}}},j=e=>{const s={residential:0,commercial:0,industrial:0,agricultural:0},t={pending:0,under_review:0,approved:0,rejected:0},r={};let a=0;return e.forEach(e=>{e.propertyType&&(s[e.propertyType]=(s[e.propertyType]||0)+1),e.status&&(t[e.status]=(t[e.status]||0)+1),e.location&&e.location.subCity&&(r[e.location.subCity]=(r[e.location.subCity]||0)+1),a+=e.area||0}),{total:e.length,byType:s,byStatus:t,byLocation:r,totalArea:a}},y=()=>{if(!l)return"";const e=[["Period","Start Date",new Date(l.period.start).toLocaleDateString()],["Period","End Date",new Date(l.period.end).toLocaleDateString()],["Applications","Total",l.applications.total],["Applications","Approved",l.applications.approved],["Applications","Rejected",l.applications.rejected],["Applications","Pending",l.applications.pending],["Documents","Uploaded",l.documents.uploaded],["Documents","Verified",l.documents.verified],["Documents","Rejected",l.documents.rejected],["Payments","Made",l.payments.made],["Payments","Verified",l.payments.verified],["Payments","Rejected",l.payments.rejected]];return[["Category","Metric","Value"].join(","),...e.map(e=>e.join(","))].join("\n")},b=()=>{if(!c)return"";const e=[["Total Users",c.totalUsers],["Administrators",c.totalAdmins],["Land Officers",c.totalLandOfficers],["Regular Users",c.totalRegularUsers],["New Users (Last 30 Days)",c.newUsers]];return[["Metric","Value"].join(","),...e.map(e=>e.join(","))].join("\n")},N=()=>{if(!x)return"";const e=[["Overview","Total Properties",x.total],["Overview","Total Area (sq. meters)",x.totalArea],["Type","Residential",x.byType.residential],["Type","Commercial",x.byType.commercial],["Type","Industrial",x.byType.industrial],["Type","Agricultural",x.byType.agricultural],["Status","Pending",x.byStatus.pending],["Status","Under Review",x.byStatus.under_review],["Status","Approved",x.byStatus.approved],["Status","Rejected",x.byStatus.rejected]];return Object.entries(x.byLocation).forEach(([s,t])=>{e.push(["Location",s,t])}),[["Category","Metric","Value"].join(","),...e.map(e=>e.join(","))].join("\n")};return T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center",children:[T.jsx(ae,{className:"h-7 w-7 mr-2 text-primary"}),"Reports & Analytics"]}),T.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[T.jsxs("div",{className:"w-full md:w-64",children:[T.jsx("label",{htmlFor:"reportType",className:"form-label",children:"Report Type"}),T.jsxs("select",{id:"reportType",className:"form-input w-full",value:u,onChange:e=>p(e.target.value),children:[T.jsx("option",{value:"applications",children:"Application Statistics"}),T.jsx("option",{value:"users",children:"User Statistics"}),T.jsx("option",{value:"properties",children:"Property Statistics"})]})]}),"applications"===u&&T.jsxs("div",{className:"w-full md:w-64",children:[T.jsx("label",{htmlFor:"timeframe",className:"form-label",children:"Time Period"}),T.jsxs("select",{id:"timeframe",className:"form-input w-full",value:i,onChange:e=>n(e.target.value),children:[T.jsx("option",{value:"week",children:"Last 7 Days"}),T.jsx("option",{value:"month",children:"Last 30 Days"}),T.jsx("option",{value:"year",children:"Last 12 Months"})]})]}),T.jsx("div",{className:"w-full md:w-auto md:self-end",children:T.jsxs("button",{onClick:()=>{let e="",s="";switch(u){case"applications":e=y(),s=`application-stats-${i}-${(new Date).toISOString().split("T")[0]}.csv`;break;case"users":e=b(),s=`user-stats-${(new Date).toISOString().split("T")[0]}.csv`;break;case"properties":e=N(),s=`property-stats-${(new Date).toISOString().split("T")[0]}.csv`}const t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(t),a=document.createElement("a");a.setAttribute("href",r),a.setAttribute("download",s),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),m.success("Report exported successfully")},disabled:s||r||!l&&!c&&!x,className:"btn-primary px-4 py-2 rounded-md w-full md:w-auto flex items-center justify-center",children:[T.jsx(_,{className:"h-5 w-5 mr-2"}),"Export to CSV"]})})]}),s?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading report data..."})]}):r?T.jsx("div",{className:"text-center py-8 text-red-500",children:r}):T.jsxs("div",{children:["applications"===u&&l&&T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[T.jsx(Ce,{className:"h-6 w-6 mr-2 text-primary"}),"Application Statistics (","week"===i?"Last 7 Days":"month"===i?"Last 30 Days":"Last 12 Months",")"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(Qe,{className:"h-5 w-5 mr-1 text-primary"}),"Applications"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Ja,{data:[l.applications.approved,l.applications.rejected,l.applications.pending],labels:["Approved","Rejected","Pending"],title:"Application Status",colors:["#10B981","#EF4444","#F59E0B"]})}),T.jsxs("div",{className:"space-y-2 mt-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Total:"}),T.jsx("span",{className:"font-semibold",children:l.applications.total})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Approved:"}),T.jsx("span",{className:"font-semibold text-green-600",children:l.applications.approved})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rejected:"}),T.jsx("span",{className:"font-semibold text-red-600",children:l.applications.rejected})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Pending:"}),T.jsx("span",{className:"font-semibold text-yellow-600",children:l.applications.pending})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(Ce,{className:"h-5 w-5 mr-1 text-primary"}),"Documents"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Za,{data:[l.documents.uploaded,l.documents.verified,l.documents.rejected],labels:["Uploaded","Verified","Rejected"],title:"Document Status",color:"#4F46E5"})}),T.jsxs("div",{className:"space-y-2 mt-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Uploaded:"}),T.jsx("span",{className:"font-semibold",children:l.documents.uploaded})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Verified:"}),T.jsx("span",{className:"font-semibold text-green-600",children:l.documents.verified})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rejected:"}),T.jsx("span",{className:"font-semibold text-red-600",children:l.documents.rejected})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(be,{className:"h-5 w-5 mr-1 text-primary"}),"Payments"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Za,{data:[l.payments.made,l.payments.verified,l.payments.rejected],labels:["Made","Verified","Rejected"],title:"Payment Status",color:"#10B981"})}),T.jsxs("div",{className:"space-y-2 mt-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Made:"}),T.jsx("span",{className:"font-semibold",children:l.payments.made})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Verified:"}),T.jsx("span",{className:"font-semibold text-green-600",children:l.payments.verified})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rejected:"}),T.jsx("span",{className:"font-semibold text-red-600",children:l.payments.rejected})]})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium mb-3",children:"Approval Rate"}),T.jsx("div",{className:"h-6 bg-gray-200 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-primary",style:{width:(l.applications.total>0?l.applications.approved/l.applications.total*100:0)+"%"}})}),T.jsxs("div",{className:"mt-2 text-sm text-gray-600 text-center",children:[l.applications.total>0?`${Math.round(l.applications.approved/l.applications.total*100)}%`:"0%"," of applications approved"]})]})]}),"users"===u&&c&&T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[T.jsx(ns,{className:"h-6 w-6 mr-2 text-primary"}),"User Statistics"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[T.jsx("h3",{className:"text-lg font-medium mb-2",children:"Total Users"}),T.jsx("p",{className:"text-3xl font-bold text-primary",children:c.totalUsers})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[T.jsx("h3",{className:"text-lg font-medium mb-2",children:"Administrators"}),T.jsx("p",{className:"text-3xl font-bold text-purple-600",children:c.totalAdmins})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[T.jsx("h3",{className:"text-lg font-medium mb-2",children:"Land Officers"}),T.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c.totalLandOfficers})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[T.jsx("h3",{className:"text-lg font-medium mb-2",children:"Regular Users"}),T.jsx("p",{className:"text-3xl font-bold text-green-600",children:c.totalRegularUsers})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(ns,{className:"h-5 w-5 mr-1 text-primary"}),"User Distribution"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Ja,{data:[c.totalAdmins,c.totalLandOfficers,c.totalRegularUsers],labels:["Administrators","Land Officers","Regular Users"],title:"User Types",colors:["#9333EA","#3B82F6","#10B981"]})}),T.jsxs("div",{className:"mt-4 flex justify-center space-x-6 text-sm",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full mr-2"}),T.jsx("span",{children:"Administrators"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full mr-2"}),T.jsx("span",{children:"Land Officers"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),T.jsx("span",{children:"Regular Users"})]})]})]}),T.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium mb-3",children:"New Users (Last 30 Days)"}),T.jsx("p",{className:"text-3xl font-bold text-center text-primary",children:c.newUsers})]})]}),"properties"===u&&x&&T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[T.jsx(Me,{className:"h-6 w-6 mr-2 text-primary"}),"Property Statistics"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(Me,{className:"h-5 w-5 mr-1 text-primary"}),"Property Types"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Ja,{data:[x.byType.residential,x.byType.commercial,x.byType.industrial,x.byType.agricultural],labels:["Residential","Commercial","Industrial","Agricultural"],title:"Property Types",colors:["#3B82F6","#F59E0B","#EF4444","#10B981"]})}),T.jsxs("div",{className:"space-y-2 mt-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Residential:"}),T.jsx("span",{className:"font-semibold",children:x.byType.residential})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Commercial:"}),T.jsx("span",{className:"font-semibold",children:x.byType.commercial})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Industrial:"}),T.jsx("span",{className:"font-semibold",children:x.byType.industrial})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Agricultural:"}),T.jsx("span",{className:"font-semibold",children:x.byType.agricultural})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsxs("h3",{className:"text-lg font-medium mb-3 flex items-center",children:[T.jsx(Qe,{className:"h-5 w-5 mr-1 text-primary"}),"Registration Status"]}),T.jsx("div",{className:"mb-4",children:T.jsx(Za,{data:[x.byStatus.pending,x.byStatus.under_review,x.byStatus.approved,x.byStatus.rejected],labels:["Pending","Under Review","Approved","Rejected"],title:"Registration Status",color:"#4F46E5"})}),T.jsxs("div",{className:"space-y-2 mt-4",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Pending:"}),T.jsx("span",{className:"font-semibold text-yellow-600",children:x.byStatus.pending})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Under Review:"}),T.jsx("span",{className:"font-semibold text-blue-600",children:x.byStatus.under_review})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Approved:"}),T.jsx("span",{className:"font-semibold text-green-600",children:x.byStatus.approved})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Rejected:"}),T.jsx("span",{className:"font-semibold text-red-600",children:x.byStatus.rejected})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium mb-3",children:"Overview"}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Total Properties:"}),T.jsx("span",{className:"font-semibold",children:x.total})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Total Area (sq. meters):"}),T.jsx("span",{className:"font-semibold",children:x.totalArea.toLocaleString()})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{children:"Average Area (sq. meters):"}),T.jsx("span",{className:"font-semibold",children:x.total>0?(x.totalArea/x.total).toFixed(2):0})]})]})]}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[T.jsx("h3",{className:"text-lg font-medium mb-3",children:"Property by Location"}),Object.keys(x.byLocation).length>0?T.jsx("div",{className:"space-y-2",children:Object.entries(x.byLocation).sort((e,s)=>s[1]-e[1]).map(([e,s])=>T.jsxs("div",{className:"flex justify-between",children:[T.jsxs("span",{children:[e,":"]}),T.jsx("span",{className:"font-semibold",children:s})]},e))}):T.jsx("p",{className:"text-gray-500",children:"No location data available"})]})]})]})]})]})})},Ka=()=>{const[s,t]=e.useState(!0),[r,a]=e.useState(null),[i,n]=e.useState(null),[l,o]=e.useState("general");e.useEffect(()=>{c()},[]);const c=async()=>{try{t(!0),a(null);const e=await(async()=>{var e;try{return(await Mr.get("/settings")).data}catch(r){throw(null==(e=r.response)?void 0:e.data)||{message:"Failed to fetch system settings"}}})();n(e)}catch(e){console.error("Error fetching settings:",e),a("Failed to fetch system settings"),m.error("Failed to fetch system settings")}finally{t(!1)}},d=async(e,{setSubmitting:s})=>{try{const s=await(async e=>{var s;try{return(await Mr.put("/settings",e)).data}catch(r){throw(null==(s=r.response)?void 0:s.data)||{message:"Failed to update system settings"}}})(e);n(s),m.success("Settings updated successfully")}catch(t){console.error("Error updating settings:",t),m.error(t.message||"Failed to update settings")}finally{s(!1)}},x=h({systemName:u().required("System name is required"),contactEmail:u().email("Invalid email address").required("Contact email is required"),contactPhone:u().required("Contact phone is required"),maintenanceMode:y()}),N=h({registrationFee:b().positive("Must be a positive number").required("Registration fee is required"),documentVerificationFee:b().positive("Must be a positive number").required("Document verification fee is required"),transferFee:b().positive("Must be a positive number").required("Transfer fee is required"),certificateIssueFee:b().positive("Must be a positive number").required("Certificate issue fee is required")}),v=h({emailNotifications:y(),smsNotifications:y(),applicationStatusChangeNotify:y(),documentVerificationNotify:y(),paymentConfirmationNotify:y()}),w=h({passwordMinLength:b().min(6,"Minimum length should be at least 6").required("Password minimum length is required"),passwordRequireSpecialChar:y(),passwordRequireNumber:y(),sessionTimeout:b().positive("Must be a positive number").required("Session timeout is required"),maxLoginAttempts:b().positive("Must be a positive number").required("Max login attempts is required")});return T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center",children:[T.jsx(je,{className:"h-7 w-7 mr-2 text-primary"}),"System Settings"]}),s?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading settings..."})]}):r?T.jsx("div",{className:"text-center py-8 text-red-500",children:r}):i?T.jsxs("div",{children:[T.jsx("div",{className:"border-b border-gray-200 mb-6",children:T.jsxs("nav",{className:"flex -mb-px",children:[T.jsxs("button",{className:"py-2 px-4 border-b-2 font-medium text-sm flex items-center "+("general"===l?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>o("general"),children:[T.jsx(je,{className:"h-4 w-4 mr-1"}),"General"]}),T.jsxs("button",{className:"py-2 px-4 border-b-2 font-medium text-sm flex items-center "+("fees"===l?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>o("fees"),children:[T.jsx(be,{className:"h-4 w-4 mr-1"}),"Fees & Payments"]}),T.jsxs("button",{className:"py-2 px-4 border-b-2 font-medium text-sm flex items-center "+("notifications"===l?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>o("notifications"),children:[T.jsx(Q,{className:"h-4 w-4 mr-1"}),"Notifications"]}),T.jsxs("button",{className:"py-2 px-4 border-b-2 font-medium text-sm flex items-center "+("security"===l?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>o("security"),children:[T.jsx(es,{className:"h-4 w-4 mr-1"}),"Security"]})]})}),"general"===l&&T.jsx(p,{initialValues:{systemName:i.systemName||"",contactEmail:i.contactEmail||"",contactPhone:i.contactPhone||"",maintenanceMode:i.maintenanceMode||!1},validationSchema:x,onSubmit:d,children:({isSubmitting:e})=>T.jsxs(f,{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"systemName",className:"form-label",children:"System Name"}),T.jsx(g,{type:"text",id:"systemName",name:"systemName",className:"form-input"}),T.jsx(j,{name:"systemName",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"contactEmail",className:"form-label",children:"Contact Email"}),T.jsx(g,{type:"email",id:"contactEmail",name:"contactEmail",className:"form-input"}),T.jsx(j,{name:"contactEmail",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"contactPhone",className:"form-label",children:"Contact Phone"}),T.jsx(g,{type:"text",id:"contactPhone",name:"contactPhone",className:"form-input"}),T.jsx(j,{name:"contactPhone",component:"div",className:"form-error"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"maintenanceMode",name:"maintenanceMode",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"maintenanceMode",className:"ml-2 block text-sm text-gray-900",children:"Maintenance Mode"})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:e,className:"btn-primary px-4 py-2 rounded-md flex items-center",children:e?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Save Changes"]})})})]})}),"fees"===l&&T.jsx(p,{initialValues:{registrationFee:i.registrationFee||0,documentVerificationFee:i.documentVerificationFee||0,transferFee:i.transferFee||0,certificateIssueFee:i.certificateIssueFee||0},validationSchema:N,onSubmit:d,children:({isSubmitting:e})=>T.jsxs(f,{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"registrationFee",className:"form-label",children:"Registration Fee (ETB)"}),T.jsx(g,{type:"number",id:"registrationFee",name:"registrationFee",className:"form-input",min:"0",step:"0.01"}),T.jsx(j,{name:"registrationFee",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"documentVerificationFee",className:"form-label",children:"Document Verification Fee (ETB)"}),T.jsx(g,{type:"number",id:"documentVerificationFee",name:"documentVerificationFee",className:"form-input",min:"0",step:"0.01"}),T.jsx(j,{name:"documentVerificationFee",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"transferFee",className:"form-label",children:"Transfer Fee (ETB)"}),T.jsx(g,{type:"number",id:"transferFee",name:"transferFee",className:"form-input",min:"0",step:"0.01"}),T.jsx(j,{name:"transferFee",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"certificateIssueFee",className:"form-label",children:"Certificate Issue Fee (ETB)"}),T.jsx(g,{type:"number",id:"certificateIssueFee",name:"certificateIssueFee",className:"form-input",min:"0",step:"0.01"}),T.jsx(j,{name:"certificateIssueFee",component:"div",className:"form-error"})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:e,className:"btn-primary px-4 py-2 rounded-md flex items-center",children:e?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Save Changes"]})})})]})}),"notifications"===l&&T.jsx(p,{initialValues:{emailNotifications:i.emailNotifications||!1,smsNotifications:i.smsNotifications||!1,applicationStatusChangeNotify:i.applicationStatusChangeNotify||!1,documentVerificationNotify:i.documentVerificationNotify||!1,paymentConfirmationNotify:i.paymentConfirmationNotify||!1},validationSchema:v,onSubmit:d,children:({isSubmitting:e})=>T.jsxs(f,{className:"space-y-6",children:[T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Notification Channels"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"emailNotifications",name:"emailNotifications",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"emailNotifications",className:"ml-2 block text-sm text-gray-900",children:"Enable Email Notifications"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"smsNotifications",name:"smsNotifications",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"smsNotifications",className:"ml-2 block text-sm text-gray-900",children:"Enable SMS Notifications"})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h3",{className:"text-lg font-medium",children:"Notification Events"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"applicationStatusChangeNotify",name:"applicationStatusChangeNotify",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"applicationStatusChangeNotify",className:"ml-2 block text-sm text-gray-900",children:"Application Status Changes"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"documentVerificationNotify",name:"documentVerificationNotify",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"documentVerificationNotify",className:"ml-2 block text-sm text-gray-900",children:"Document Verification"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"paymentConfirmationNotify",name:"paymentConfirmationNotify",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"paymentConfirmationNotify",className:"ml-2 block text-sm text-gray-900",children:"Payment Confirmations"})]})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:e,className:"btn-primary px-4 py-2 rounded-md flex items-center",children:e?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Save Changes"]})})})]})}),"security"===l&&T.jsx(p,{initialValues:{passwordMinLength:i.passwordMinLength||8,passwordRequireSpecialChar:i.passwordRequireSpecialChar||!1,passwordRequireNumber:i.passwordRequireNumber||!1,sessionTimeout:i.sessionTimeout||30,maxLoginAttempts:i.maxLoginAttempts||5},validationSchema:w,onSubmit:d,children:({isSubmitting:e})=>T.jsxs(f,{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"passwordMinLength",className:"form-label",children:"Minimum Password Length"}),T.jsx(g,{type:"number",id:"passwordMinLength",name:"passwordMinLength",className:"form-input",min:"6"}),T.jsx(j,{name:"passwordMinLength",component:"div",className:"form-error"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"passwordRequireSpecialChar",name:"passwordRequireSpecialChar",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"passwordRequireSpecialChar",className:"ml-2 block text-sm text-gray-900",children:"Require Special Character in Password"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(g,{type:"checkbox",id:"passwordRequireNumber",name:"passwordRequireNumber",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),T.jsx("label",{htmlFor:"passwordRequireNumber",className:"ml-2 block text-sm text-gray-900",children:"Require Number in Password"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"sessionTimeout",className:"form-label",children:"Session Timeout (minutes)"}),T.jsx(g,{type:"number",id:"sessionTimeout",name:"sessionTimeout",className:"form-input",min:"1"}),T.jsx(j,{name:"sessionTimeout",component:"div",className:"form-error"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"maxLoginAttempts",className:"form-label",children:"Maximum Login Attempts"}),T.jsx(g,{type:"number",id:"maxLoginAttempts",name:"maxLoginAttempts",className:"form-input",min:"1"}),T.jsx(j,{name:"maxLoginAttempts",component:"div",className:"form-error"})]}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:e,className:"btn-primary px-4 py-2 rounded-md flex items-center",children:e?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Save Changes"]})})})]})})]}):T.jsx("div",{className:"text-center py-8 text-gray-500",children:"No settings found"})]})})},Ya=async(e,s)=>{var t;try{return(await Mr.put(`/payments/${e}/verify`,{notes:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to verify payment"}}},Qa=async(e,s)=>{var t;try{return(await Mr.put(`/payments/${e}/reject`,{reason:s})).data}catch(r){throw(null==(t=r.response)?void 0:t.data)||{message:"Failed to reject payment"}}},Xa=async(e={})=>{var s;try{return(await Mr.get("/payments",{params:e})).data}catch(t){throw(null==(s=t.response)?void 0:s.data)||{message:"Failed to fetch payments"}}},ei=()=>{var s,t;const[r,a]=e.useState(!0),[i,n]=e.useState(null),[l,o]=e.useState([]),[c,d]=e.useState(null),[x,h]=e.useState(!1),[u,p]=e.useState(!1),[f,g]=e.useState(!1),[j,y]=e.useState(""),[b,N]=e.useState(""),[v,w]=e.useState(""),[k,S]=e.useState(""),[C,A]=e.useState(1),[E,R]=e.useState(1),P=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",D=(e,s="ETB")=>new Intl.NumberFormat("en-ET",{style:"currency",currency:s,minimumFractionDigits:2}).format(e),L=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},O=async()=>{var e;try{a(!0),n(null);const s=await Xa({page:C,limit:10,status:k||void 0,search:v||void 0});s&&s.payments?(o(s.payments),R((null==(e=s.pagination)?void 0:e.pages)||1)):(o([]),R(1))}catch(s){console.error("Error fetching payments:",s),n("Failed to fetch payments"),o([]),R(1),m.error("Failed to fetch payments")}finally{a(!1)}},F=async e=>{try{let s=l.find(s=>s._id===e);s||(s=await(async e=>{var s;try{return(await Mr.get(`/payments/${e}`)).data}catch(i){throw(null==(s=i.response)?void 0:s.data)||{message:"Failed to fetch payment"}}})(e)),s?(d(s),h(!0)):m.error("Payment not found")}catch(s){console.error("Error fetching payment details:",s),m.error("Failed to fetch payment details")}};return e.useEffect(()=>{O()},[C]),T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("h1",{className:"text-2xl font-bold flex items-center",children:[T.jsx(be,{className:"h-7 w-7 mr-2 text-primary"}),"Payment Management"]}),T.jsxs("button",{onClick:()=>{try{const e=[["ID","Reference","Amount","Status","Payment Date","Payment Method","User","Property"].join(","),...l.map(e=>{var s,t;return[e._id,e.reference,e.amount,e.status,P(e.paymentDate),e.paymentMethod,(null==(s=e.user)?void 0:s.fullName)||"Unknown",(null==(t=e.property)?void 0:t.plotNumber)||"Unknown"].join(",")})].join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(s),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download",`payments_export_${(new Date).toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),m.success("Payments exported successfully")}catch(e){m.error("Failed to export payments")}},className:"mt-4 md:mt-0 bg-ethiopian-green text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-colors flex items-center",children:[T.jsx(_,{className:"h-5 w-5 mr-1"}),"Export to CSV"]})]}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),A(1),O()},className:"w-full md:w-1/2",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by reference or ID...",className:"form-input rounded-r-none",value:v,onChange:e=>w(e.target.value)}),T.jsxs("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark flex items-center",children:[T.jsx(ze,{className:"h-5 w-5 mr-1"}),"Search"]})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:k,onChange:e=>{S(e.target.value),A(1),setTimeout(()=>{O()},100)},children:[T.jsx("option",{value:"",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"completed",children:"Completed"}),T.jsx("option",{value:"rejected",children:"Rejected"})]})})]})}),r?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading payments..."})]}):i?T.jsx("div",{className:"text-center py-8 text-red-500",children:i}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No payments found"})}):l.map(e=>{var s,t,r;return T.jsxs("tr",{children:[T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.reference}),T.jsx("div",{className:"text-xs text-gray-500",children:e.paymentMethod})]}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(s=e.user)?void 0:s.fullName)||"Unknown"}),T.jsx("div",{className:"text-xs text-gray-500",children:(null==(t=e.user)?void 0:t.email)||"No email"})]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:(null==(r=e.property)?void 0:r.plotNumber)||"Unknown"})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm font-medium text-gray-900",children:D(e.amount,e.currency)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:P(e.paymentDate)})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.jsxs("button",{onClick:()=>F(e._id),className:"text-primary hover:text-primary-dark mr-3 flex items-center",children:[T.jsx(ze,{className:"h-4 w-4 mr-1"}),"View"]}),"pending"===e.status&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>{d(e),p(!0)},className:"text-green-600 hover:text-green-800 mr-3 flex items-center",children:[T.jsx(ne,{className:"h-4 w-4 mr-1"}),"Verify"]}),T.jsxs("button",{onClick:()=>{d(e),g(!0)},className:"text-accent hover:text-accent-dark flex items-center",children:[T.jsx(xs,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]},e._id)})})]})}),T.jsxs("div",{className:"flex justify-between items-center mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",l.length," of ",10*E," payments"]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>{A(Math.max(1,C-1))},disabled:1===C,className:"px-3 py-1 rounded-md "+(1===C?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Previous"}),T.jsx("button",{onClick:()=>{A(Math.min(E,C+1))},disabled:C===E,className:"px-3 py-1 rounded-md "+(C===E?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Next"})]})]})]})]}),x&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Details"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Reference"}),T.jsx("p",{className:"font-medium",children:c.reference})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),T.jsx("p",{className:"font-medium",children:D(c.amount,c.currency)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Payment Method"}),T.jsx("p",{className:"font-medium capitalize",children:c.paymentMethod.replace("_"," ")})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),T.jsx("p",{className:"font-medium capitalize",children:c.status})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Payment Date"}),T.jsx("p",{className:"font-medium",children:P(c.paymentDate)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"User"}),T.jsx("p",{className:"font-medium",children:(null==(s=c.user)?void 0:s.fullName)||"Unknown"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property"}),T.jsx("p",{className:"font-medium",children:(null==(t=c.property)?void 0:t.plotNumber)||"Unknown"})]}),c.verificationDate&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Verification Date"}),T.jsx("p",{className:"font-medium",children:P(c.verificationDate)})]}),c.verificationNotes&&T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Verification Notes"}),T.jsx("p",{className:"p-2 bg-gray-50 rounded mt-1",children:c.verificationNotes})]})]}),T.jsx("div",{className:"mt-6 flex justify-end",children:T.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Close"})})]})}),u&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verify Payment"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to verify the payment with reference ",T.jsx("span",{className:"font-semibold",children:c.reference}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"verificationNotes",className:"form-label",children:"Verification Notes (Optional)"}),T.jsx("textarea",{id:"verificationNotes",className:"form-input",rows:"3",value:j,onChange:e=>y(e.target.value),placeholder:"Add any notes about this payment verification"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await Ya(c._id,{notes:j});const e=l.map(e=>e._id===c._id?{...e,status:"completed",verifiedBy:"admin",verificationDate:(new Date).toISOString(),verificationNotes:j}:e);o(e),p(!1),d(null),y(""),m.success("Payment verified successfully")}catch(e){console.error("Error verifying payment:",e),m.error(e.message||"Failed to verify payment")}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Verify Payment"})]})]})}),f&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reject Payment"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to reject the payment with reference ",T.jsx("span",{className:"font-semibold",children:c.reference}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("label",{htmlFor:"rejectionReason",className:"form-label",children:["Reason for Rejection ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("textarea",{id:"rejectionReason",className:"form-input",rows:"3",value:b,onChange:e=>N(e.target.value),placeholder:"Provide a reason for rejecting this payment",required:!0}),!b&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Reason is required"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{if(b.trim())try{await Qa(c._id,{reason:b});const e=l.map(e=>e._id===c._id?{...e,status:"rejected",verifiedBy:"admin",verificationDate:(new Date).toISOString(),verificationNotes:b}:e);o(e),g(!1),d(null),N(""),m.success("Payment rejected successfully")}catch(e){console.error("Error rejecting payment:",e),m.error(e.message||"Failed to reject payment")}else m.error("Rejection reason is required")},disabled:!b,className:"px-4 py-2 rounded-md "+(b?"bg-accent text-white hover:bg-accent-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Reject Payment"})]})]})})]})},si=()=>{var s,t,a,i;const[n,l]=e.useState([]),[o,c]=e.useState(!0),[d,x]=e.useState(null),[h,u]=e.useState(null),[p,f]=e.useState(!1),[g,j]=e.useState(!1),[y,b]=e.useState(!1),[N,v]=e.useState(!1),[w,k]=e.useState(null),[S,C]=e.useState(""),[A,E]=e.useState(""),[R,P]=e.useState(""),[D,L]=e.useState(""),[O,F]=e.useState("");e.useEffect(()=>{M()},[D]);const M=async()=>{try{c(!0);const e={status:D||void 0,search:O||void 0},s=await(async(e={})=>{var s;try{return(await Mr.get("/properties/assigned",{params:e})).data}catch(d){throw(null==(s=d.response)?void 0:s.data)||{message:"Failed to fetch assigned properties"}}})(e);l(s.properties||s||[]),c(!1)}catch(e){x(e.message||"Failed to fetch assigned properties"),c(!1),m.error(e.message||"Failed to fetch assigned properties")}},I=async e=>{try{await fa(h._id,w._id,e,R);const s={...h},t=s.documents.findIndex(e=>e._id===w._id);-1!==t&&(s.documents[t].verified=e,s.documents[t].verificationNotes=R,s.documents[t].verifiedAt=(new Date).toISOString()),u(s),v(!1),k(null),P(""),m.success(`Document ${e?"verified":"rejected"} successfully`)}catch(s){m.error(s.message||"Failed to verify document")}},U=async e=>{try{await ya(e),m.success("Document downloaded successfully")}catch(s){console.error("Download error:",s),m.error("Failed to download document: "+s.message)}},V=async e=>{try{await ba(e),m.success("Document preview opened")}catch(s){console.error("Preview error:",s),m.error("Failed to preview document: "+s.message)}},B=e=>e?new Date(e).toLocaleDateString():"N/A",z=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=e=>!(!e||!e.documents||0===e.documents.length)&&e.documents.every(e=>!0===e.verified);return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:T.jsx("h1",{className:"text-2xl font-bold",children:"Property Verification"})}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),M()},className:"flex-grow",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by plot number or location...",className:"form-input rounded-r-none",value:O,onChange:e=>F(e.target.value)}),T.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark",children:"Search"})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:D,onChange:e=>{L(e.target.value)},children:[T.jsx("option",{value:"",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"under_review",children:"Under Review"}),T.jsx("option",{value:"approved",children:"Approved"}),T.jsx("option",{value:"rejected",children:"Rejected"})]})})]})}),o?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading properties..."})]}):d?T.jsx("div",{className:"text-center py-8 text-red-500",children:d}):T.jsx(T.Fragment,{children:T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plot Number"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===n.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-gray-500",children:"No properties assigned to you"})}):n.map(e=>{var s,t,a,i,n,l;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.plotNumber})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(s=e.owner)?void 0:s.fullName)||"Unknown"}),T.jsx("div",{className:"text-xs text-gray-500",children:(null==(t=e.owner)?void 0:t.email)||"No email"})]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsxs("div",{className:"text-sm text-gray-900",children:[(null==(a=e.location)?void 0:a.subCity)||"N/A",", ",(null==(i=e.location)?void 0:i.kebele)||"N/A"]})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900 capitalize",children:e.propertyType})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${z(e.status)}`,children:e.status.replace("_"," ")})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsxs("div",{className:"text-sm text-gray-900",children:[(null==(n=e.documents)?void 0:n.length)||0," document(s)"]}),T.jsxs("div",{className:"text-xs text-gray-500",children:[(null==(l=e.documents)?void 0:l.filter(e=>e.verified).length)||0," verified"]})]}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.jsx(r,{to:`/landofficer/property-detail-verification/${e._id}`,className:"text-primary hover:text-primary-dark mr-3",children:"View Details"}),"pending"===e.status&&q(e)&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>{u(e),j(!0)},className:"text-green-600 hover:text-green-800 mr-3",children:"Approve"}),T.jsx("button",{onClick:()=>{u(e),b(!0)},className:"text-accent hover:text-accent-dark",children:"Reject"})]})]})]},e._id)})})]})})})]}),p&&h&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Property Details"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Plot Number"}),T.jsx("p",{className:"font-medium",children:h.plotNumber})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property Type"}),T.jsx("p",{className:"font-medium capitalize",children:h.propertyType})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Area (sq. meters)"}),T.jsx("p",{className:"font-medium",children:h.area})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),T.jsx("p",{className:"font-medium capitalize",children:h.status.replace("_"," ")})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),T.jsxs("p",{className:"font-medium",children:[(null==(s=h.location)?void 0:s.subCity)||"N/A",", ",(null==(t=h.location)?void 0:t.kebele)||"N/A"]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Registration Date"}),T.jsx("p",{className:"font-medium",children:B(h.registrationDate)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner"}),T.jsx("p",{className:"font-medium",children:(null==(a=h.owner)?void 0:a.fullName)||"Unknown"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner Contact"}),T.jsx("p",{className:"font-medium",children:(null==(i=h.owner)?void 0:i.email)||"No email"})]})]}),h.reviewNotes&&T.jsxs("div",{className:"mt-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Review Notes"}),T.jsx("p",{className:"p-2 bg-gray-50 rounded mt-1",children:h.reviewNotes})]}),T.jsxs("div",{className:"mt-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Documents"}),h.documents&&h.documents.length>0?T.jsx("div",{className:"space-y-2",children:h.documents.map(e=>T.jsxs("div",{className:"p-3 border rounded flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:e.documentType}),T.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",B(e.uploadDate)]}),e.verificationNotes&&T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Note: ",e.verificationNotes]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+(!0===e.verified?"bg-green-100 text-green-800":!1===e.verified?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:!0===e.verified?"Verified":!1===e.verified?"Rejected":"Pending"}),T.jsx("button",{onClick:()=>V(e._id),className:"text-blue-600 hover:text-blue-800 text-sm",title:"Preview Document",children:T.jsx(ze,{className:"h-4 w-4"})}),T.jsx("button",{onClick:()=>U(e._id),className:"text-green-600 hover:text-green-800 text-sm",title:"Download Document",children:T.jsx(_,{className:"h-4 w-4"})}),T.jsx("button",{onClick:()=>{k(e),P(e.verificationNotes||""),v(!0)},className:"text-primary hover:text-primary-dark text-sm",children:void 0!==e.verified?"Update":"Verify"})]})]},e._id))}):T.jsx("p",{className:"text-gray-500",children:"No documents uploaded"})]}),T.jsxs("div",{className:"mt-6 flex justify-between",children:[T.jsx("div",{children:"pending"===h.status&&q(h)&&T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>{f(!1),j(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve Property"}),T.jsx("button",{onClick:()=>{f(!1),b(!0)},className:"px-4 py-2 bg-accent text-white rounded-md hover:bg-accent-dark",children:"Reject Property"})]})}),T.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Close"})]})]})}),N&&w&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verify Document"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Document Type"}),T.jsx("p",{className:"font-medium",children:w.documentType})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Uploaded On"}),T.jsx("p",{className:"font-medium",children:B(w.uploadDate)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Document Actions"}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs("button",{onClick:()=>V(w._id),className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[T.jsx(ze,{className:"h-4 w-4 mr-1"}),"Preview"]}),T.jsxs("button",{onClick:()=>U(w._id),className:"inline-flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:[T.jsx(_,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"verificationNotes",className:"form-label",children:"Verification Notes"}),T.jsx("textarea",{id:"verificationNotes",className:"form-input",rows:"3",value:R,onChange:e=>P(e.target.value),placeholder:"Add any notes about this document"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 bg-accent text-white rounded-md hover:bg-accent-dark",children:"Reject Document"}),T.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Verify Document"})]})]})}),g&&h&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Approve Property"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to approve the property with plot number ",T.jsx("span",{className:"font-semibold",children:h.plotNumber}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"approvalNotes",className:"form-label",children:"Approval Notes (Optional)"}),T.jsx("textarea",{id:"approvalNotes",className:"form-input",rows:"3",value:S,onChange:e=>C(e.target.value),placeholder:"Add any notes or comments about this approval"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await ua(h._id,S),j(!1),u(null),C(""),m.success("Property approved successfully"),M()}catch(e){m.error(e.message||"Failed to approve property")}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Approve"})]})]})}),y&&h&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reject Property"}),T.jsxs("p",{className:"mb-4",children:["Are you sure you want to reject the property with plot number ",T.jsx("span",{className:"font-semibold",children:h.plotNumber}),"?"]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("label",{htmlFor:"rejectionReason",className:"form-label",children:["Reason for Rejection ",T.jsx("span",{className:"text-red-500",children:"*"})]}),T.jsx("textarea",{id:"rejectionReason",className:"form-input",rows:"3",value:A,onChange:e=>E(e.target.value),placeholder:"Provide a reason for rejecting this property",required:!0}),!A&&T.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Reason is required"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsx("button",{onClick:async()=>{try{await pa(h._id,A),b(!1),u(null),E(""),m.success("Property rejected successfully"),M()}catch(e){m.error(e.message||"Failed to reject property")}},disabled:!A,className:"px-4 py-2 rounded-md "+(A?"bg-accent text-white hover:bg-accent-dark":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:"Reject"})]})]})})]})},ti=()=>{var s,t,r,a;const[i,n]=e.useState([]),[l,o]=e.useState(!0),[c,d]=e.useState(null),[x,h]=e.useState(null),[u,p]=e.useState(!1),[f,g]=e.useState(""),[j,y]=e.useState("pending"),[b,N]=e.useState(""),[v,w]=e.useState(""),[k,S]=e.useState(1),[C,A]=e.useState(1),[E]=e.useState(10);console.log("DocumentValidation component loaded"),e.useEffect(()=>{R()},[k,j,b]);const R=async()=>{try{o(!0),console.log("Fetching documents...");const e={page:k,limit:E,status:j||void 0,documentType:b||void 0,search:v||void 0},s=await(async(e={})=>{var s;try{return(await Mr.get("/documents",{params:e})).data}catch(c){throw(null==(s=c.response)?void 0:s.data)||{message:"Failed to fetch documents"}}})(e);console.log("Documents response:",s),n(s.documents||[]),A(s.totalPages||1),o(!1)}catch(e){console.error("Error fetching documents:",e),d(e.message||"Failed to fetch documents"),o(!1),m.error(e.message||"Failed to fetch documents"),n([])}},P=async e=>{try{e?await ga(x._id,f):await ja(x._id,f),p(!1),h(null),g(""),m.success(`Document ${e?"verified":"rejected"} successfully`),R()}catch(s){m.error(s.message||"Failed to verify document")}},D=async e=>{console.log("DocumentValidation: Starting download for document ID:",e);try{await ya(e),m.success("Document downloaded successfully")}catch(s){console.error("DocumentValidation: Download error:",s),m.error("Failed to download document: "+s.message)}},L=async e=>{console.log("DocumentValidation: Starting preview for document ID:",e);try{await ba(e),m.success("Document preview opened")}catch(s){console.error("DocumentValidation: Preview error:",s),m.error("Failed to preview document: "+s.message)}},O=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",F=e=>{switch(e){case"verified":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"needs_update":return"bg-orange-100 text-orange-800";default:return"bg-yellow-100 text-yellow-800"}},M=e=>{switch(e){case"verified":return"Verified";case"rejected":return"Rejected";case"needs_update":return"Needs Update";default:return"Pending"}},I=e=>{switch(e){case"title_deed":return"Title Deed";case"id_copy":return"ID Copy";case"application_form":return"Application Form";case"tax_clearance":return"Tax Clearance";case"other":return"Other";default:return e?e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"}};return l&&0===i.length?T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Document Validation"}),T.jsxs("div",{className:"flex justify-center items-center h-64",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),T.jsx("span",{className:"ml-4",children:"Loading documents..."})]})]})}):T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Document Validation"}),T.jsx("p",{className:"text-gray-600",children:"Verify and validate property documents"})]}),T.jsx("div",{className:"mt-4 md:mt-0",children:T.jsxs("div",{className:"flex items-center text-sm",children:[T.jsxs("div",{className:"flex items-center mr-4",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-400 mr-1"}),T.jsx("span",{children:"Pending"})]}),T.jsxs("div",{className:"flex items-center mr-4",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-green-400 mr-1"}),T.jsx("span",{children:"Verified"})]}),T.jsxs("div",{className:"flex items-center mr-4",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-red-400 mr-1"}),T.jsx("span",{children:"Rejected"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-400 mr-1"}),T.jsx("span",{children:"Needs Update"})]})]})})]}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),S(1),R()},className:"flex-grow",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by property or owner...",className:"form-input rounded-r-none",value:v,onChange:e=>w(e.target.value)}),T.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark",children:T.jsx(ze,{className:"h-5 w-5"})})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:j,onChange:e=>{y(e.target.value),S(1)},children:[T.jsx("option",{value:"",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"verified",children:"Verified"}),T.jsx("option",{value:"rejected",children:"Rejected"}),T.jsx("option",{value:"needs_update",children:"Needs Update"})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:b,onChange:e=>{N(e.target.value),S(1)},children:[T.jsx("option",{value:"",children:"All Types"}),T.jsx("option",{value:"title_deed",children:"Title Deed"}),T.jsx("option",{value:"id_copy",children:"ID Copy"}),T.jsx("option",{value:"application_form",children:"Application Form"}),T.jsx("option",{value:"tax_clearance",children:"Tax Clearance"}),T.jsx("option",{value:"other",children:"Other"})]})})]})}),l?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading documents..."})]}):c?T.jsx("div",{className:"text-center py-8 text-red-500",children:c}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Upload Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===i.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No documents found"})}):i.map(e=>{var s,t,r,a;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm font-medium text-gray-900",children:I(e.documentType)})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(s=e.property)?void 0:s.plotNumber)||"N/A"}),T.jsxs("div",{className:"text-xs text-gray-500",children:[(null==(t=e.property)?void 0:t.propertyType)||"Unknown"," property"]})]}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(r=e.owner)?void 0:r.fullName)||"Unknown"}),T.jsx("div",{className:"text-xs text-gray-500",children:(null==(a=e.owner)?void 0:a.email)||"No email"})]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:O(e.uploadDate)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(e.status)}`,children:M(e.status)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:s=>{s.preventDefault(),console.log("Preview button clicked for document ID:",e._id),L(e._id)},className:"text-blue-600 hover:text-blue-800",title:"Preview Document",children:T.jsx(ze,{className:"h-5 w-5"})}),T.jsx("button",{onClick:s=>{s.preventDefault(),console.log("Download button clicked for document ID:",e._id),console.log("Full document object:",e),D(e._id)},className:"text-primary hover:text-primary-dark",title:"Download Document",children:T.jsx(_,{className:"h-5 w-5"})}),T.jsx("button",{onClick:()=>{h(e),g(e.verificationNotes||""),p(!0)},className:"text-secondary hover:text-secondary-dark",title:"pending"===e.status?"Verify Document":"Update Verification",children:T.jsx(ke,{className:"h-5 w-5"})})]})})]},e._id)})})]})}),C>1&&T.jsxs("div",{className:"flex justify-between items-center mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-500",children:["Showing page ",k," of ",C]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>S(Math.max(1,k-1)),disabled:1===k,className:"px-3 py-1 rounded-md "+(1===k?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Previous"}),T.jsx("button",{onClick:()=>S(Math.min(C,k+1)),disabled:k===C,className:"px-3 py-1 rounded-md "+(k===C?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Next"})]})]})]})]}),u&&x&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Document Verification"}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium mb-4",children:"Document Information"}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Document Type"}),T.jsx("p",{className:"font-medium",children:I(x.documentType)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Document Name"}),T.jsx("p",{className:"font-medium",children:x.documentName||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"File Type"}),T.jsx("p",{className:"font-medium",children:x.fileType||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"File Size"}),T.jsx("p",{className:"font-medium",children:x.fileSize?`${(x.fileSize/1024/1024).toFixed(2)} MB`:"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Upload Date"}),T.jsx("p",{className:"font-medium",children:O(x.uploadDate)})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Current Status"}),T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${F(x.status)}`,children:M(x.status)})]})]}),T.jsxs("div",{className:"mt-6",children:[T.jsx("h4",{className:"text-md font-medium mb-3",children:"Property & Owner Details"}),T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property Plot Number"}),T.jsx("p",{className:"font-medium",children:(null==(s=x.property)?void 0:s.plotNumber)||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property Type"}),T.jsx("p",{className:"font-medium capitalize",children:(null==(t=x.property)?void 0:t.propertyType)||"N/A"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner Name"}),T.jsx("p",{className:"font-medium",children:(null==(r=x.owner)?void 0:r.fullName)||"Unknown"})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner Email"}),T.jsx("p",{className:"font-medium",children:(null==(a=x.owner)?void 0:a.email)||"N/A"})]})]})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-medium mb-4",children:"Document Access"}),T.jsx("div",{className:"bg-gray-100 p-4 rounded-lg",children:T.jsxs("div",{className:"text-center text-gray-500 py-8",children:[T.jsx(ke,{className:"h-12 w-12 mx-auto mb-2"}),T.jsx("p",{className:"mb-2",children:"Preview or download the document to verify its contents"}),T.jsxs("p",{className:"text-sm mb-4",children:["File Type: ",x.fileType||"Unknown"]}),T.jsxs("div",{className:"flex justify-center space-x-3",children:[T.jsxs("button",{onClick:e=>{e.preventDefault(),console.log("Modal preview button clicked for document ID:",x._id),L(x._id)},className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[T.jsx(ze,{className:"h-4 w-4 mr-2"}),"Preview Document"]}),T.jsxs("button",{onClick:e=>{e.preventDefault(),console.log("Modal download button clicked for document ID:",x._id),console.log("Selected document object:",x),D(x._id)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[T.jsx(_,{className:"h-4 w-4 mr-2"}),"Download Document"]})]})]})})]})]}),T.jsxs("div",{className:"mt-6",children:[T.jsx("label",{htmlFor:"verificationNotes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Notes"}),T.jsx("textarea",{id:"verificationNotes",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"4",value:f,onChange:e=>g(e.target.value),placeholder:"Add notes about this verification (required for rejection)"})]}),x.verificationNotes&&T.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[T.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Previous Verification Notes:"}),T.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:x.verificationNotes})]}),T.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[T.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsxs("button",{onClick:()=>P(!1),disabled:!f.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",title:f.trim()?"Reject document":"Notes required for rejection",children:[T.jsx(xs,{className:"h-5 w-5 mr-1"}),"Reject"]}),T.jsxs("button",{onClick:()=>P(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Verify"]})]})]})})]})},ri=()=>{var s,t;const[r,a]=e.useState([]),[i,n]=e.useState(!0),[l,o]=e.useState(null),[c,d]=e.useState(null),[x,h]=e.useState(!1),[u,p]=e.useState(""),[f,g]=e.useState("pending"),[j,y]=e.useState(""),[b,N]=e.useState(""),[v,w]=e.useState(1),[k,S]=e.useState(1),[C]=e.useState(10);e.useEffect(()=>{A()},[v,f,j]);const A=async()=>{try{n(!0);const e={page:v,limit:C,status:f||void 0,paymentType:j||void 0,search:b||void 0},s=await Xa(e);a(s.payments||[]),S(s.totalPages||1),n(!1)}catch(e){o(e.message||"Failed to fetch payments"),n(!1),m.error(e.message||"Failed to fetch payments")}},E=async e=>{try{e?await Ya(c._id,u):await Qa(c._id,u),h(!1),d(null),p(""),m.success(`Payment ${e?"verified":"rejected"} successfully`),A()}catch(s){m.error(s.message||"Failed to verify payment")}},R=async e=>{try{await(async e=>{var s;try{const s=await Mr.get(`/payments/${e}/receipt`,{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([s.data])),r=document.createElement("a");r.href=t;const a=s.headers["content-disposition"];let i=`receipt-${e}.pdf`;if(a){const e=a.match(/filename="(.+)"/);e&&2===e.length&&(i=e[1])}return r.setAttribute("download",i),document.body.appendChild(r),r.click(),r.remove(),!0}catch(l){throw(null==(s=l.response)?void 0:s.data)||{message:"Failed to download receipt"}}})(e),m.success("Receipt downloaded successfully")}catch(s){m.error(s.message||"Failed to download receipt")}},P=(e,s)=>`${e.toLocaleString()} ${s}`,D=e=>{switch(e){case"verified":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":case void 0:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},L=e=>{switch(e){case"registration_fee":return"Registration Fee";case"certificate_fee":return"Certificate Fee";case"transfer_fee":return"Transfer Fee";case"modification_fee":return"Modification Fee";default:return e.replace("_"," ")}},O=e=>{switch(e){case"cbe_birr":return"CBE Birr";case"telebirr":return"TeleBirr";case"amole":return"Amole";case"bank_transfer":return"Bank Transfer";default:return e?e.replace("_"," "):"N/A"}};return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Payment Verification"}),T.jsx("p",{className:"text-gray-600",children:"Verify and validate property payments"})]}),T.jsx("div",{className:"mt-4 md:mt-0",children:T.jsxs("div",{className:"flex items-center text-sm",children:[T.jsxs("div",{className:"flex items-center mr-4",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-400 mr-1"}),T.jsx("span",{children:"Pending"})]}),T.jsxs("div",{className:"flex items-center mr-4",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-green-400 mr-1"}),T.jsx("span",{children:"Verified"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("span",{className:"w-3 h-3 rounded-full bg-red-400 mr-1"}),T.jsx("span",{children:"Rejected"})]})]})})]}),T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[T.jsx("form",{onSubmit:e=>{e.preventDefault(),w(1),A()},className:"flex-grow",children:T.jsxs("div",{className:"flex",children:[T.jsx("input",{type:"text",placeholder:"Search by property, owner, or transaction ID...",className:"form-input rounded-r-none",value:b,onChange:e=>N(e.target.value)}),T.jsx("button",{type:"submit",className:"bg-primary text-white px-4 py-2 rounded-r-md hover:bg-primary-dark",children:T.jsx(ze,{className:"h-5 w-5"})})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:f,onChange:e=>{g(e.target.value),w(1)},children:[T.jsx("option",{value:"",children:"All Statuses"}),T.jsx("option",{value:"pending",children:"Pending"}),T.jsx("option",{value:"verified",children:"Verified"}),T.jsx("option",{value:"rejected",children:"Rejected"})]})}),T.jsx("div",{className:"w-full md:w-48",children:T.jsxs("select",{className:"form-input w-full",value:j,onChange:e=>{y(e.target.value),w(1)},children:[T.jsx("option",{value:"",children:"All Types"}),T.jsx("option",{value:"registration_fee",children:"Registration Fee"}),T.jsx("option",{value:"certificate_fee",children:"Certificate Fee"}),T.jsx("option",{value:"transfer_fee",children:"Transfer Fee"}),T.jsx("option",{value:"modification_fee",children:"Modification Fee"})]})})]})}),i?T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"}),T.jsx("p",{className:"mt-2",children:"Loading payments..."})]}):l?T.jsx("div",{className:"text-center py-8 text-red-500",children:l}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:0===r.length?T.jsx("tr",{children:T.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"No payments found"})}):r.map(e=>{var s,t,r,a,i;return T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm font-medium text-gray-900",children:e._id})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(s=e.property)?void 0:s.plotNumber)||"N/A"}),T.jsxs("div",{className:"text-xs text-gray-500",children:[(null==(t=e.property)?void 0:t.propertyType)||"Unknown"," property"]})]}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[T.jsx("div",{className:"text-sm text-gray-900",children:(null==(r=e.owner)?void 0:r.fullName)||"Unknown"}),T.jsx("div",{className:"text-xs text-gray-500",children:(null==(a=e.owner)?void 0:a.email)||"No email"})]}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:P(e.amount,e.currency)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:L(e.paymentType)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:O(e.paymentMethod)})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("div",{className:"text-sm text-gray-900",children:(i=e.paymentDate,i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D(e.verificationStatus)}`,children:"verified"===e.verificationStatus?"Verified":"rejected"===e.verificationStatus?"Rejected":"Pending"})}),T.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[T.jsx("button",{onClick:()=>R(e._id),className:"text-primary hover:text-primary-dark mr-3",title:"Download Receipt",children:T.jsx(_,{className:"h-5 w-5"})}),void 0===e.verificationStatus&&T.jsx("button",{onClick:()=>{d(e),p(""),h(!0)},className:"text-secondary hover:text-secondary-dark",title:"Verify Payment",children:T.jsx(be,{className:"h-5 w-5"})})]})]},e._id)})})]})}),k>1&&T.jsxs("div",{className:"flex justify-between items-center mt-6",children:[T.jsxs("div",{className:"text-sm text-gray-500",children:["Showing page ",v," of ",k]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>w(Math.max(1,v-1)),disabled:1===v,className:"px-3 py-1 rounded-md "+(1===v?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Previous"}),T.jsx("button",{onClick:()=>w(Math.min(k,v+1)),disabled:v===k,className:"px-3 py-1 rounded-md "+(v===k?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-primary-dark"),children:"Next"})]})]})]})]}),x&&c&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verify Payment"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Payment ID"}),T.jsx("p",{className:"font-medium",children:c._id})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Property"}),T.jsx("p",{className:"font-medium",children:(null==(s=c.property)?void 0:s.plotNumber)||"N/A"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Owner"}),T.jsx("p",{className:"font-medium",children:(null==(t=c.owner)?void 0:t.fullName)||"Unknown"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),T.jsx("p",{className:"font-medium",children:P(c.amount,c.currency)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Payment Type"}),T.jsx("p",{className:"font-medium",children:L(c.paymentType)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Payment Method"}),T.jsx("p",{className:"font-medium",children:O(c.paymentMethod)})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Transaction ID"}),T.jsx("p",{className:"font-medium",children:c.transactionId||"N/A"})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"verificationNotes",className:"form-label",children:"Verification Notes"}),T.jsx("textarea",{id:"verificationNotes",className:"form-input",rows:"3",value:u,onChange:e=>p(e.target.value),placeholder:"Add any notes about this payment"})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),T.jsxs("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",children:[T.jsx(xs,{className:"h-5 w-5 mr-1"}),"Reject"]}),T.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",children:[T.jsx(ne,{className:"h-5 w-5 mr-1"}),"Verify"]})]})]})})]})},ai=()=>{const[s,t]=e.useState("summary"),[r,a]=e.useState(!1),i={totalProperties:1250,pendingApplications:45,approvedApplications:1180,totalDocuments:3750,verifiedDocuments:3200,pendingDocuments:480,rejectedDocuments:70,totalUsers:890,activeUsers:750,landOfficers:12,recentActivity:[{date:"2023-12-01",action:"Property Approved",count:15},{date:"2023-12-02",action:"Documents Verified",count:28},{date:"2023-12-03",action:"New Applications",count:12},{date:"2023-12-04",action:"Property Approved",count:18},{date:"2023-12-05",action:"Documents Verified",count:22}]};return T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Reports & Analytics"}),T.jsx("p",{className:"text-gray-600",children:"View system statistics and generate reports"})]}),T.jsx("div",{className:"mt-4 md:mt-0",children:T.jsxs("button",{onClick:()=>{return e="summary",void m.success(`${e.charAt(0).toUpperCase()+e.slice(1)} report download initiated`);var e},className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark flex items-center",children:[T.jsx(_,{className:"h-5 w-5 mr-1"}),"Download Report"]})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[T.jsx("div",{className:"bg-blue-50 p-6 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Me,{className:"h-8 w-8 text-blue-600"}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Properties"}),T.jsx("p",{className:"text-2xl font-bold text-blue-900",children:i.totalProperties})]})]})}),T.jsx("div",{className:"bg-green-50 p-6 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(ae,{className:"h-8 w-8 text-green-600"}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-green-600",children:"Approved"}),T.jsx("p",{className:"text-2xl font-bold text-green-900",children:i.approvedApplications})]})]})}),T.jsx("div",{className:"bg-yellow-50 p-6 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ce,{className:"h-8 w-8 text-yellow-600"}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Pending"}),T.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:i.pendingApplications})]})]})}),T.jsx("div",{className:"bg-purple-50 p-6 rounded-lg",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(Qe,{className:"h-8 w-8 text-purple-600"}),T.jsxs("div",{className:"ml-4",children:[T.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Users"}),T.jsx("p",{className:"text-2xl font-bold text-purple-900",children:i.totalUsers})]})]})})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[T.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Document Statistics"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Total Documents:"}),T.jsx("span",{className:"font-medium",children:i.totalDocuments})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Verified:"}),T.jsx("span",{className:"font-medium text-green-600",children:i.verifiedDocuments})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Pending:"}),T.jsx("span",{className:"font-medium text-yellow-600",children:i.pendingDocuments})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Rejected:"}),T.jsx("span",{className:"font-medium text-red-600",children:i.rejectedDocuments})]})]})]}),T.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Statistics"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Total Users:"}),T.jsx("span",{className:"font-medium",children:i.totalUsers})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Active Users:"}),T.jsx("span",{className:"font-medium text-green-600",children:i.activeUsers})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-gray-600",children:"Land Officers:"}),T.jsx("span",{className:"font-medium text-blue-600",children:i.landOfficers})]})]})]})]}),T.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[T.jsx("thead",{className:"bg-gray-50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),T.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"})]})}),T.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.recentActivity.map((e,s)=>T.jsxs("tr",{children:[T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.date}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.action}),T.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.count})]},s))})]})})]})]})})},ii=()=>{const{user:s}=Vr(),[t,r]=e.useState(!1),[a,i]=e.useState({fullName:"",email:"",phone:"",employeeId:"",department:"",position:"",joinDate:"",address:""}),[n,l]=e.useState(!1),[o,c]=e.useState(!1),[d,x]=e.useState({currentPassword:"",newPassword:"",confirmPassword:""});e.useEffect(()=>{r(!0),setTimeout(()=>{i({fullName:(null==s?void 0:s.fullName)||"",email:(null==s?void 0:s.email)||"",phone:"",employeeId:"",department:"",position:"",joinDate:"",address:""}),r(!1)},1e3)},[s]);const h=e=>{const{name:s,value:t}=e.target;i(e=>({...e,[s]:t}))},u=e=>{const{name:s,value:t}=e.target;x(e=>({...e,[s]:t}))};return t&&!a.fullName?T.jsx("div",{className:"flex justify-center items-center h-64",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):T.jsx("div",{className:"container mx-auto px-4 py-8",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:"My Profile"}),T.jsx("p",{className:"text-gray-600",children:"Manage your account information"})]}),T.jsx("div",{className:"mt-4 md:mt-0",children:!n&&!o&&T.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",children:"Edit Profile"})})]}),o?T.jsxs("div",{className:"max-w-md mx-auto",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),T.jsxs("form",{onSubmit:e=>{e.preventDefault(),d.newPassword===d.confirmPassword?(r(!0),setTimeout(()=>{c(!1),x({currentPassword:"",newPassword:"",confirmPassword:""}),r(!1),m.success("Password updated successfully")},1e3)):m.error("New passwords do not match")},children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"currentPassword",className:"form-label",children:"Current Password"}),T.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",className:"form-input",value:d.currentPassword,onChange:u,required:!0})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"newPassword",className:"form-label",children:"New Password"}),T.jsx("input",{type:"password",id:"newPassword",name:"newPassword",className:"form-input",value:d.newPassword,onChange:u,required:!0,minLength:"8"}),T.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm New Password"}),T.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:"form-input",value:d.confirmPassword,onChange:u,required:!0})]}),T.jsxs("div",{className:"flex justify-end space-x-3",children:[T.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100",disabled:t,children:"Cancel"}),T.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",disabled:t,children:t?"Updating...":"Update Password"})]})]})]}):T.jsx("div",{children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[T.jsx("div",{className:"md:w-1/3",children:T.jsxs("div",{className:"flex flex-col items-center",children:[T.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center mb-4",children:T.jsx(as,{className:"w-24 h-24 text-gray-400"})}),T.jsx("h2",{className:"text-xl font-semibold",children:a.fullName}),T.jsx("p",{className:"text-gray-600",children:a.position}),T.jsx("p",{className:"text-sm text-gray-500",children:a.department}),!n&&T.jsxs("button",{onClick:()=>c(!0),className:"mt-6 px-4 py-2 border border-primary text-primary rounded-md hover:bg-primary hover:text-white transition-colors flex items-center",children:[T.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})}),T.jsx("div",{className:"md:w-2/3",children:n?T.jsxs("form",{onSubmit:e=>{e.preventDefault(),r(!0),setTimeout(()=>{l(!1),r(!1),m.success("Profile updated successfully")},1e3)},children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),T.jsx("input",{type:"text",id:"fullName",name:"fullName",className:"form-input",value:a.fullName,onChange:h,required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),T.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:a.email,onChange:h,required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),T.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-input",value:a.phone,onChange:h})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"address",className:"form-label",children:"Address"}),T.jsx("input",{type:"text",id:"address",name:"address",className:"form-input",value:a.address,onChange:h})]})]}),T.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[T.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-100",disabled:t,children:"Cancel"}),T.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",disabled:t,children:t?"Saving...":"Save Changes"})]})]}):T.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Personal Information"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),T.jsx("p",{className:"font-medium",children:a.fullName})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-1"}),T.jsx("p",{className:"font-medium",children:a.email})]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(Je,{className:"w-4 h-4 text-gray-400 mr-1"}),T.jsx("p",{className:"font-medium",children:a.phone})]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),T.jsx("p",{className:"font-medium",children:a.address})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Employee ID"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(_e,{className:"w-4 h-4 text-gray-400 mr-1"}),T.jsx("p",{className:"font-medium",children:a.employeeId})]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(ee,{className:"w-4 h-4 text-gray-400 mr-1"}),T.jsx("p",{className:"font-medium",children:a.department})]})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Position"}),T.jsx("p",{className:"font-medium",children:a.position})]}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm text-gray-500",children:"Join Date"}),T.jsx("p",{className:"font-medium",children:new Date(a.joinDate).toLocaleDateString()})]})]})]})})]})})]})})};function ni(){return T.jsx(o,{children:T.jsxs(c,{children:[T.jsx(d,{path:"/",element:T.jsx("div",{className:"flex flex-col min-h-screen",children:T.jsx("main",{className:"flex-grow",children:T.jsx(la,{})})})}),T.jsx(d,{path:"/admin-login",element:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(zr,{}),T.jsx("main",{className:"flex-grow",children:T.jsx(aa,{})}),T.jsx(qr,{})]})}),T.jsx(d,{path:"/login/land-officer",element:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(zr,{}),T.jsx("main",{className:"flex-grow",children:T.jsx(ia,{})}),T.jsx(qr,{})]})}),T.jsx(d,{path:"/about",element:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(zr,{}),T.jsx("main",{className:"flex-grow",children:T.jsx(Xr,{})}),T.jsx(qr,{})]})}),T.jsx(d,{path:"/services",element:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(zr,{}),T.jsx("main",{className:"flex-grow",children:T.jsx(ea,{})}),T.jsx(qr,{})]})}),T.jsx(d,{path:"/contact",element:T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(zr,{}),T.jsx("main",{className:"flex-grow",children:T.jsx(sa,{})}),T.jsx(qr,{})]})}),T.jsxs(d,{element:T.jsx(Qr,{allowedRoles:["landOfficer"]}),children:[T.jsx(d,{path:"/landofficer/dashboard",element:T.jsx(Yr,{children:T.jsx(Ta,{})})}),T.jsx(d,{path:"/landofficer/property-verification",element:T.jsx(Yr,{children:T.jsx(si,{})})}),T.jsx(d,{path:"/landofficer/property-detail-verification/:id",element:T.jsx(Yr,{children:T.jsx(Fa,{})})}),T.jsx(d,{path:"/landofficer/document-validation",element:T.jsx(Yr,{children:T.jsx(ti,{})})}),T.jsx(d,{path:"/landofficer/payment-verification",element:T.jsx(Yr,{children:T.jsx(ri,{})})}),T.jsx(d,{path:"/landofficer/reports",element:T.jsx(Yr,{children:T.jsx(ai,{})})}),T.jsx(d,{path:"/landofficer/profile",element:T.jsx(Yr,{children:T.jsx(ii,{})})})]}),T.jsxs(d,{element:T.jsx(Qr,{allowedRoles:["admin"]}),children:[T.jsx(d,{path:"/admin/dashboard",element:T.jsx(Yr,{children:T.jsx(Va,{})})}),T.jsx(d,{path:"/admin/users",element:T.jsx(Yr,{children:T.jsx(qa,{})})}),T.jsx(d,{path:"/admin/users/new",element:T.jsx(Yr,{children:T.jsx($a,{})})}),T.jsx(d,{path:"/admin/users/edit/:id",element:T.jsx(Yr,{children:T.jsx($a,{})})}),T.jsx(d,{path:"/admin/land-officers",element:T.jsx(Yr,{children:T.jsx(Wa,{})})}),T.jsx(d,{path:"/admin/properties",element:T.jsx(Yr,{children:T.jsx(Ha,{})})}),T.jsx(d,{path:"/admin/payments",element:T.jsx(Yr,{children:T.jsx(ei,{})})}),T.jsx(d,{path:"/admin/reports",element:T.jsx(Yr,{children:T.jsx(Ga,{})})}),T.jsx(d,{path:"/admin/settings",element:T.jsx(Yr,{children:T.jsx(Ka,{})})})]}),T.jsx(d,{path:"*",element:T.jsx(Ba,{})})]})})}L(document.getElementById("root")).render(T.jsx(e.StrictMode,{children:T.jsx(Br,{children:T.jsxs(Hr,{children:[T.jsx(ni,{}),T.jsx(x,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})}));
